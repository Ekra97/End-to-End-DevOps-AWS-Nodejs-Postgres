{"format_version":"1.2","terraform_version":"1.9.8","variables":{"admin_users":{"value":["cloud_user"]},"asg_dev_instance_types":{"value":["t3a.medium"]},"asg_sys_instance_types":{"value":["t3a.medium"]},"autoscaling_average_cpu":{"value":60},"autoscaling_maximum_size_by_az":{"value":2},"autoscaling_minimum_size_by_az":{"value":1},"aws_access_key":{"value":""},"aws_secret_key":{"value":""},"developer_users":{"value":[]},"environment":{"value":"test"},"kube_monitoring_stack_values":{"value":"grafana:\n  adminUser: admin\n  adminPassword: admin\n  enabled: true\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - grafana.karimdevops.com\n    tls:\n      - secretName: grafana-tls\n        hosts:\n          - grafana.karimdevops.com\n\nalertmanager:\n  enabled: true\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - alertmanager.karimdevops.com\n    tls:\n      - secretName: alertmanager-tls\n        hosts:\n          - alertmanager.karimdevops.com\n\nprometheus:\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - prometheus.karimdevops.com\n    tls:\n      - secretName: prometheus-tls\n        hosts:\n          - prometheus.karimdevops.com\n  prometheusSpec:\n    replicas: 2\n    replicaExternalLabelName: prometheus_replica\n    prometheusExternalLabelName: prometheus_cluster\n    enableAdminAPI: false\n    logFormat: logfmt\n    logLevel: info\n    retention: 120h\n    serviceMonitorSelectorNilUsesHelmValues: false\n    serviceMonitorNamespaceSelector: {}\n    serviceMonitorSelector: {}\n    resources:\n      limits:\n        memory: 2Gi\n      requests:\n        cpu: 500m\n        memory: 2Gi\n\nprometheus-node-exporter:\n  resources:\n    limits:\n      memory: 30Mi\n    requests:\n      cpu: 20m\n      memory: 30Mi\n\nkube-state-metrics:\n  resources:\n    limits:\n      memory: 300Mi\n    requests:\n      cpu: 10m\n      memory: 300Mi\n\nprometheusOperator:\n  resources:\n    limits:\n      memory: 400Mi\n    requests:\n      cpu: 10m\n      memory: 400Mi\n"},"main_network_block":{"value":"10.0.0.0/16"},"name_prefix":{"value":"cluster-1"},"nginx_ingress_values":{"value":"    controller:\n      kind: Deployment\n      podAnnotations:\n        prometheus.io/path: \"/metrics\"\n        prometheus.io/port: \"10254\"\n        prometheus.io/scrape: \"true\"\n      stats:\n        enabled: true\n      metrics:\n        enabled: true\n      publishService:\n        enabled: true\n        publishServicePath: \"$(POD_NAMESPACE)/nginx-ingress-controller\"\n      service:\n        enableHttp: \"true\"\n        enableHttps: \"true\"\n        externalTrafficPolicy: Local\n        type: LoadBalancer\n      autoscaling:\n        enabled: true\n        maxReplicas: 4\n        minReplicas: 1\n        targetCPUUtilizationPercentage: 85\n      resources:\n        requests:\n          cpu: 150m\n          memory: 128Mi\n        limits:\n          cpu: 1\n          memory: 512Mi\n      updateStrategy:\n        type: RollingUpdate\n        rollingUpdate:\n          maxSurge: 1\n          maxUnavailable: 0\n      admissionWebhooks:\n        enabled: false\n    rbac:\n      create: true\n    defaultBackend:\n      enabled: false\n"},"region":{"value":"eu-west-3"},"subnet_prefix_extension":{"value":4},"zone_offset":{"value":8}},"planned_values":{"outputs":{"cluster_endpoint":{"sensitive":false,"type":"string","value":"https://664F193C4205EBC523D1FD032C549B8D.gr7.eu-west-3.eks.amazonaws.com"},"cluster_security_group_id":{"sensitive":false,"type":"string","value":"sg-04b658b30ff02546e"},"ecr_repository_name":{"sensitive":false,"type":"string","value":"nodejs-app"}},"root_module":{"resources":[{"address":"aws_ecr_repository.ecr_repo","mode":"managed","type":"aws_ecr_repository","name":"ecr_repo","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ecr:eu-west-3:686591753714:repository/nodejs-app","encryption_configuration":[{"encryption_type":"AES256","kms_key":""}],"force_delete":null,"id":"nodejs-app","image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"MUTABLE","name":"nodejs-app","registry_id":"686591753714","repository_url":"686591753714.dkr.ecr.eu-west-3.amazonaws.com/nodejs-app","tags":{},"tags_all":{},"timeouts":null},"sensitive_values":{"encryption_configuration":[{}],"image_scanning_configuration":[{}],"tags":{},"tags_all":{}}},{"address":"aws_eip.nat_gw_elastic_ip","mode":"managed","type":"aws_eip","name":"nat_gw_elastic_ip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"allocation_id":"eipalloc-0fa0d49e3e65be2ab","associate_with_private_ip":null,"association_id":"eipassoc-06719a1dcfa59bec9","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0fa0d49e3e65be2ab","instance":"","network_border_group":"eu-west-3","network_interface":"eni-0955c6ab5973ca7f8","private_dns":"ip-10-0-139-180.eu-west-3.compute.internal","private_ip":"10.0.139.180","public_dns":"ec2-13-36-49-96.eu-west-3.compute.amazonaws.com","public_ip":"13.36.49.96","public_ipv4_pool":"amazon","tags":{"Environment":"test","Name":"cluster-1-test-nat-eip","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-nat-eip","Terraform":"true"},"timeouts":null,"vpc":true},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_iam_policy.cluster_autoscaler","mode":"managed","type":"aws_iam_policy","name":"cluster_autoscaler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","description":"EKS cluster-autoscaler policy for cluster cluster-1-test","id":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","name":"cluster-1-test-cluster-autoscaler2024102408283838590000000f","name_prefix":"cluster-1-test-cluster-autoscaler","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:DescribeLaunchTemplateVersions\",\"autoscaling:DescribeTags\",\"autoscaling:DescribeLaunchConfigurations\",\"autoscaling:DescribeAutoScalingInstances\",\"autoscaling:DescribeAutoScalingGroups\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"clusterAutoscalerAll\"},{\"Action\":[\"autoscaling:UpdateAutoScalingGroup\",\"autoscaling:TerminateInstanceInAutoScalingGroup\",\"autoscaling:SetDesiredCapacity\"],\"Condition\":{\"StringEquals\":{\"autoscaling:ResourceTag/k8s.io/cluster-autoscaler/enabled\":\"true\",\"autoscaling:ResourceTag/kubernetes.io/cluster/cluster-1-test\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"clusterAutoscalerOwn\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAZ7XAOXXZMG63DVOEX","tags":{},"tags_all":{}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"helm_release.cluster-autoscaler","mode":"managed","type":"helm_release","name":"cluster-autoscaler","provider_name":"registry.terraform.io/hashicorp/helm","schema_version":1,"values":{"atomic":false,"chart":"cluster-autoscaler","cleanup_on_fail":false,"create_namespace":false,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"cluster-autoscaler","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"1.21.0","chart":"cluster-autoscaler","first_deployed":1729758521,"last_deployed":1729758521,"name":"cluster-autoscaler","namespace":"kube-system","notes":"To verify that cluster-autoscaler has started, run:\n\n  kubectl --namespace=kube-system get pods -l \"app.kubernetes.io/name=aws-cluster-autoscaler,app.kubernetes.io/instance=cluster-autoscaler\"","revision":1,"values":"{\"autoDiscovery\":{\"clusterName\":\"cluster-1-test\",\"enabled\":true},\"awsRegion\":\"eu-west-3\",\"cloudProvider\":\"aws\",\"extraArgs\":{\"scale-down-enabled\":true,\"scale-down-unneeded-time\":\"5m\",\"skip-nodes-with-local-storage\":false,\"skip-nodes-with-system-pods\":false},\"rbac\":{\"create\":true,\"serviceAccount\":{\"annotations\":{\"eks.amazonaws.com/role-arn\":\"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler\"},\"name\":\"cluster-autoscaler-aws\"}}}","version":"9.10.7"}],"name":"cluster-autoscaler","namespace":"kube-system","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://kubernetes.github.io/autoscaler","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[{"name":"autoDiscovery.clusterName","type":"","value":"cluster-1-test"},{"name":"autoDiscovery.enabled","type":"","value":"true"},{"name":"awsRegion","type":"","value":"eu-west-3"},{"name":"cloudProvider","type":"","value":"aws"},{"name":"extraArgs.scale-down-enabled","type":"","value":"true"},{"name":"extraArgs.scale-down-unneeded-time","type":"","value":"5m"},{"name":"extraArgs.skip-nodes-with-local-storage","type":"","value":"false"},{"name":"extraArgs.skip-nodes-with-system-pods","type":"","value":"false"},{"name":"rbac.create","type":"","value":"true"},{"name":"rbac.serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn","type":"","value":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler"},{"name":"rbac.serviceAccount.name","type":"","value":"cluster-autoscaler-aws"}],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"upgrade_install":null,"values":null,"verify":false,"version":"9.10.7","wait":true,"wait_for_jobs":false},"sensitive_values":{"metadata":[{}],"postrender":[],"repository_password":true,"set":[{},{},{},{},{},{},{},{},{},{},{}],"set_list":[],"set_sensitive":[]}},{"address":"helm_release.kube_monitoring_stack","mode":"managed","type":"helm_release","name":"kube_monitoring_stack","provider_name":"registry.terraform.io/hashicorp/helm","schema_version":1,"values":{"atomic":false,"chart":"kube-prometheus-stack","cleanup_on_fail":false,"create_namespace":true,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"kube-prometheus-stack","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"v0.65.1","chart":"kube-prometheus-stack","first_deployed":1729758528,"last_deployed":1729758528,"name":"kube-prometheus-stack","namespace":"monitoring","notes":"1. Get the application URL by running these commands:\n  export POD_NAME=$(kubectl get pods --namespace monitoring -l \"app.kubernetes.io/name=prometheus-node-exporter,app.kubernetes.io/instance=kube-prometheus-stack\" -o jsonpath=\"{.items[0].metadata.name}\")\n  echo \"Visit http://127.0.0.1:9100 to use your application\"\n  kubectl port-forward --namespace monitoring $POD_NAME 9100\nkube-prometheus-stack has been installed. Check its status by running:\n  kubectl --namespace monitoring get pods -l \"release=kube-prometheus-stack\"\n\nVisit https://github.com/prometheus-operator/kube-prometheus for instructions on how to create \u0026 configure Alertmanager and Prometheus instances using the Operator.\n\n1. Get your 'admin' user password by running:\n\n   kubectl get secret --namespace monitoring kube-prometheus-stack-grafana -o jsonpath=\"{.data.admin-password}\" | base64 --decode ; echo\n\n\n2. The Grafana server can be accessed via port 80 on the following DNS name from within your cluster:\n\n   kube-prometheus-stack-grafana.monitoring.svc.cluster.local\n\n   If you bind grafana to 80, please update values in values.yaml and reinstall:\n   ```\n   securityContext:\n     runAsUser: 0\n     runAsGroup: 0\n     fsGroup: 0\n\n   command:\n   - \"setcap\"\n   - \"'cap_net_bind_service=+ep'\"\n   - \"/usr/sbin/grafana-server \u0026\u0026\"\n   - \"sh\"\n   - \"/run.sh\"\n   ```\n   Details refer to https://grafana.com/docs/installation/configuration/#http-port.\n   Or grafana would always crash.\n\n   From outside the cluster, the server URL(s) are:\n     http://grafana.karimdevops.com\n\n3. Login with the password from step 1 and the username: admin\n#################################################################################\n######   WARNING: Persistence is disabled!!! You will lose your data when   #####\n######            the Grafana pod is terminated.                            #####\n#################################################################################\n\nkube-state-metrics is a simple service that listens to the Kubernetes API server and generates metrics about the state of the objects.\nThe exposed metrics can be found here:\nhttps://github.com/kubernetes/kube-state-metrics/blob/master/docs/README.md#exposed-metrics\n\nThe metrics are exported on the HTTP endpoint /metrics on the listening port.\nIn your case, kube-prometheus-stack-kube-state-metrics.monitoring.svc.cluster.local:8080/metrics\n\nThey are served either as plaintext or protobuf depending on the Accept header.\nThey are designed to be consumed either by Prometheus itself or by a scraper that is compatible with scraping a Prometheus client endpoint.\n","revision":1,"values":"{\"alertmanager\":{\"enabled\":true,\"ingress\":{\"annotations\":{\"cert-manager.io/cluster-issuer\":\"letsencrypt-production\"},\"enabled\":true,\"hosts\":[\"alertmanager.karimdevops.com\"],\"ingressClassName\":\"nginx\",\"tls\":[{\"hosts\":[\"alertmanager.karimdevops.com\"],\"secretName\":\"alertmanager-tls\"}]}},\"grafana\":{\"adminPassword\":\"admin\",\"adminUser\":\"admin\",\"enabled\":true,\"ingress\":{\"annotations\":{\"cert-manager.io/cluster-issuer\":\"letsencrypt-production\"},\"enabled\":true,\"hosts\":[\"grafana.karimdevops.com\"],\"ingressClassName\":\"nginx\",\"tls\":[{\"hosts\":[\"grafana.karimdevops.com\"],\"secretName\":\"grafana-tls\"}]}},\"kube-state-metrics\":{\"resources\":{\"limits\":{\"memory\":\"300Mi\"},\"requests\":{\"cpu\":\"10m\",\"memory\":\"300Mi\"}}},\"prometheus\":{\"ingress\":{\"annotations\":{\"cert-manager.io/cluster-issuer\":\"letsencrypt-production\"},\"enabled\":true,\"hosts\":[\"prometheus.karimdevops.com\"],\"ingressClassName\":\"nginx\",\"tls\":[{\"hosts\":[\"prometheus.karimdevops.com\"],\"secretName\":\"prometheus-tls\"}]},\"prometheusSpec\":{\"enableAdminAPI\":false,\"logFormat\":\"logfmt\",\"logLevel\":\"info\",\"prometheusExternalLabelName\":\"prometheus_cluster\",\"replicaExternalLabelName\":\"prometheus_replica\",\"replicas\":2,\"resources\":{\"limits\":{\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"500m\",\"memory\":\"2Gi\"}},\"retention\":\"120h\",\"serviceMonitorNamespaceSelector\":{},\"serviceMonitorSelector\":{},\"serviceMonitorSelectorNilUsesHelmValues\":false}},\"prometheus-node-exporter\":{\"resources\":{\"limits\":{\"memory\":\"30Mi\"},\"requests\":{\"cpu\":\"20m\",\"memory\":\"30Mi\"}}},\"prometheusOperator\":{\"resources\":{\"limits\":{\"memory\":\"400Mi\"},\"requests\":{\"cpu\":\"10m\",\"memory\":\"400Mi\"}}}}","version":"45.29.0"}],"name":"kube-prometheus-stack","namespace":"monitoring","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://prometheus-community.github.io/helm-charts","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"upgrade_install":null,"values":["grafana:\n  adminUser: admin\n  adminPassword: admin\n  enabled: true\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - grafana.karimdevops.com\n    tls:\n      - secretName: grafana-tls\n        hosts:\n          - grafana.karimdevops.com\n\nalertmanager:\n  enabled: true\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - alertmanager.karimdevops.com\n    tls:\n      - secretName: alertmanager-tls\n        hosts:\n          - alertmanager.karimdevops.com\n\nprometheus:\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - prometheus.karimdevops.com\n    tls:\n      - secretName: prometheus-tls\n        hosts:\n          - prometheus.karimdevops.com\n  prometheusSpec:\n    replicas: 2\n    replicaExternalLabelName: prometheus_replica\n    prometheusExternalLabelName: prometheus_cluster\n    enableAdminAPI: false\n    logFormat: logfmt\n    logLevel: info\n    retention: 120h\n    serviceMonitorSelectorNilUsesHelmValues: false\n    serviceMonitorNamespaceSelector: {}\n    serviceMonitorSelector: {}\n    resources:\n      limits:\n        memory: 2Gi\n      requests:\n        cpu: 500m\n        memory: 2Gi\n\nprometheus-node-exporter:\n  resources:\n    limits:\n      memory: 30Mi\n    requests:\n      cpu: 20m\n      memory: 30Mi\n\nkube-state-metrics:\n  resources:\n    limits:\n      memory: 300Mi\n    requests:\n      cpu: 10m\n      memory: 300Mi\n\nprometheusOperator:\n  resources:\n    limits:\n      memory: 400Mi\n    requests:\n      cpu: 10m\n      memory: 400Mi\n"],"verify":false,"version":"45.29.0","wait":true,"wait_for_jobs":false},"sensitive_values":{"metadata":[{}],"postrender":[],"repository_password":true,"set":[],"set_list":[],"set_sensitive":[],"values":[false]}},{"address":"helm_release.nginx_ingress","mode":"managed","type":"helm_release","name":"nginx_ingress","provider_name":"registry.terraform.io/hashicorp/helm","schema_version":1,"values":{"atomic":false,"chart":"ingress-nginx","cleanup_on_fail":true,"create_namespace":true,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"nginx-ingress","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"1.3.0","chart":"ingress-nginx","first_deployed":1729758523,"last_deployed":1729758523,"name":"nginx-ingress","namespace":"ingress-nginx","notes":"The ingress-nginx controller has been installed.\nIt may take a few minutes for the LoadBalancer IP to be available.\nYou can watch the status by running 'kubectl --namespace ingress-nginx get services -o wide -w nginx-ingress-ingress-nginx-controller'\n\nAn example Ingress that makes use of the controller:\n  apiVersion: networking.k8s.io/v1\n  kind: Ingress\n  metadata:\n    name: example\n    namespace: foo\n  spec:\n    ingressClassName: nginx\n    rules:\n      - host: www.example.com\n        http:\n          paths:\n            - pathType: Prefix\n              backend:\n                service:\n                  name: exampleService\n                  port:\n                    number: 80\n              path: /\n    # This section is only required if TLS is to be enabled for the Ingress\n    tls:\n      - hosts:\n        - www.example.com\n        secretName: example-tls\n\nIf TLS is enabled for the Ingress, a Secret containing the certificate and key must also be provided:\n\n  apiVersion: v1\n  kind: Secret\n  metadata:\n    name: example-tls\n    namespace: foo\n  data:\n    tls.crt: \u003cbase64 encoded cert\u003e\n    tls.key: \u003cbase64 encoded key\u003e\n  type: kubernetes.io/tls\n","revision":1,"values":"{\"controller\":{\"admissionWebhooks\":{\"enabled\":false},\"autoscaling\":{\"enabled\":true,\"maxReplicas\":4,\"minReplicas\":1,\"targetCPUUtilizationPercentage\":85},\"kind\":\"Deployment\",\"metrics\":{\"enabled\":true},\"podAnnotations\":{\"prometheus.io/path\":\"/metrics\",\"prometheus.io/port\":\"10254\",\"prometheus.io/scrape\":\"true\"},\"publishService\":{\"enabled\":true,\"publishServicePath\":\"$(POD_NAMESPACE)/nginx-ingress-controller\"},\"resources\":{\"limits\":{\"cpu\":1,\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"150m\",\"memory\":\"128Mi\"}},\"service\":{\"enableHttp\":\"true\",\"enableHttps\":\"true\",\"externalTrafficPolicy\":\"Local\",\"type\":\"LoadBalancer\"},\"stats\":{\"enabled\":true},\"updateStrategy\":{\"rollingUpdate\":{\"maxSurge\":1,\"maxUnavailable\":0},\"type\":\"RollingUpdate\"}},\"defaultBackend\":{\"enabled\":false},\"rbac\":{\"create\":true}}","version":"4.2.3"}],"name":"nginx-ingress","namespace":"ingress-nginx","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://kubernetes.github.io/ingress-nginx","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"upgrade_install":null,"values":["    controller:\n      kind: Deployment\n      podAnnotations:\n        prometheus.io/path: \"/metrics\"\n        prometheus.io/port: \"10254\"\n        prometheus.io/scrape: \"true\"\n      stats:\n        enabled: true\n      metrics:\n        enabled: true\n      publishService:\n        enabled: true\n        publishServicePath: \"$(POD_NAMESPACE)/nginx-ingress-controller\"\n      service:\n        enableHttp: \"true\"\n        enableHttps: \"true\"\n        externalTrafficPolicy: Local\n        type: LoadBalancer\n      autoscaling:\n        enabled: true\n        maxReplicas: 4\n        minReplicas: 1\n        targetCPUUtilizationPercentage: 85\n      resources:\n        requests:\n          cpu: 150m\n          memory: 128Mi\n        limits:\n          cpu: 1\n          memory: 512Mi\n      updateStrategy:\n        type: RollingUpdate\n        rollingUpdate:\n          maxSurge: 1\n          maxUnavailable: 0\n      admissionWebhooks:\n        enabled: false\n    rbac:\n      create: true\n    defaultBackend:\n      enabled: false\n"],"verify":false,"version":"4.2.3","wait":true,"wait_for_jobs":false},"sensitive_values":{"metadata":[{}],"postrender":[],"repository_password":true,"set":[],"set_list":[],"set_sensitive":[],"values":[false]}}],"child_modules":[{"resources":[{"address":"module.ebs_csi_irsa_role.aws_iam_policy.ebs_csi[0]","mode":"managed","type":"aws_iam_policy","name":"ebs_csi","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","description":"Provides permissions to manage EBS volumes via the container storage interface driver","id":"arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","name":"AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","name_prefix":"AmazonEKS_EBS_CSI_Policy-","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:ModifyVolume\",\"ec2:EnableFastSnapshotRestores\",\"ec2:DetachVolume\",\"ec2:DescribeVolumesModifications\",\"ec2:DescribeVolumes\",\"ec2:DescribeTags\",\"ec2:DescribeSnapshots\",\"ec2:DescribeInstances\",\"ec2:DescribeAvailabilityZones\",\"ec2:CreateSnapshot\",\"ec2:AttachVolume\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:CreateTags\",\"Condition\":{\"StringEquals\":{\"ec2:CreateAction\":[\"CreateVolume\",\"CreateSnapshot\"]}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"],\"Sid\":\"\"},{\"Action\":\"ec2:DeleteTags\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"],\"Sid\":\"\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/kubernetes.io/cluster/*\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/cluster/*\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/created-for/pvc/name\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteSnapshot\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeSnapshotName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteSnapshot\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAZ7XAOXXZLIRYEJFYV","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.ebs_csi_irsa_role.aws_iam_role.this[0]","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-ebs-csi","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:aud\":\"sts.amazonaws.com\",\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\":\"system:serviceaccount:kube-system:ebs-csi-controller-sa\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:28:39Z","description":"","force_detach_policies":true,"id":"cluster-1-test-ebs-csi","inline_policy":[],"managed_policy_arns":["arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003"],"max_session_duration":3600,"name":"cluster-1-test-ebs-csi","name_prefix":"","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T08:33:13Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZEKWSWEFVB"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false],"role_last_used":[{}],"tags":{},"tags_all":{}}},{"address":"module.ebs_csi_irsa_role.aws_iam_role_policy_attachment.ebs_csi[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"cluster-1-test-ebs-csi-20241024082839641000000013","policy_arn":"arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","role":"cluster-1-test-ebs-csi"},"sensitive_values":{}}],"address":"module.ebs_csi_irsa_role"},{"resources":[{"address":"module.eks.aws_ec2_tag.cluster_primary_security_group[\"Environment\"]","mode":"managed","type":"aws_ec2_tag","name":"cluster_primary_security_group","index":"Environment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sg-052870fb53e73b766,Environment","key":"Environment","resource_id":"sg-052870fb53e73b766","value":"test"},"sensitive_values":{}},{"address":"module.eks.aws_ec2_tag.cluster_primary_security_group[\"Terraform\"]","mode":"managed","type":"aws_ec2_tag","name":"cluster_primary_security_group","index":"Terraform","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sg-052870fb53e73b766,Terraform","key":"Terraform","resource_id":"sg-052870fb53e73b766","value":"true"},"sensitive_values":{}},{"address":"module.eks.aws_eks_addon.this[\"aws-ebs-csi-driver\"]","mode":"managed","type":"aws_eks_addon","name":"this","index":"aws-ebs-csi-driver","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"aws-ebs-csi-driver","addon_version":"v1.35.0-eksbuild.1","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/aws-ebs-csi-driver/20c95ed3-01b8-2ae8-0a73-f79d3f8e55f8","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:aws-ebs-csi-driver","modified_at":"2024-10-24T08:31:14Z","preserve":null,"resolve_conflicts":"OVERWRITE","service_account_role_arn":"arn:aws:iam::686591753714:role/cluster-1-test-ebs-csi","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.eks.aws_eks_addon.this[\"coredns\"]","mode":"managed","type":"aws_eks_addon","name":"this","index":"coredns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"coredns","addon_version":"v1.8.7-eksbuild.7","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/coredns/88c95ed3-01b9-9bc6-0f63-52c598ab6c59","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:coredns","modified_at":"2024-10-24T08:30:42Z","preserve":null,"resolve_conflicts":"OVERWRITE","service_account_role_arn":"","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.eks.aws_eks_addon.this[\"kube-proxy\"]","mode":"managed","type":"aws_eks_addon","name":"this","index":"kube-proxy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"kube-proxy","addon_version":"v1.23.17-eksbuild.3","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/kube-proxy/a0c95ed3-01b5-fff1-2f54-aba00bd8a11a","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:kube-proxy","modified_at":"2024-10-24T08:30:34Z","preserve":null,"resolve_conflicts":null,"service_account_role_arn":"","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.eks.aws_eks_addon.this[\"vpc-cni\"]","mode":"managed","type":"aws_eks_addon","name":"this","index":"vpc-cni","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"vpc-cni","addon_version":"v1.15.1-eksbuild.1","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/vpc-cni/a6c95ed3-01b4-53f9-b703-538999ec8ac6","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:vpc-cni","modified_at":"2024-10-24T08:32:34Z","preserve":null,"resolve_conflicts":"OVERWRITE","service_account_role_arn":"","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.eks.aws_eks_cluster.this[0]","mode":"managed","type":"aws_eks_cluster","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:eks:eu-west-3:686591753714:cluster/cluster-1-test","certificate_authority":[{"data":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJME1UQXlOREE0TWpVd01Gb1hEVE0wTVRBeU1qQTRNalV3TUZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT1V6CmltTlpubE5lTFFrT2paNXlsaThyb3pCWXgwVGRraGxIbW44RlVqaFREbFlPUHVPbHdTQkFJenl1U1F1VjJCMngKVjVmV1JPQnRiODZycGE1OVVGcmUzNEQrS2kzMXpyQVpIU2pSaTUzQUN1VFY1V0JZaEJlRVRlMmFTL0dTN1hkWApzYm84TVk3bXZrbEtpNzlndHNvcC90a3EranVjbG1HMDZXbVNvVHJTU1doa3llajd6ZDhOczFaNTNnWjZCN2x6CjZNNXN5Z3pSYnEzM21OTDlWMkp5NFRwKzR3OTFFdUl2QitTOHExanNhdDgwd2tobGxiT1ZzUU1CalkyT3Zpc1MKODBxbk5RMi9RSXdORkFYQzdJQWcyZ1RTMHQxZ0w1N3N5bHlkQWtCbVoyWTJHREZjT242bUVKTGN5cHYxV2JMSAp0Z2ovaVptWjlJZU9zSkNtSFBjQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZPZHZEWUpCNzZtYzFvUlczRHppcWplWGdXem1NQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBTUcybHJSQWcrQ0dzU1Azdlk1QgpraDdlK1FEbENlRDh5YXdvNW1UYW1RYXRydzc4UElYay9OTHNaRjJ1NjMzMWYwSTl6anhaSmJCbkNjV1ZLQjNoCkxGZVN5VUEvM0MwNHUxSG1kd2t4OU9CYVFxY3ArT29sNjRDWUlXUlkwUDd3NGJ1WFdlbDZvaHNxUXZMV1hlcFYKWXRaN1dsaHdLcjdncmpVVWxtM2lWNUUyaHlmU2FKMEZxQWIzRHJ2OHppTUVZcTlWOTNlbjdaYVp6WUNYdkdzeApXWUd3SGNzeUFuYVVjWGtsN3NZcG1jUVpwK3d5R2M5Q0FMalRwTjBkNnZGOTNiQUIxU3Zicld6WW12K2lYb20wCndOWjdDVWpnWEhLVG12S0VydTRHU3pMREFBSHo3TUE4emhpY3loU0kydGJXYzlsbEdmNHZ0OWVwV01pUkhkZXcKdlNzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="}],"cluster_id":null,"created_at":"2024-10-24 08:21:08.607 +0000 UTC","enabled_cluster_log_types":["api","audit","authenticator"],"encryption_config":[],"endpoint":"https://664F193C4205EBC523D1FD032C549B8D.gr7.eu-west-3.eks.amazonaws.com","id":"cluster-1-test","identity":[{"oidc":[{"issuer":"https://oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D"}]}],"kubernetes_network_config":[{"ip_family":"ipv4","service_ipv4_cidr":"172.20.0.0/16","service_ipv6_cidr":""}],"name":"cluster-1-test","outpost_config":[],"platform_version":"eks.32","role_arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-20241024082046493600000002","status":"ACTIVE","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":{"create":null,"delete":null,"update":null},"version":"1.23","vpc_config":[{"cluster_security_group_id":"sg-052870fb53e73b766","endpoint_private_access":true,"endpoint_public_access":true,"public_access_cidrs":["0.0.0.0/0"],"security_group_ids":["sg-04b658b30ff02546e"],"subnet_ids":["subnet-05e604773ead19337","subnet-0cc42401e36283845"],"vpc_id":"vpc-0ca2f2a87d3be5e08"}]},"sensitive_values":{"certificate_authority":[{}],"enabled_cluster_log_types":[false,false,false],"encryption_config":[],"identity":[{"oidc":[{}]}],"kubernetes_network_config":[{}],"outpost_config":[],"tags":{},"tags_all":{},"timeouts":{},"vpc_config":[{"public_access_cidrs":[false],"security_group_ids":[false],"subnet_ids":[false,false]}]}},{"address":"module.eks.aws_iam_openid_connect_provider.oidc_provider[0]","mode":"managed","type":"aws_iam_openid_connect_provider","name":"oidc_provider","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D","client_id_list":["sts.amazonaws.com"],"id":"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D","tags":{"Environment":"test","Name":"cluster-1-test-eks-irsa","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-eks-irsa","Terraform":"true"},"thumbprint_list":["9e99a48a9960b14926bb7f3b02e22da2b0ab7280","06b25927c42a721631c1efd9431e648fa62e1e39","414a2060b738c635cc7fc243e052615592830c53","0e5107483589d91041a8733fbcf0e964152d1e90"],"url":"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D"},"sensitive_values":{"client_id_list":[false],"tags":{},"tags_all":{},"thumbprint_list":[false,false,false,false]}},{"address":"module.eks.aws_iam_role.this[0]","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-20241024082046493600000002","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Sid\":\"EKSClusterAssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:20:46Z","description":"","force_detach_policies":true,"id":"cluster-1-test-cluster-20241024082046493600000002","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","arn:aws:iam::aws:policy/AmazonEKSVPCResourceController"],"max_session_duration":3600,"name":"cluster-1-test-cluster-20241024082046493600000002","name_prefix":"cluster-1-test-cluster-","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T08:55:56Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZE3IMW242I"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false,false],"role_last_used":[{}],"tags":{},"tags_all":{}}},{"address":"module.eks.aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"cluster-1-test-cluster-20241024082046493600000002-20241024082047420800000005","policy_arn":"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","role":"cluster-1-test-cluster-20241024082046493600000002"},"sensitive_values":{}},{"address":"module.eks.aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEKSVPCResourceController\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEKSVPCResourceController","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"cluster-1-test-cluster-20241024082046493600000002-20241024082047416100000004","policy_arn":"arn:aws:iam::aws:policy/AmazonEKSVPCResourceController","role":"cluster-1-test-cluster-20241024082046493600000002"},"sensitive_values":{}},{"address":"module.eks.aws_security_group.cluster[0]","mode":"managed","type":"aws_security_group","name":"cluster","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-04b658b30ff02546e","description":"EKS cluster security group","egress":[{"cidr_blocks":[],"description":"Cluster API to node groups","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Cluster API to node kubelets","from_port":10250,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":10250}],"id":"sg-04b658b30ff02546e","ingress":[{"cidr_blocks":[],"description":"Node groups to cluster API via port 8443","from_port":8443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":8443},{"cidr_blocks":[],"description":"Node groups to cluster API","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":443}],"name":"cluster-1-test-cluster-2024102408205829690000000a","name_prefix":"cluster-1-test-cluster-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"cluster-1-test-cluster","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-cluster","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"egress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}}},{"address":"module.eks.aws_security_group.node[0]","mode":"managed","type":"aws_security_group","name":"node","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-0751dc8afabcdaeac","description":"EKS node shared security group","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/TCP to internet","from_port":123,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":123},{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/UDP to internet","from_port":123,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":false,"to_port":123},{"cidr_blocks":["0.0.0.0/0"],"description":"Egress all HTTPS to internet","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"Node all egress","from_port":0,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":[],"description":"Node groups to cluster API","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":true,"to_port":53}],"id":"sg-0751dc8afabcdaeac","ingress":[{"cidr_blocks":[],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":["sg-0cf02e08e56b2a6b8"],"self":false,"to_port":0},{"cidr_blocks":[],"description":"Cluster API to node groups","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Cluster API to node kubelets","from_port":10250,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":10250},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node all ports/protocols","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":true,"to_port":0}],"name":"cluster-1-test-node-2024102408205830080000000b","name_prefix":"cluster-1-test-node-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"cluster-1-test-node","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"owned"},"tags_all":{"Environment":"test","Name":"cluster-1-test-node","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"owned"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}},{"address":"module.eks.aws_security_group_rule.cluster[\"egress_nodes_443\"]","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"egress_nodes_443","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Cluster API to node groups","from_port":443,"id":"sgrule-3832824784","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0f83bc40ba26e2c24","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":443,"type":"egress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.cluster[\"egress_nodes_kubelet\"]","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"egress_nodes_kubelet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Cluster API to node kubelets","from_port":10250,"id":"sgrule-89047750","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-00ba18ede70326855","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":10250,"type":"egress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.cluster[\"ingress_nodes_443\"]","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"ingress_nodes_443","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node groups to cluster API","from_port":443,"id":"sgrule-3763320317","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0f83bc40ba26e2c24","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":443,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.cluster[\"ingress_nodes_8443_tcp\"]","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"ingress_nodes_8443_tcp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node groups to cluster API via port 8443","from_port":8443,"id":"sgrule-2386139913","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0fe01059c7a50a81c","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":8443,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.node[\"egress_all\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_all","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"Node all egress","from_port":0,"id":"sgrule-2912202734","ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"","self":false,"source_security_group_id":null,"timeouts":null,"to_port":0,"type":"egress"},"sensitive_values":{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.node[\"egress_cluster_443\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_cluster_443","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node groups to cluster API","from_port":443,"id":"sgrule-973296535","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0d77333d7886e8c33","self":false,"source_security_group_id":"sg-04b658b30ff02546e","timeouts":null,"to_port":443,"type":"egress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.node[\"egress_https\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_https","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"Egress all HTTPS to internet","from_port":443,"id":"sgrule-291372456","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0e34ab605fb394f56","self":false,"source_security_group_id":null,"timeouts":null,"to_port":443,"type":"egress"},"sensitive_values":{"cidr_blocks":[false],"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.node[\"egress_ntp_tcp\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_ntp_tcp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/TCP to internet","from_port":123,"id":"sgrule-3464741046","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0238919dde5d1deaa","self":false,"source_security_group_id":null,"timeouts":null,"to_port":123,"type":"egress"},"sensitive_values":{"cidr_blocks":[false],"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.node[\"egress_ntp_udp\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_ntp_udp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/UDP to internet","from_port":123,"id":"sgrule-2954749371","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"udp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-06fd19386e178d2f7","self":false,"source_security_group_id":null,"timeouts":null,"to_port":123,"type":"egress"},"sensitive_values":{"cidr_blocks":[false],"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.node[\"egress_self_coredns_tcp\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_self_coredns_tcp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-4025882043","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0b10726a79217c75f","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"egress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.node[\"egress_self_coredns_udp\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_self_coredns_udp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-1636931549","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"udp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0f21eca9fe3e64d20","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"egress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.node[\"ingress_cluster_443\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_cluster_443","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Cluster API to node groups","from_port":443,"id":"sgrule-1977202689","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0867aef36d9063e85","self":false,"source_security_group_id":"sg-04b658b30ff02546e","timeouts":null,"to_port":443,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.node[\"ingress_cluster_kubelet\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_cluster_kubelet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Cluster API to node kubelets","from_port":10250,"id":"sgrule-548397254","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-06e4faaacfa31542b","self":false,"source_security_group_id":"sg-04b658b30ff02546e","timeouts":null,"to_port":10250,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.node[\"ingress_self_all\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_self_all","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node to node all ports/protocols","from_port":0,"id":"sgrule-2793813583","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"-1","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0c5ab3d30b091944d","self":true,"source_security_group_id":null,"timeouts":null,"to_port":0,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.node[\"ingress_self_coredns_tcp\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_self_coredns_tcp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-975474555","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0b10726a79217c75f","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]}},{"address":"module.eks.aws_security_group_rule.node[\"ingress_self_coredns_udp\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_self_coredns_udp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-2658872468","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"udp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-07d72a5da5d3541cc","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]}}],"address":"module.eks","child_modules":[{"resources":[{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_eks_node_group.this[0]","mode":"managed","type":"aws_eks_node_group","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"ami_type":"AL2_x86_64","arn":"arn:aws:eks:eu-west-3:686591753714:nodegroup/cluster-1-test/system-20241024082838621000000010/4ec95ed2-2ec0-d833-8508-5d8b20f5fdf0","capacity_type":"ON_DEMAND","cluster_name":"cluster-1-test","disk_size":0,"force_update_version":null,"id":"cluster-1-test:system-20241024082838621000000010","instance_types":["t3a.medium"],"labels":{"Environment":"test"},"launch_template":[{"id":"lt-02a6492477234c3a5","name":"system-2024102408283836090000000d","version":"1"}],"node_group_name":"system-20241024082838621000000010","node_group_name_prefix":"system-","node_role_arn":"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001","release_version":"1.23.17-20240928","remote_access":[],"resources":[{"autoscaling_groups":[{"name":"eks-system-20241024082838621000000010-4ec95ed2-2ec0-d833-8508-5d8b20f5fdf0"}],"remote_access_security_group_id":""}],"scaling_config":[{"desired_size":3,"max_size":6,"min_size":1}],"status":"ACTIVE","subnet_ids":["subnet-05e604773ead19337","subnet-0cc42401e36283845"],"tags":{"Environment":"test","Name":"system","Terraform":"true"},"tags_all":{"Environment":"test","Name":"system","Terraform":"true"},"taint":[],"timeouts":{"create":null,"delete":null,"update":null},"update_config":[{"max_unavailable":1,"max_unavailable_percentage":0}],"version":"1.23"},"sensitive_values":{"instance_types":[false],"labels":{},"launch_template":[{}],"remote_access":[],"resources":[{"autoscaling_groups":[{}]}],"scaling_config":[{}],"subnet_ids":[false,false],"tags":{},"tags_all":{},"taint":[],"timeouts":{},"update_config":[{}]}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role.this[0]","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"EKSNodeAssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:20:46Z","description":"EKS managed node group IAM role","force_detach_policies":true,"id":"system-eks-node-group-20241024082046490600000001","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"],"max_session_duration":3600,"name":"system-eks-node-group-20241024082046490600000001","name_prefix":"system-eks-node-group-","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T09:05:03Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZLPYBAQXWU"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false,false,false],"role_last_used":[{}],"tags":{},"tags_all":{}}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"system-eks-node-group-20241024082046490600000001-20241024082047572800000008","policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","role":"system-eks-node-group-20241024082046490600000001"},"sensitive_values":{}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"system-eks-node-group-20241024082046490600000001-20241024082047570400000007","policy_arn":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","role":"system-eks-node-group-20241024082046490600000001"},"sensitive_values":{}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"system-eks-node-group-20241024082046490600000001-20241024082047503100000006","policy_arn":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy","role":"system-eks-node-group-20241024082046490600000001"},"sensitive_values":{}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_launch_template.this[0]","mode":"managed","type":"aws_launch_template","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:launch-template/lt-02a6492477234c3a5","block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":1,"description":"Custom launch template for system EKS managed node group","disable_api_stop":false,"disable_api_termination":false,"ebs_optimized":"","elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"id":"lt-02a6492477234c3a5","image_id":"","instance_initiated_shutdown_behavior":"","instance_market_options":[],"instance_requirements":[],"instance_type":"","kernel_id":"","key_name":"","latest_version":1,"license_specification":[],"maintenance_options":[],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":[{"enabled":true}],"name":"system-2024102408283836090000000d","name_prefix":"system-","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":"","security_group_names":[],"tag_specifications":[{"resource_type":"instance","tags":{"Environment":"test","Name":"system","Terraform":"true"}},{"resource_type":"network-interface","tags":{"Environment":"test","Name":"system","Terraform":"true"}},{"resource_type":"volume","tags":{"Environment":"test","Name":"system","Terraform":"true"}}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"update_default_version":true,"user_data":"","vpc_security_group_ids":["sg-059c6b41e8dd5e3c3","sg-0751dc8afabcdaeac"]},"sensitive_values":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[{}],"monitoring":[{}],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"security_group_names":[],"tag_specifications":[{"tags":{}},{"tags":{}},{"tags":{}}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false,false]}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_security_group.this[0]","mode":"managed","type":"aws_security_group","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-059c6b41e8dd5e3c3","description":"EKS managed node group security group","egress":[],"id":"sg-059c6b41e8dd5e3c3","ingress":[],"name":"system-eks-node-group-20241024082058295400000009","name_prefix":"system-eks-node-group-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"system-eks-node-group","Terraform":"true"},"tags_all":{"Environment":"test","Name":"system-eks-node-group","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}],"address":"module.eks.module.eks_managed_node_group[\"system\"]"}]},{"resources":[{"address":"module.eks_auth.kubernetes_config_map_v1_data.aws_auth[0]","mode":"managed","type":"kubernetes_config_map_v1_data","name":"aws_auth","index":0,"provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":0,"values":{"data":{"mapAccounts":"[]\n","mapRoles":"- \"groups\":\n  - \"system:bootstrappers\"\n  - \"system:nodes\"\n  \"rolearn\": \"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001\"\n  \"username\": \"system:node:{{EC2PrivateDNSName}}\"\n","mapUsers":"- \"groups\":\n  - \"system:masters\"\n  \"userarn\": \"arn:aws:iam::686591753714:user/cloud_user\"\n  \"username\": \"cloud_user\"\n"},"field_manager":"Terraform","force":true,"id":"kube-system/aws-auth","metadata":[{"name":"aws-auth","namespace":"kube-system"}]},"sensitive_values":{"data":{},"metadata":[{}]}}],"address":"module.eks_auth"},{"resources":[{"address":"module.iam_assumable_role_admin.aws_iam_role.this[0]","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\":\"system:serviceaccount:kube-system:cluster-autoscaler-aws\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:28:38Z","description":"","force_detach_policies":false,"id":"cluster-1-test-cluster-autoscaler","inline_policy":[],"managed_policy_arns":["arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f"],"max_session_duration":3600,"name":"cluster-1-test-cluster-autoscaler","name_prefix":"","path":"/","permissions_boundary":"","role_last_used":[{"last_used_date":"2024-10-24T09:09:41Z","region":"eu-west-3"}],"tags":{"AutoTag_Creator":"arn:aws:iam::686591753714:user/cloud_user","Owner":"cloud_user"},"tags_all":{"AutoTag_Creator":"arn:aws:iam::686591753714:user/cloud_user","Owner":"cloud_user"},"unique_id":"AROAZ7XAOXXZCFJK4H4KU"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false],"role_last_used":[{}],"tags":{},"tags_all":{}}},{"address":"module.iam_assumable_role_admin.aws_iam_role_policy_attachment.custom[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"custom","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"cluster-1-test-cluster-autoscaler-20241024082839327200000012","policy_arn":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","role":"cluster-1-test-cluster-autoscaler"},"sensitive_values":{}}],"address":"module.iam_assumable_role_admin"},{"resources":[{"address":"module.vpc.aws_internet_gateway.this[0]","mode":"managed","type":"aws_internet_gateway","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:internet-gateway/igw-00ef6c29342b50452","id":"igw-00ef6c29342b50452","owner_id":"686591753714","tags":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_nat_gateway.this[0]","mode":"managed","type":"aws_nat_gateway","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":"eipalloc-0fa0d49e3e65be2ab","association_id":"eipassoc-06719a1dcfa59bec9","connectivity_type":"public","id":"nat-075b2fcf3b00a47e2","network_interface_id":"eni-0955c6ab5973ca7f8","private_ip":"10.0.139.180","public_ip":"13.36.49.96","subnet_id":"subnet-0f6600f977e836af7","tags":{"Environment":"test","Name":"cluster-1-test-vpc-eu-west-3a","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-eu-west-3a","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_route.private_nat_gateway[0]","mode":"managed","type":"aws_route","name":"private_nat_gateway","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","id":"r-rtb-038aaa93709651f9d1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"nat-075b2fcf3b00a47e2","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-038aaa93709651f9d","state":"active","timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"sensitive_values":{"timeouts":{}}},{"address":"module.vpc.aws_route.public_internet_gateway[0]","mode":"managed","type":"aws_route","name":"public_internet_gateway","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-00ef6c29342b50452","id":"r-rtb-0f726caf0e6518cbd1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-0f726caf0e6518cbd","state":"active","timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"sensitive_values":{"timeouts":{}}},{"address":"module.vpc.aws_route_table.private[0]","mode":"managed","type":"aws_route_table","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:route-table/rtb-038aaa93709651f9d","id":"rtb-038aaa93709651f9d","owner_id":"686591753714","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-075b2fcf3b00a47e2","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Environment":"test","Name":"cluster-1-test-vpc-private","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_route_table.public[0]","mode":"managed","type":"aws_route_table","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:route-table/rtb-0f726caf0e6518cbd","id":"rtb-0f726caf0e6518cbd","owner_id":"686591753714","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-00ef6c29342b50452","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Environment":"test","Name":"cluster-1-test-vpc-public","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_route_table_association.private[0]","mode":"managed","type":"aws_route_table_association","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-04fa0e988707ed577","route_table_id":"rtb-038aaa93709651f9d","subnet_id":"subnet-0cc42401e36283845","timeouts":null},"sensitive_values":{}},{"address":"module.vpc.aws_route_table_association.private[1]","mode":"managed","type":"aws_route_table_association","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-0ab2cbd56eb7e4a7c","route_table_id":"rtb-038aaa93709651f9d","subnet_id":"subnet-05e604773ead19337","timeouts":null},"sensitive_values":{}},{"address":"module.vpc.aws_route_table_association.public[0]","mode":"managed","type":"aws_route_table_association","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-00fa226e1a0ea8748","route_table_id":"rtb-0f726caf0e6518cbd","subnet_id":"subnet-0f6600f977e836af7","timeouts":null},"sensitive_values":{}},{"address":"module.vpc.aws_route_table_association.public[1]","mode":"managed","type":"aws_route_table_association","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-002a47b9dc048a3ac","route_table_id":"rtb-0f726caf0e6518cbd","subnet_id":"subnet-0af7ba9d8a5fc3439","timeouts":null},"sensitive_values":{}},{"address":"module.vpc.aws_subnet.private[0]","mode":"managed","type":"aws_subnet","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-0cc42401e36283845","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3a","availability_zone_id":"euw3-az1","cidr_block":"10.0.0.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0cc42401e36283845","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_subnet.private[1]","mode":"managed","type":"aws_subnet","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-05e604773ead19337","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3b","availability_zone_id":"euw3-az2","cidr_block":"10.0.16.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-05e604773ead19337","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_subnet.public[0]","mode":"managed","type":"aws_subnet","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-0f6600f977e836af7","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3a","availability_zone_id":"euw3-az1","cidr_block":"10.0.128.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0f6600f977e836af7","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_subnet.public[1]","mode":"managed","type":"aws_subnet","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-0af7ba9d8a5fc3439","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3b","availability_zone_id":"euw3-az2","cidr_block":"10.0.144.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0af7ba9d8a5fc3439","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"module.vpc.aws_vpc.this[0]","mode":"managed","type":"aws_vpc","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:vpc/vpc-0ca2f2a87d3be5e08","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0a684404f7513177a","default_route_table_id":"rtb-0c7df45e06d0f78e6","default_security_group_id":"sg-0dded3f77668f849b","dhcp_options_id":"dopt-054c2f5f7c38381be","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-0ca2f2a87d3be5e08","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-0c7df45e06d0f78e6","owner_id":"686591753714","tags":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}}}],"address":"module.vpc"}]}},"resource_drift":[{"address":"aws_ecr_repository.ecr_repo","mode":"managed","type":"aws_ecr_repository","name":"ecr_repo","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:ecr:eu-west-3:686591753714:repository/nodejs-app","encryption_configuration":[{"encryption_type":"AES256","kms_key":""}],"force_delete":null,"id":"nodejs-app","image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"MUTABLE","name":"nodejs-app","registry_id":"686591753714","repository_url":"686591753714.dkr.ecr.eu-west-3.amazonaws.com/nodejs-app","tags":null,"tags_all":{},"timeouts":null},"after":{"arn":"arn:aws:ecr:eu-west-3:686591753714:repository/nodejs-app","encryption_configuration":[{"encryption_type":"AES256","kms_key":""}],"force_delete":null,"id":"nodejs-app","image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"MUTABLE","name":"nodejs-app","registry_id":"686591753714","repository_url":"686591753714.dkr.ecr.eu-west-3.amazonaws.com/nodejs-app","tags":{},"tags_all":{},"timeouts":null},"after_unknown":{},"before_sensitive":{"encryption_configuration":[{}],"image_scanning_configuration":[{}],"tags_all":{}},"after_sensitive":{"encryption_configuration":[{}],"image_scanning_configuration":[{}],"tags":{},"tags_all":{}}}},{"address":"aws_eip.nat_gw_elastic_ip","mode":"managed","type":"aws_eip","name":"nat_gw_elastic_ip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"address":null,"allocation_id":"eipalloc-0fa0d49e3e65be2ab","associate_with_private_ip":null,"association_id":"","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0fa0d49e3e65be2ab","instance":"","network_border_group":"eu-west-3","network_interface":"","private_dns":null,"private_ip":"","public_dns":"ec2-13-36-49-96.eu-west-3.compute.amazonaws.com","public_ip":"13.36.49.96","public_ipv4_pool":"amazon","tags":{"Environment":"test","Name":"cluster-1-test-nat-eip","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-nat-eip","Terraform":"true"},"timeouts":null,"vpc":true},"after":{"address":null,"allocation_id":"eipalloc-0fa0d49e3e65be2ab","associate_with_private_ip":null,"association_id":"eipassoc-06719a1dcfa59bec9","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0fa0d49e3e65be2ab","instance":"","network_border_group":"eu-west-3","network_interface":"eni-0955c6ab5973ca7f8","private_dns":"ip-10-0-139-180.eu-west-3.compute.internal","private_ip":"10.0.139.180","public_dns":"ec2-13-36-49-96.eu-west-3.compute.amazonaws.com","public_ip":"13.36.49.96","public_ipv4_pool":"amazon","tags":{"Environment":"test","Name":"cluster-1-test-nat-eip","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-nat-eip","Terraform":"true"},"timeouts":null,"vpc":true},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_iam_policy.cluster_autoscaler","mode":"managed","type":"aws_iam_policy","name":"cluster_autoscaler","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","description":"EKS cluster-autoscaler policy for cluster cluster-1-test","id":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","name":"cluster-1-test-cluster-autoscaler2024102408283838590000000f","name_prefix":"cluster-1-test-cluster-autoscaler","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:DescribeLaunchTemplateVersions\",\"autoscaling:DescribeTags\",\"autoscaling:DescribeLaunchConfigurations\",\"autoscaling:DescribeAutoScalingInstances\",\"autoscaling:DescribeAutoScalingGroups\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"clusterAutoscalerAll\"},{\"Action\":[\"autoscaling:UpdateAutoScalingGroup\",\"autoscaling:TerminateInstanceInAutoScalingGroup\",\"autoscaling:SetDesiredCapacity\"],\"Condition\":{\"StringEquals\":{\"autoscaling:ResourceTag/k8s.io/cluster-autoscaler/enabled\":\"true\",\"autoscaling:ResourceTag/kubernetes.io/cluster/cluster-1-test\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"clusterAutoscalerOwn\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAZ7XAOXXZMG63DVOEX","tags":null,"tags_all":{}},"after":{"arn":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","description":"EKS cluster-autoscaler policy for cluster cluster-1-test","id":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","name":"cluster-1-test-cluster-autoscaler2024102408283838590000000f","name_prefix":"cluster-1-test-cluster-autoscaler","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:DescribeLaunchTemplateVersions\",\"autoscaling:DescribeTags\",\"autoscaling:DescribeLaunchConfigurations\",\"autoscaling:DescribeAutoScalingInstances\",\"autoscaling:DescribeAutoScalingGroups\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"clusterAutoscalerAll\"},{\"Action\":[\"autoscaling:UpdateAutoScalingGroup\",\"autoscaling:TerminateInstanceInAutoScalingGroup\",\"autoscaling:SetDesiredCapacity\"],\"Condition\":{\"StringEquals\":{\"autoscaling:ResourceTag/k8s.io/cluster-autoscaler/enabled\":\"true\",\"autoscaling:ResourceTag/kubernetes.io/cluster/cluster-1-test\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"clusterAutoscalerOwn\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAZ7XAOXXZMG63DVOEX","tags":{},"tags_all":{}},"after_unknown":{},"before_sensitive":{"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.ebs_csi_irsa_role.aws_iam_role.this[0]","module_address":"module.ebs_csi_irsa_role","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-ebs-csi","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:aud\":\"sts.amazonaws.com\",\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\":\"system:serviceaccount:kube-system:ebs-csi-controller-sa\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:28:39Z","description":"","force_detach_policies":true,"id":"cluster-1-test-ebs-csi","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"cluster-1-test-ebs-csi","name_prefix":"","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"","region":""}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZEKWSWEFVB"},"after":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-ebs-csi","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:aud\":\"sts.amazonaws.com\",\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\":\"system:serviceaccount:kube-system:ebs-csi-controller-sa\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:28:39Z","description":"","force_detach_policies":true,"id":"cluster-1-test-ebs-csi","inline_policy":[],"managed_policy_arns":["arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003"],"max_session_duration":3600,"name":"cluster-1-test-ebs-csi","name_prefix":"","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T08:33:13Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZEKWSWEFVB"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[],"role_last_used":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false],"role_last_used":[{}],"tags":{},"tags_all":{}}}},{"address":"module.eks.aws_iam_role.this[0]","module_address":"module.eks","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-20241024082046493600000002","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Sid\":\"EKSClusterAssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:20:46Z","description":"","force_detach_policies":true,"id":"cluster-1-test-cluster-20241024082046493600000002","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"cluster-1-test-cluster-20241024082046493600000002","name_prefix":"cluster-1-test-cluster-","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"","region":""}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZE3IMW242I"},"after":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-20241024082046493600000002","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Sid\":\"EKSClusterAssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:20:46Z","description":"","force_detach_policies":true,"id":"cluster-1-test-cluster-20241024082046493600000002","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","arn:aws:iam::aws:policy/AmazonEKSVPCResourceController"],"max_session_duration":3600,"name":"cluster-1-test-cluster-20241024082046493600000002","name_prefix":"cluster-1-test-cluster-","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T08:55:56Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZE3IMW242I"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[],"role_last_used":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false,false],"role_last_used":[{}],"tags":{},"tags_all":{}}}},{"address":"module.eks.aws_security_group.cluster[0]","module_address":"module.eks","mode":"managed","type":"aws_security_group","name":"cluster","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-04b658b30ff02546e","description":"EKS cluster security group","egress":[],"id":"sg-04b658b30ff02546e","ingress":[],"name":"cluster-1-test-cluster-2024102408205829690000000a","name_prefix":"cluster-1-test-cluster-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"cluster-1-test-cluster","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-cluster","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-04b658b30ff02546e","description":"EKS cluster security group","egress":[{"cidr_blocks":[],"description":"Cluster API to node groups","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Cluster API to node kubelets","from_port":10250,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":10250}],"id":"sg-04b658b30ff02546e","ingress":[{"cidr_blocks":[],"description":"Node groups to cluster API via port 8443","from_port":8443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":8443},{"cidr_blocks":[],"description":"Node groups to cluster API","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":443}],"name":"cluster-1-test-cluster-2024102408205829690000000a","name_prefix":"cluster-1-test-cluster-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"cluster-1-test-cluster","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-cluster","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}}}},{"address":"module.eks.aws_security_group.node[0]","module_address":"module.eks","mode":"managed","type":"aws_security_group","name":"node","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-0751dc8afabcdaeac","description":"EKS node shared security group","egress":[],"id":"sg-0751dc8afabcdaeac","ingress":[],"name":"cluster-1-test-node-2024102408205830080000000b","name_prefix":"cluster-1-test-node-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"cluster-1-test-node","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"owned"},"tags_all":{"Environment":"test","Name":"cluster-1-test-node","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"owned"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-0751dc8afabcdaeac","description":"EKS node shared security group","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/TCP to internet","from_port":123,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":123},{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/UDP to internet","from_port":123,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":false,"to_port":123},{"cidr_blocks":["0.0.0.0/0"],"description":"Egress all HTTPS to internet","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"Node all egress","from_port":0,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":[],"description":"Node groups to cluster API","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":true,"to_port":53}],"id":"sg-0751dc8afabcdaeac","ingress":[{"cidr_blocks":[],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":["sg-0cf02e08e56b2a6b8"],"self":false,"to_port":0},{"cidr_blocks":[],"description":"Cluster API to node groups","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Cluster API to node kubelets","from_port":10250,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":10250},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node all ports/protocols","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":true,"to_port":0}],"name":"cluster-1-test-node-2024102408205830080000000b","name_prefix":"cluster-1-test-node-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"cluster-1-test-node","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"owned"},"tags_all":{"Environment":"test","Name":"cluster-1-test-node","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"owned"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}}},{"address":"module.eks.aws_security_group_rule.cluster[\"egress_nodes_443\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"egress_nodes_443","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"cidr_blocks":null,"description":"Cluster API to node groups","from_port":443,"id":"sgrule-3832824784","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0d273eaeeda71a1bd","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":443,"type":"egress"},"after":{"cidr_blocks":null,"description":"Cluster API to node groups","from_port":443,"id":"sgrule-3832824784","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0f83bc40ba26e2c24","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":443,"type":"egress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"egress_self_coredns_tcp\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_self_coredns_tcp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-4025882043","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0b03b68418add7762","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"egress"},"after":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-4025882043","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0b10726a79217c75f","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"egress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.iam_assumable_role_admin.aws_iam_role.this[0]","module_address":"module.iam_assumable_role_admin","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\":\"system:serviceaccount:kube-system:cluster-autoscaler-aws\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:28:38Z","description":"","force_detach_policies":false,"id":"cluster-1-test-cluster-autoscaler","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"cluster-1-test-cluster-autoscaler","name_prefix":"","path":"/","permissions_boundary":"","role_last_used":[{"last_used_date":"","region":""}],"tags":{"AutoTag_Creator":"arn:aws:iam::686591753714:user/cloud_user","Owner":"cloud_user"},"tags_all":{"AutoTag_Creator":"arn:aws:iam::686591753714:user/cloud_user","Owner":"cloud_user"},"unique_id":"AROAZ7XAOXXZCFJK4H4KU"},"after":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\":\"system:serviceaccount:kube-system:cluster-autoscaler-aws\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:28:38Z","description":"","force_detach_policies":false,"id":"cluster-1-test-cluster-autoscaler","inline_policy":[],"managed_policy_arns":["arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f"],"max_session_duration":3600,"name":"cluster-1-test-cluster-autoscaler","name_prefix":"","path":"/","permissions_boundary":"","role_last_used":[{"last_used_date":"2024-10-24T09:09:41Z","region":"eu-west-3"}],"tags":{"AutoTag_Creator":"arn:aws:iam::686591753714:user/cloud_user","Owner":"cloud_user"},"tags_all":{"AutoTag_Creator":"arn:aws:iam::686591753714:user/cloud_user","Owner":"cloud_user"},"unique_id":"AROAZ7XAOXXZCFJK4H4KU"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[],"role_last_used":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false],"role_last_used":[{}],"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_route_table.private[0]","module_address":"module.vpc","mode":"managed","type":"aws_route_table","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:route-table/rtb-038aaa93709651f9d","id":"rtb-038aaa93709651f9d","owner_id":"686591753714","propagating_vgws":[],"route":[],"tags":{"Environment":"test","Name":"cluster-1-test-vpc-private","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:route-table/rtb-038aaa93709651f9d","id":"rtb-038aaa93709651f9d","owner_id":"686591753714","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-075b2fcf3b00a47e2","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Environment":"test","Name":"cluster-1-test-vpc-private","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"propagating_vgws":[],"route":[],"tags":{},"tags_all":{}},"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_route_table.public[0]","module_address":"module.vpc","mode":"managed","type":"aws_route_table","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:route-table/rtb-0f726caf0e6518cbd","id":"rtb-0f726caf0e6518cbd","owner_id":"686591753714","propagating_vgws":[],"route":[],"tags":{"Environment":"test","Name":"cluster-1-test-vpc-public","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:route-table/rtb-0f726caf0e6518cbd","id":"rtb-0f726caf0e6518cbd","owner_id":"686591753714","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-00ef6c29342b50452","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Environment":"test","Name":"cluster-1-test-vpc-public","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"propagating_vgws":[],"route":[],"tags":{},"tags_all":{}},"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_eks_node_group.this[0]","module_address":"module.eks.module.eks_managed_node_group[\"system\"]","mode":"managed","type":"aws_eks_node_group","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"ami_type":"AL2_x86_64","arn":"arn:aws:eks:eu-west-3:686591753714:nodegroup/cluster-1-test/system-20241024082838621000000010/4ec95ed2-2ec0-d833-8508-5d8b20f5fdf0","capacity_type":"ON_DEMAND","cluster_name":"cluster-1-test","disk_size":0,"force_update_version":null,"id":"cluster-1-test:system-20241024082838621000000010","instance_types":["t3a.medium"],"labels":{"Environment":"test"},"launch_template":[{"id":"lt-02a6492477234c3a5","name":"system-2024102408283836090000000d","version":"1"}],"node_group_name":"system-20241024082838621000000010","node_group_name_prefix":"system-","node_role_arn":"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001","release_version":"1.23.17-20240928","remote_access":[],"resources":[{"autoscaling_groups":[{"name":"eks-system-20241024082838621000000010-4ec95ed2-2ec0-d833-8508-5d8b20f5fdf0"}],"remote_access_security_group_id":""}],"scaling_config":[{"desired_size":1,"max_size":6,"min_size":1}],"status":"ACTIVE","subnet_ids":["subnet-05e604773ead19337","subnet-0cc42401e36283845"],"tags":{"Environment":"test","Name":"system","Terraform":"true"},"tags_all":{"Environment":"test","Name":"system","Terraform":"true"},"taint":[],"timeouts":{"create":null,"delete":null,"update":null},"update_config":[{"max_unavailable":1,"max_unavailable_percentage":0}],"version":"1.23"},"after":{"ami_type":"AL2_x86_64","arn":"arn:aws:eks:eu-west-3:686591753714:nodegroup/cluster-1-test/system-20241024082838621000000010/4ec95ed2-2ec0-d833-8508-5d8b20f5fdf0","capacity_type":"ON_DEMAND","cluster_name":"cluster-1-test","disk_size":0,"force_update_version":null,"id":"cluster-1-test:system-20241024082838621000000010","instance_types":["t3a.medium"],"labels":{"Environment":"test"},"launch_template":[{"id":"lt-02a6492477234c3a5","name":"system-2024102408283836090000000d","version":"1"}],"node_group_name":"system-20241024082838621000000010","node_group_name_prefix":"system-","node_role_arn":"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001","release_version":"1.23.17-20240928","remote_access":[],"resources":[{"autoscaling_groups":[{"name":"eks-system-20241024082838621000000010-4ec95ed2-2ec0-d833-8508-5d8b20f5fdf0"}],"remote_access_security_group_id":""}],"scaling_config":[{"desired_size":3,"max_size":6,"min_size":1}],"status":"ACTIVE","subnet_ids":["subnet-05e604773ead19337","subnet-0cc42401e36283845"],"tags":{"Environment":"test","Name":"system","Terraform":"true"},"tags_all":{"Environment":"test","Name":"system","Terraform":"true"},"taint":[],"timeouts":{"create":null,"delete":null,"update":null},"update_config":[{"max_unavailable":1,"max_unavailable_percentage":0}],"version":"1.23"},"after_unknown":{},"before_sensitive":{"instance_types":[false],"labels":{},"launch_template":[{}],"remote_access":[],"resources":[{"autoscaling_groups":[{}]}],"scaling_config":[{}],"subnet_ids":[false,false],"tags":{},"tags_all":{},"taint":[],"timeouts":{},"update_config":[{}]},"after_sensitive":{"instance_types":[false],"labels":{},"launch_template":[{}],"remote_access":[],"resources":[{"autoscaling_groups":[{}]}],"scaling_config":[{}],"subnet_ids":[false,false],"tags":{},"tags_all":{},"taint":[],"timeouts":{},"update_config":[{}]}}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role.this[0]","module_address":"module.eks.module.eks_managed_node_group[\"system\"]","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"EKSNodeAssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:20:46Z","description":"EKS managed node group IAM role","force_detach_policies":true,"id":"system-eks-node-group-20241024082046490600000001","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"system-eks-node-group-20241024082046490600000001","name_prefix":"system-eks-node-group-","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"","region":""}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZLPYBAQXWU"},"after":{"arn":"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"EKSNodeAssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:20:46Z","description":"EKS managed node group IAM role","force_detach_policies":true,"id":"system-eks-node-group-20241024082046490600000001","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"],"max_session_duration":3600,"name":"system-eks-node-group-20241024082046490600000001","name_prefix":"system-eks-node-group-","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T09:05:03Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZLPYBAQXWU"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[],"role_last_used":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false,false,false],"role_last_used":[{}],"tags":{},"tags_all":{}}}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_launch_template.this[0]","module_address":"module.eks.module.eks_managed_node_group[\"system\"]","mode":"managed","type":"aws_launch_template","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["update"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:launch-template/lt-02a6492477234c3a5","block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":1,"description":"Custom launch template for system EKS managed node group","disable_api_stop":false,"disable_api_termination":false,"ebs_optimized":"","elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"id":"lt-02a6492477234c3a5","image_id":"","instance_initiated_shutdown_behavior":"","instance_market_options":[],"instance_requirements":[],"instance_type":"","kernel_id":"","key_name":"","latest_version":1,"license_specification":[],"maintenance_options":[],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":[{"enabled":true}],"name":"system-2024102408283836090000000d","name_prefix":"system-","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":"","security_group_names":null,"tag_specifications":[{"resource_type":"instance","tags":{"Environment":"test","Name":"system","Terraform":"true"}},{"resource_type":"network-interface","tags":{"Environment":"test","Name":"system","Terraform":"true"}},{"resource_type":"volume","tags":{"Environment":"test","Name":"system","Terraform":"true"}}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"update_default_version":true,"user_data":"","vpc_security_group_ids":["sg-059c6b41e8dd5e3c3","sg-0751dc8afabcdaeac"]},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:launch-template/lt-02a6492477234c3a5","block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":1,"description":"Custom launch template for system EKS managed node group","disable_api_stop":false,"disable_api_termination":false,"ebs_optimized":"","elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"id":"lt-02a6492477234c3a5","image_id":"","instance_initiated_shutdown_behavior":"","instance_market_options":[],"instance_requirements":[],"instance_type":"","kernel_id":"","key_name":"","latest_version":1,"license_specification":[],"maintenance_options":[],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":[{"enabled":true}],"name":"system-2024102408283836090000000d","name_prefix":"system-","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":"","security_group_names":[],"tag_specifications":[{"resource_type":"instance","tags":{"Environment":"test","Name":"system","Terraform":"true"}},{"resource_type":"network-interface","tags":{"Environment":"test","Name":"system","Terraform":"true"}},{"resource_type":"volume","tags":{"Environment":"test","Name":"system","Terraform":"true"}}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"update_default_version":true,"user_data":"","vpc_security_group_ids":["sg-059c6b41e8dd5e3c3","sg-0751dc8afabcdaeac"]},"after_unknown":{},"before_sensitive":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[{}],"monitoring":[{}],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"tag_specifications":[{"tags":{}},{"tags":{}},{"tags":{}}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false,false]},"after_sensitive":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[{}],"monitoring":[{}],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"security_group_names":[],"tag_specifications":[{"tags":{}},{"tags":{}},{"tags":{}}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false,false]}}}],"resource_changes":[{"address":"aws_ecr_repository.ecr_repo","mode":"managed","type":"aws_ecr_repository","name":"ecr_repo","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ecr:eu-west-3:686591753714:repository/nodejs-app","encryption_configuration":[{"encryption_type":"AES256","kms_key":""}],"force_delete":null,"id":"nodejs-app","image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"MUTABLE","name":"nodejs-app","registry_id":"686591753714","repository_url":"686591753714.dkr.ecr.eu-west-3.amazonaws.com/nodejs-app","tags":{},"tags_all":{},"timeouts":null},"after":{"arn":"arn:aws:ecr:eu-west-3:686591753714:repository/nodejs-app","encryption_configuration":[{"encryption_type":"AES256","kms_key":""}],"force_delete":null,"id":"nodejs-app","image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"MUTABLE","name":"nodejs-app","registry_id":"686591753714","repository_url":"686591753714.dkr.ecr.eu-west-3.amazonaws.com/nodejs-app","tags":{},"tags_all":{},"timeouts":null},"after_unknown":{},"before_sensitive":{"encryption_configuration":[{}],"image_scanning_configuration":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"encryption_configuration":[{}],"image_scanning_configuration":[{}],"tags":{},"tags_all":{}}}},{"address":"aws_eip.nat_gw_elastic_ip","mode":"managed","type":"aws_eip","name":"nat_gw_elastic_ip","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"address":null,"allocation_id":"eipalloc-0fa0d49e3e65be2ab","associate_with_private_ip":null,"association_id":"eipassoc-06719a1dcfa59bec9","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0fa0d49e3e65be2ab","instance":"","network_border_group":"eu-west-3","network_interface":"eni-0955c6ab5973ca7f8","private_dns":"ip-10-0-139-180.eu-west-3.compute.internal","private_ip":"10.0.139.180","public_dns":"ec2-13-36-49-96.eu-west-3.compute.amazonaws.com","public_ip":"13.36.49.96","public_ipv4_pool":"amazon","tags":{"Environment":"test","Name":"cluster-1-test-nat-eip","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-nat-eip","Terraform":"true"},"timeouts":null,"vpc":true},"after":{"address":null,"allocation_id":"eipalloc-0fa0d49e3e65be2ab","associate_with_private_ip":null,"association_id":"eipassoc-06719a1dcfa59bec9","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0fa0d49e3e65be2ab","instance":"","network_border_group":"eu-west-3","network_interface":"eni-0955c6ab5973ca7f8","private_dns":"ip-10-0-139-180.eu-west-3.compute.internal","private_ip":"10.0.139.180","public_dns":"ec2-13-36-49-96.eu-west-3.compute.amazonaws.com","public_ip":"13.36.49.96","public_ipv4_pool":"amazon","tags":{"Environment":"test","Name":"cluster-1-test-nat-eip","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-nat-eip","Terraform":"true"},"timeouts":null,"vpc":true},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"aws_iam_policy.cluster_autoscaler","mode":"managed","type":"aws_iam_policy","name":"cluster_autoscaler","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","description":"EKS cluster-autoscaler policy for cluster cluster-1-test","id":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","name":"cluster-1-test-cluster-autoscaler2024102408283838590000000f","name_prefix":"cluster-1-test-cluster-autoscaler","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:DescribeLaunchTemplateVersions\",\"autoscaling:DescribeTags\",\"autoscaling:DescribeLaunchConfigurations\",\"autoscaling:DescribeAutoScalingInstances\",\"autoscaling:DescribeAutoScalingGroups\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"clusterAutoscalerAll\"},{\"Action\":[\"autoscaling:UpdateAutoScalingGroup\",\"autoscaling:TerminateInstanceInAutoScalingGroup\",\"autoscaling:SetDesiredCapacity\"],\"Condition\":{\"StringEquals\":{\"autoscaling:ResourceTag/k8s.io/cluster-autoscaler/enabled\":\"true\",\"autoscaling:ResourceTag/kubernetes.io/cluster/cluster-1-test\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"clusterAutoscalerOwn\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAZ7XAOXXZMG63DVOEX","tags":{},"tags_all":{}},"after":{"arn":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","description":"EKS cluster-autoscaler policy for cluster cluster-1-test","id":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","name":"cluster-1-test-cluster-autoscaler2024102408283838590000000f","name_prefix":"cluster-1-test-cluster-autoscaler","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:DescribeLaunchTemplateVersions\",\"autoscaling:DescribeTags\",\"autoscaling:DescribeLaunchConfigurations\",\"autoscaling:DescribeAutoScalingInstances\",\"autoscaling:DescribeAutoScalingGroups\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"clusterAutoscalerAll\"},{\"Action\":[\"autoscaling:UpdateAutoScalingGroup\",\"autoscaling:TerminateInstanceInAutoScalingGroup\",\"autoscaling:SetDesiredCapacity\"],\"Condition\":{\"StringEquals\":{\"autoscaling:ResourceTag/k8s.io/cluster-autoscaler/enabled\":\"true\",\"autoscaling:ResourceTag/kubernetes.io/cluster/cluster-1-test\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"clusterAutoscalerOwn\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAZ7XAOXXZMG63DVOEX","tags":{},"tags_all":{}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"helm_release.cluster-autoscaler","mode":"managed","type":"helm_release","name":"cluster-autoscaler","provider_name":"registry.terraform.io/hashicorp/helm","change":{"actions":["no-op"],"before":{"atomic":false,"chart":"cluster-autoscaler","cleanup_on_fail":false,"create_namespace":false,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"cluster-autoscaler","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"1.21.0","chart":"cluster-autoscaler","first_deployed":1729758521,"last_deployed":1729758521,"name":"cluster-autoscaler","namespace":"kube-system","notes":"To verify that cluster-autoscaler has started, run:\n\n  kubectl --namespace=kube-system get pods -l \"app.kubernetes.io/name=aws-cluster-autoscaler,app.kubernetes.io/instance=cluster-autoscaler\"","revision":1,"values":"{\"autoDiscovery\":{\"clusterName\":\"cluster-1-test\",\"enabled\":true},\"awsRegion\":\"eu-west-3\",\"cloudProvider\":\"aws\",\"extraArgs\":{\"scale-down-enabled\":true,\"scale-down-unneeded-time\":\"5m\",\"skip-nodes-with-local-storage\":false,\"skip-nodes-with-system-pods\":false},\"rbac\":{\"create\":true,\"serviceAccount\":{\"annotations\":{\"eks.amazonaws.com/role-arn\":\"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler\"},\"name\":\"cluster-autoscaler-aws\"}}}","version":"9.10.7"}],"name":"cluster-autoscaler","namespace":"kube-system","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://kubernetes.github.io/autoscaler","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[{"name":"autoDiscovery.clusterName","type":"","value":"cluster-1-test"},{"name":"autoDiscovery.enabled","type":"","value":"true"},{"name":"awsRegion","type":"","value":"eu-west-3"},{"name":"cloudProvider","type":"","value":"aws"},{"name":"extraArgs.scale-down-enabled","type":"","value":"true"},{"name":"extraArgs.scale-down-unneeded-time","type":"","value":"5m"},{"name":"extraArgs.skip-nodes-with-local-storage","type":"","value":"false"},{"name":"extraArgs.skip-nodes-with-system-pods","type":"","value":"false"},{"name":"rbac.create","type":"","value":"true"},{"name":"rbac.serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn","type":"","value":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler"},{"name":"rbac.serviceAccount.name","type":"","value":"cluster-autoscaler-aws"}],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"upgrade_install":null,"values":null,"verify":false,"version":"9.10.7","wait":true,"wait_for_jobs":false},"after":{"atomic":false,"chart":"cluster-autoscaler","cleanup_on_fail":false,"create_namespace":false,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"cluster-autoscaler","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"1.21.0","chart":"cluster-autoscaler","first_deployed":1729758521,"last_deployed":1729758521,"name":"cluster-autoscaler","namespace":"kube-system","notes":"To verify that cluster-autoscaler has started, run:\n\n  kubectl --namespace=kube-system get pods -l \"app.kubernetes.io/name=aws-cluster-autoscaler,app.kubernetes.io/instance=cluster-autoscaler\"","revision":1,"values":"{\"autoDiscovery\":{\"clusterName\":\"cluster-1-test\",\"enabled\":true},\"awsRegion\":\"eu-west-3\",\"cloudProvider\":\"aws\",\"extraArgs\":{\"scale-down-enabled\":true,\"scale-down-unneeded-time\":\"5m\",\"skip-nodes-with-local-storage\":false,\"skip-nodes-with-system-pods\":false},\"rbac\":{\"create\":true,\"serviceAccount\":{\"annotations\":{\"eks.amazonaws.com/role-arn\":\"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler\"},\"name\":\"cluster-autoscaler-aws\"}}}","version":"9.10.7"}],"name":"cluster-autoscaler","namespace":"kube-system","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://kubernetes.github.io/autoscaler","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[{"name":"autoDiscovery.clusterName","type":"","value":"cluster-1-test"},{"name":"autoDiscovery.enabled","type":"","value":"true"},{"name":"awsRegion","type":"","value":"eu-west-3"},{"name":"cloudProvider","type":"","value":"aws"},{"name":"extraArgs.scale-down-enabled","type":"","value":"true"},{"name":"extraArgs.scale-down-unneeded-time","type":"","value":"5m"},{"name":"extraArgs.skip-nodes-with-local-storage","type":"","value":"false"},{"name":"extraArgs.skip-nodes-with-system-pods","type":"","value":"false"},{"name":"rbac.create","type":"","value":"true"},{"name":"rbac.serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn","type":"","value":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler"},{"name":"rbac.serviceAccount.name","type":"","value":"cluster-autoscaler-aws"}],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"upgrade_install":null,"values":null,"verify":false,"version":"9.10.7","wait":true,"wait_for_jobs":false},"after_unknown":{},"before_sensitive":{"metadata":[{}],"postrender":[],"repository_password":true,"set":[{},{},{},{},{},{},{},{},{},{},{}],"set_list":[],"set_sensitive":[]},"after_sensitive":{"metadata":[{}],"postrender":[],"repository_password":true,"set":[{},{},{},{},{},{},{},{},{},{},{}],"set_list":[],"set_sensitive":[]}}},{"address":"helm_release.kube_monitoring_stack","mode":"managed","type":"helm_release","name":"kube_monitoring_stack","provider_name":"registry.terraform.io/hashicorp/helm","change":{"actions":["no-op"],"before":{"atomic":false,"chart":"kube-prometheus-stack","cleanup_on_fail":false,"create_namespace":true,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"kube-prometheus-stack","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"v0.65.1","chart":"kube-prometheus-stack","first_deployed":1729758528,"last_deployed":1729758528,"name":"kube-prometheus-stack","namespace":"monitoring","notes":"1. Get the application URL by running these commands:\n  export POD_NAME=$(kubectl get pods --namespace monitoring -l \"app.kubernetes.io/name=prometheus-node-exporter,app.kubernetes.io/instance=kube-prometheus-stack\" -o jsonpath=\"{.items[0].metadata.name}\")\n  echo \"Visit http://127.0.0.1:9100 to use your application\"\n  kubectl port-forward --namespace monitoring $POD_NAME 9100\nkube-prometheus-stack has been installed. Check its status by running:\n  kubectl --namespace monitoring get pods -l \"release=kube-prometheus-stack\"\n\nVisit https://github.com/prometheus-operator/kube-prometheus for instructions on how to create \u0026 configure Alertmanager and Prometheus instances using the Operator.\n\n1. Get your 'admin' user password by running:\n\n   kubectl get secret --namespace monitoring kube-prometheus-stack-grafana -o jsonpath=\"{.data.admin-password}\" | base64 --decode ; echo\n\n\n2. The Grafana server can be accessed via port 80 on the following DNS name from within your cluster:\n\n   kube-prometheus-stack-grafana.monitoring.svc.cluster.local\n\n   If you bind grafana to 80, please update values in values.yaml and reinstall:\n   ```\n   securityContext:\n     runAsUser: 0\n     runAsGroup: 0\n     fsGroup: 0\n\n   command:\n   - \"setcap\"\n   - \"'cap_net_bind_service=+ep'\"\n   - \"/usr/sbin/grafana-server \u0026\u0026\"\n   - \"sh\"\n   - \"/run.sh\"\n   ```\n   Details refer to https://grafana.com/docs/installation/configuration/#http-port.\n   Or grafana would always crash.\n\n   From outside the cluster, the server URL(s) are:\n     http://grafana.karimdevops.com\n\n3. Login with the password from step 1 and the username: admin\n#################################################################################\n######   WARNING: Persistence is disabled!!! You will lose your data when   #####\n######            the Grafana pod is terminated.                            #####\n#################################################################################\n\nkube-state-metrics is a simple service that listens to the Kubernetes API server and generates metrics about the state of the objects.\nThe exposed metrics can be found here:\nhttps://github.com/kubernetes/kube-state-metrics/blob/master/docs/README.md#exposed-metrics\n\nThe metrics are exported on the HTTP endpoint /metrics on the listening port.\nIn your case, kube-prometheus-stack-kube-state-metrics.monitoring.svc.cluster.local:8080/metrics\n\nThey are served either as plaintext or protobuf depending on the Accept header.\nThey are designed to be consumed either by Prometheus itself or by a scraper that is compatible with scraping a Prometheus client endpoint.\n","revision":1,"values":"{\"alertmanager\":{\"enabled\":true,\"ingress\":{\"annotations\":{\"cert-manager.io/cluster-issuer\":\"letsencrypt-production\"},\"enabled\":true,\"hosts\":[\"alertmanager.karimdevops.com\"],\"ingressClassName\":\"nginx\",\"tls\":[{\"hosts\":[\"alertmanager.karimdevops.com\"],\"secretName\":\"alertmanager-tls\"}]}},\"grafana\":{\"adminPassword\":\"admin\",\"adminUser\":\"admin\",\"enabled\":true,\"ingress\":{\"annotations\":{\"cert-manager.io/cluster-issuer\":\"letsencrypt-production\"},\"enabled\":true,\"hosts\":[\"grafana.karimdevops.com\"],\"ingressClassName\":\"nginx\",\"tls\":[{\"hosts\":[\"grafana.karimdevops.com\"],\"secretName\":\"grafana-tls\"}]}},\"kube-state-metrics\":{\"resources\":{\"limits\":{\"memory\":\"300Mi\"},\"requests\":{\"cpu\":\"10m\",\"memory\":\"300Mi\"}}},\"prometheus\":{\"ingress\":{\"annotations\":{\"cert-manager.io/cluster-issuer\":\"letsencrypt-production\"},\"enabled\":true,\"hosts\":[\"prometheus.karimdevops.com\"],\"ingressClassName\":\"nginx\",\"tls\":[{\"hosts\":[\"prometheus.karimdevops.com\"],\"secretName\":\"prometheus-tls\"}]},\"prometheusSpec\":{\"enableAdminAPI\":false,\"logFormat\":\"logfmt\",\"logLevel\":\"info\",\"prometheusExternalLabelName\":\"prometheus_cluster\",\"replicaExternalLabelName\":\"prometheus_replica\",\"replicas\":2,\"resources\":{\"limits\":{\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"500m\",\"memory\":\"2Gi\"}},\"retention\":\"120h\",\"serviceMonitorNamespaceSelector\":{},\"serviceMonitorSelector\":{},\"serviceMonitorSelectorNilUsesHelmValues\":false}},\"prometheus-node-exporter\":{\"resources\":{\"limits\":{\"memory\":\"30Mi\"},\"requests\":{\"cpu\":\"20m\",\"memory\":\"30Mi\"}}},\"prometheusOperator\":{\"resources\":{\"limits\":{\"memory\":\"400Mi\"},\"requests\":{\"cpu\":\"10m\",\"memory\":\"400Mi\"}}}}","version":"45.29.0"}],"name":"kube-prometheus-stack","namespace":"monitoring","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://prometheus-community.github.io/helm-charts","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"upgrade_install":null,"values":["grafana:\n  adminUser: admin\n  adminPassword: admin\n  enabled: true\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - grafana.karimdevops.com\n    tls:\n      - secretName: grafana-tls\n        hosts:\n          - grafana.karimdevops.com\n\nalertmanager:\n  enabled: true\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - alertmanager.karimdevops.com\n    tls:\n      - secretName: alertmanager-tls\n        hosts:\n          - alertmanager.karimdevops.com\n\nprometheus:\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - prometheus.karimdevops.com\n    tls:\n      - secretName: prometheus-tls\n        hosts:\n          - prometheus.karimdevops.com\n  prometheusSpec:\n    replicas: 2\n    replicaExternalLabelName: prometheus_replica\n    prometheusExternalLabelName: prometheus_cluster\n    enableAdminAPI: false\n    logFormat: logfmt\n    logLevel: info\n    retention: 120h\n    serviceMonitorSelectorNilUsesHelmValues: false\n    serviceMonitorNamespaceSelector: {}\n    serviceMonitorSelector: {}\n    resources:\n      limits:\n        memory: 2Gi\n      requests:\n        cpu: 500m\n        memory: 2Gi\n\nprometheus-node-exporter:\n  resources:\n    limits:\n      memory: 30Mi\n    requests:\n      cpu: 20m\n      memory: 30Mi\n\nkube-state-metrics:\n  resources:\n    limits:\n      memory: 300Mi\n    requests:\n      cpu: 10m\n      memory: 300Mi\n\nprometheusOperator:\n  resources:\n    limits:\n      memory: 400Mi\n    requests:\n      cpu: 10m\n      memory: 400Mi\n"],"verify":false,"version":"45.29.0","wait":true,"wait_for_jobs":false},"after":{"atomic":false,"chart":"kube-prometheus-stack","cleanup_on_fail":false,"create_namespace":true,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"kube-prometheus-stack","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"v0.65.1","chart":"kube-prometheus-stack","first_deployed":1729758528,"last_deployed":1729758528,"name":"kube-prometheus-stack","namespace":"monitoring","notes":"1. Get the application URL by running these commands:\n  export POD_NAME=$(kubectl get pods --namespace monitoring -l \"app.kubernetes.io/name=prometheus-node-exporter,app.kubernetes.io/instance=kube-prometheus-stack\" -o jsonpath=\"{.items[0].metadata.name}\")\n  echo \"Visit http://127.0.0.1:9100 to use your application\"\n  kubectl port-forward --namespace monitoring $POD_NAME 9100\nkube-prometheus-stack has been installed. Check its status by running:\n  kubectl --namespace monitoring get pods -l \"release=kube-prometheus-stack\"\n\nVisit https://github.com/prometheus-operator/kube-prometheus for instructions on how to create \u0026 configure Alertmanager and Prometheus instances using the Operator.\n\n1. Get your 'admin' user password by running:\n\n   kubectl get secret --namespace monitoring kube-prometheus-stack-grafana -o jsonpath=\"{.data.admin-password}\" | base64 --decode ; echo\n\n\n2. The Grafana server can be accessed via port 80 on the following DNS name from within your cluster:\n\n   kube-prometheus-stack-grafana.monitoring.svc.cluster.local\n\n   If you bind grafana to 80, please update values in values.yaml and reinstall:\n   ```\n   securityContext:\n     runAsUser: 0\n     runAsGroup: 0\n     fsGroup: 0\n\n   command:\n   - \"setcap\"\n   - \"'cap_net_bind_service=+ep'\"\n   - \"/usr/sbin/grafana-server \u0026\u0026\"\n   - \"sh\"\n   - \"/run.sh\"\n   ```\n   Details refer to https://grafana.com/docs/installation/configuration/#http-port.\n   Or grafana would always crash.\n\n   From outside the cluster, the server URL(s) are:\n     http://grafana.karimdevops.com\n\n3. Login with the password from step 1 and the username: admin\n#################################################################################\n######   WARNING: Persistence is disabled!!! You will lose your data when   #####\n######            the Grafana pod is terminated.                            #####\n#################################################################################\n\nkube-state-metrics is a simple service that listens to the Kubernetes API server and generates metrics about the state of the objects.\nThe exposed metrics can be found here:\nhttps://github.com/kubernetes/kube-state-metrics/blob/master/docs/README.md#exposed-metrics\n\nThe metrics are exported on the HTTP endpoint /metrics on the listening port.\nIn your case, kube-prometheus-stack-kube-state-metrics.monitoring.svc.cluster.local:8080/metrics\n\nThey are served either as plaintext or protobuf depending on the Accept header.\nThey are designed to be consumed either by Prometheus itself or by a scraper that is compatible with scraping a Prometheus client endpoint.\n","revision":1,"values":"{\"alertmanager\":{\"enabled\":true,\"ingress\":{\"annotations\":{\"cert-manager.io/cluster-issuer\":\"letsencrypt-production\"},\"enabled\":true,\"hosts\":[\"alertmanager.karimdevops.com\"],\"ingressClassName\":\"nginx\",\"tls\":[{\"hosts\":[\"alertmanager.karimdevops.com\"],\"secretName\":\"alertmanager-tls\"}]}},\"grafana\":{\"adminPassword\":\"admin\",\"adminUser\":\"admin\",\"enabled\":true,\"ingress\":{\"annotations\":{\"cert-manager.io/cluster-issuer\":\"letsencrypt-production\"},\"enabled\":true,\"hosts\":[\"grafana.karimdevops.com\"],\"ingressClassName\":\"nginx\",\"tls\":[{\"hosts\":[\"grafana.karimdevops.com\"],\"secretName\":\"grafana-tls\"}]}},\"kube-state-metrics\":{\"resources\":{\"limits\":{\"memory\":\"300Mi\"},\"requests\":{\"cpu\":\"10m\",\"memory\":\"300Mi\"}}},\"prometheus\":{\"ingress\":{\"annotations\":{\"cert-manager.io/cluster-issuer\":\"letsencrypt-production\"},\"enabled\":true,\"hosts\":[\"prometheus.karimdevops.com\"],\"ingressClassName\":\"nginx\",\"tls\":[{\"hosts\":[\"prometheus.karimdevops.com\"],\"secretName\":\"prometheus-tls\"}]},\"prometheusSpec\":{\"enableAdminAPI\":false,\"logFormat\":\"logfmt\",\"logLevel\":\"info\",\"prometheusExternalLabelName\":\"prometheus_cluster\",\"replicaExternalLabelName\":\"prometheus_replica\",\"replicas\":2,\"resources\":{\"limits\":{\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"500m\",\"memory\":\"2Gi\"}},\"retention\":\"120h\",\"serviceMonitorNamespaceSelector\":{},\"serviceMonitorSelector\":{},\"serviceMonitorSelectorNilUsesHelmValues\":false}},\"prometheus-node-exporter\":{\"resources\":{\"limits\":{\"memory\":\"30Mi\"},\"requests\":{\"cpu\":\"20m\",\"memory\":\"30Mi\"}}},\"prometheusOperator\":{\"resources\":{\"limits\":{\"memory\":\"400Mi\"},\"requests\":{\"cpu\":\"10m\",\"memory\":\"400Mi\"}}}}","version":"45.29.0"}],"name":"kube-prometheus-stack","namespace":"monitoring","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://prometheus-community.github.io/helm-charts","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"upgrade_install":null,"values":["grafana:\n  adminUser: admin\n  adminPassword: admin\n  enabled: true\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - grafana.karimdevops.com\n    tls:\n      - secretName: grafana-tls\n        hosts:\n          - grafana.karimdevops.com\n\nalertmanager:\n  enabled: true\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - alertmanager.karimdevops.com\n    tls:\n      - secretName: alertmanager-tls\n        hosts:\n          - alertmanager.karimdevops.com\n\nprometheus:\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - prometheus.karimdevops.com\n    tls:\n      - secretName: prometheus-tls\n        hosts:\n          - prometheus.karimdevops.com\n  prometheusSpec:\n    replicas: 2\n    replicaExternalLabelName: prometheus_replica\n    prometheusExternalLabelName: prometheus_cluster\n    enableAdminAPI: false\n    logFormat: logfmt\n    logLevel: info\n    retention: 120h\n    serviceMonitorSelectorNilUsesHelmValues: false\n    serviceMonitorNamespaceSelector: {}\n    serviceMonitorSelector: {}\n    resources:\n      limits:\n        memory: 2Gi\n      requests:\n        cpu: 500m\n        memory: 2Gi\n\nprometheus-node-exporter:\n  resources:\n    limits:\n      memory: 30Mi\n    requests:\n      cpu: 20m\n      memory: 30Mi\n\nkube-state-metrics:\n  resources:\n    limits:\n      memory: 300Mi\n    requests:\n      cpu: 10m\n      memory: 300Mi\n\nprometheusOperator:\n  resources:\n    limits:\n      memory: 400Mi\n    requests:\n      cpu: 10m\n      memory: 400Mi\n"],"verify":false,"version":"45.29.0","wait":true,"wait_for_jobs":false},"after_unknown":{},"before_sensitive":{"metadata":[{}],"postrender":[],"repository_password":true,"set":[],"set_list":[],"set_sensitive":[],"values":[false]},"after_sensitive":{"metadata":[{}],"postrender":[],"repository_password":true,"set":[],"set_list":[],"set_sensitive":[],"values":[false]}}},{"address":"helm_release.nginx_ingress","mode":"managed","type":"helm_release","name":"nginx_ingress","provider_name":"registry.terraform.io/hashicorp/helm","change":{"actions":["no-op"],"before":{"atomic":false,"chart":"ingress-nginx","cleanup_on_fail":true,"create_namespace":true,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"nginx-ingress","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"1.3.0","chart":"ingress-nginx","first_deployed":1729758523,"last_deployed":1729758523,"name":"nginx-ingress","namespace":"ingress-nginx","notes":"The ingress-nginx controller has been installed.\nIt may take a few minutes for the LoadBalancer IP to be available.\nYou can watch the status by running 'kubectl --namespace ingress-nginx get services -o wide -w nginx-ingress-ingress-nginx-controller'\n\nAn example Ingress that makes use of the controller:\n  apiVersion: networking.k8s.io/v1\n  kind: Ingress\n  metadata:\n    name: example\n    namespace: foo\n  spec:\n    ingressClassName: nginx\n    rules:\n      - host: www.example.com\n        http:\n          paths:\n            - pathType: Prefix\n              backend:\n                service:\n                  name: exampleService\n                  port:\n                    number: 80\n              path: /\n    # This section is only required if TLS is to be enabled for the Ingress\n    tls:\n      - hosts:\n        - www.example.com\n        secretName: example-tls\n\nIf TLS is enabled for the Ingress, a Secret containing the certificate and key must also be provided:\n\n  apiVersion: v1\n  kind: Secret\n  metadata:\n    name: example-tls\n    namespace: foo\n  data:\n    tls.crt: \u003cbase64 encoded cert\u003e\n    tls.key: \u003cbase64 encoded key\u003e\n  type: kubernetes.io/tls\n","revision":1,"values":"{\"controller\":{\"admissionWebhooks\":{\"enabled\":false},\"autoscaling\":{\"enabled\":true,\"maxReplicas\":4,\"minReplicas\":1,\"targetCPUUtilizationPercentage\":85},\"kind\":\"Deployment\",\"metrics\":{\"enabled\":true},\"podAnnotations\":{\"prometheus.io/path\":\"/metrics\",\"prometheus.io/port\":\"10254\",\"prometheus.io/scrape\":\"true\"},\"publishService\":{\"enabled\":true,\"publishServicePath\":\"$(POD_NAMESPACE)/nginx-ingress-controller\"},\"resources\":{\"limits\":{\"cpu\":1,\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"150m\",\"memory\":\"128Mi\"}},\"service\":{\"enableHttp\":\"true\",\"enableHttps\":\"true\",\"externalTrafficPolicy\":\"Local\",\"type\":\"LoadBalancer\"},\"stats\":{\"enabled\":true},\"updateStrategy\":{\"rollingUpdate\":{\"maxSurge\":1,\"maxUnavailable\":0},\"type\":\"RollingUpdate\"}},\"defaultBackend\":{\"enabled\":false},\"rbac\":{\"create\":true}}","version":"4.2.3"}],"name":"nginx-ingress","namespace":"ingress-nginx","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://kubernetes.github.io/ingress-nginx","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"upgrade_install":null,"values":["    controller:\n      kind: Deployment\n      podAnnotations:\n        prometheus.io/path: \"/metrics\"\n        prometheus.io/port: \"10254\"\n        prometheus.io/scrape: \"true\"\n      stats:\n        enabled: true\n      metrics:\n        enabled: true\n      publishService:\n        enabled: true\n        publishServicePath: \"$(POD_NAMESPACE)/nginx-ingress-controller\"\n      service:\n        enableHttp: \"true\"\n        enableHttps: \"true\"\n        externalTrafficPolicy: Local\n        type: LoadBalancer\n      autoscaling:\n        enabled: true\n        maxReplicas: 4\n        minReplicas: 1\n        targetCPUUtilizationPercentage: 85\n      resources:\n        requests:\n          cpu: 150m\n          memory: 128Mi\n        limits:\n          cpu: 1\n          memory: 512Mi\n      updateStrategy:\n        type: RollingUpdate\n        rollingUpdate:\n          maxSurge: 1\n          maxUnavailable: 0\n      admissionWebhooks:\n        enabled: false\n    rbac:\n      create: true\n    defaultBackend:\n      enabled: false\n"],"verify":false,"version":"4.2.3","wait":true,"wait_for_jobs":false},"after":{"atomic":false,"chart":"ingress-nginx","cleanup_on_fail":true,"create_namespace":true,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"nginx-ingress","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"1.3.0","chart":"ingress-nginx","first_deployed":1729758523,"last_deployed":1729758523,"name":"nginx-ingress","namespace":"ingress-nginx","notes":"The ingress-nginx controller has been installed.\nIt may take a few minutes for the LoadBalancer IP to be available.\nYou can watch the status by running 'kubectl --namespace ingress-nginx get services -o wide -w nginx-ingress-ingress-nginx-controller'\n\nAn example Ingress that makes use of the controller:\n  apiVersion: networking.k8s.io/v1\n  kind: Ingress\n  metadata:\n    name: example\n    namespace: foo\n  spec:\n    ingressClassName: nginx\n    rules:\n      - host: www.example.com\n        http:\n          paths:\n            - pathType: Prefix\n              backend:\n                service:\n                  name: exampleService\n                  port:\n                    number: 80\n              path: /\n    # This section is only required if TLS is to be enabled for the Ingress\n    tls:\n      - hosts:\n        - www.example.com\n        secretName: example-tls\n\nIf TLS is enabled for the Ingress, a Secret containing the certificate and key must also be provided:\n\n  apiVersion: v1\n  kind: Secret\n  metadata:\n    name: example-tls\n    namespace: foo\n  data:\n    tls.crt: \u003cbase64 encoded cert\u003e\n    tls.key: \u003cbase64 encoded key\u003e\n  type: kubernetes.io/tls\n","revision":1,"values":"{\"controller\":{\"admissionWebhooks\":{\"enabled\":false},\"autoscaling\":{\"enabled\":true,\"maxReplicas\":4,\"minReplicas\":1,\"targetCPUUtilizationPercentage\":85},\"kind\":\"Deployment\",\"metrics\":{\"enabled\":true},\"podAnnotations\":{\"prometheus.io/path\":\"/metrics\",\"prometheus.io/port\":\"10254\",\"prometheus.io/scrape\":\"true\"},\"publishService\":{\"enabled\":true,\"publishServicePath\":\"$(POD_NAMESPACE)/nginx-ingress-controller\"},\"resources\":{\"limits\":{\"cpu\":1,\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"150m\",\"memory\":\"128Mi\"}},\"service\":{\"enableHttp\":\"true\",\"enableHttps\":\"true\",\"externalTrafficPolicy\":\"Local\",\"type\":\"LoadBalancer\"},\"stats\":{\"enabled\":true},\"updateStrategy\":{\"rollingUpdate\":{\"maxSurge\":1,\"maxUnavailable\":0},\"type\":\"RollingUpdate\"}},\"defaultBackend\":{\"enabled\":false},\"rbac\":{\"create\":true}}","version":"4.2.3"}],"name":"nginx-ingress","namespace":"ingress-nginx","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://kubernetes.github.io/ingress-nginx","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"upgrade_install":null,"values":["    controller:\n      kind: Deployment\n      podAnnotations:\n        prometheus.io/path: \"/metrics\"\n        prometheus.io/port: \"10254\"\n        prometheus.io/scrape: \"true\"\n      stats:\n        enabled: true\n      metrics:\n        enabled: true\n      publishService:\n        enabled: true\n        publishServicePath: \"$(POD_NAMESPACE)/nginx-ingress-controller\"\n      service:\n        enableHttp: \"true\"\n        enableHttps: \"true\"\n        externalTrafficPolicy: Local\n        type: LoadBalancer\n      autoscaling:\n        enabled: true\n        maxReplicas: 4\n        minReplicas: 1\n        targetCPUUtilizationPercentage: 85\n      resources:\n        requests:\n          cpu: 150m\n          memory: 128Mi\n        limits:\n          cpu: 1\n          memory: 512Mi\n      updateStrategy:\n        type: RollingUpdate\n        rollingUpdate:\n          maxSurge: 1\n          maxUnavailable: 0\n      admissionWebhooks:\n        enabled: false\n    rbac:\n      create: true\n    defaultBackend:\n      enabled: false\n"],"verify":false,"version":"4.2.3","wait":true,"wait_for_jobs":false},"after_unknown":{},"before_sensitive":{"metadata":[{}],"postrender":[],"repository_password":true,"set":[],"set_list":[],"set_sensitive":[],"values":[false]},"after_sensitive":{"metadata":[{}],"postrender":[],"repository_password":true,"set":[],"set_list":[],"set_sensitive":[],"values":[false]}}},{"address":"module.ebs_csi_irsa_role.aws_iam_policy.ebs_csi[0]","module_address":"module.ebs_csi_irsa_role","mode":"managed","type":"aws_iam_policy","name":"ebs_csi","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","description":"Provides permissions to manage EBS volumes via the container storage interface driver","id":"arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","name":"AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","name_prefix":"AmazonEKS_EBS_CSI_Policy-","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:ModifyVolume\",\"ec2:EnableFastSnapshotRestores\",\"ec2:DetachVolume\",\"ec2:DescribeVolumesModifications\",\"ec2:DescribeVolumes\",\"ec2:DescribeTags\",\"ec2:DescribeSnapshots\",\"ec2:DescribeInstances\",\"ec2:DescribeAvailabilityZones\",\"ec2:CreateSnapshot\",\"ec2:AttachVolume\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:CreateTags\",\"Condition\":{\"StringEquals\":{\"ec2:CreateAction\":[\"CreateVolume\",\"CreateSnapshot\"]}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"],\"Sid\":\"\"},{\"Action\":\"ec2:DeleteTags\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"],\"Sid\":\"\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/kubernetes.io/cluster/*\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/cluster/*\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/created-for/pvc/name\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteSnapshot\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeSnapshotName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteSnapshot\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAZ7XAOXXZLIRYEJFYV","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"}},"after":{"arn":"arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","description":"Provides permissions to manage EBS volumes via the container storage interface driver","id":"arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","name":"AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","name_prefix":"AmazonEKS_EBS_CSI_Policy-","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:ModifyVolume\",\"ec2:EnableFastSnapshotRestores\",\"ec2:DetachVolume\",\"ec2:DescribeVolumesModifications\",\"ec2:DescribeVolumes\",\"ec2:DescribeTags\",\"ec2:DescribeSnapshots\",\"ec2:DescribeInstances\",\"ec2:DescribeAvailabilityZones\",\"ec2:CreateSnapshot\",\"ec2:AttachVolume\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:CreateTags\",\"Condition\":{\"StringEquals\":{\"ec2:CreateAction\":[\"CreateVolume\",\"CreateSnapshot\"]}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"],\"Sid\":\"\"},{\"Action\":\"ec2:DeleteTags\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"],\"Sid\":\"\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/kubernetes.io/cluster/*\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/cluster/*\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/created-for/pvc/name\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteSnapshot\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeSnapshotName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteSnapshot\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAZ7XAOXXZLIRYEJFYV","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.ebs_csi_irsa_role.aws_iam_role.this[0]","module_address":"module.ebs_csi_irsa_role","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-ebs-csi","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:aud\":\"sts.amazonaws.com\",\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\":\"system:serviceaccount:kube-system:ebs-csi-controller-sa\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:28:39Z","description":"","force_detach_policies":true,"id":"cluster-1-test-ebs-csi","inline_policy":[],"managed_policy_arns":["arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003"],"max_session_duration":3600,"name":"cluster-1-test-ebs-csi","name_prefix":"","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T08:33:13Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZEKWSWEFVB"},"after":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-ebs-csi","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:aud\":\"sts.amazonaws.com\",\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\":\"system:serviceaccount:kube-system:ebs-csi-controller-sa\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:28:39Z","description":"","force_detach_policies":true,"id":"cluster-1-test-ebs-csi","inline_policy":[],"managed_policy_arns":["arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003"],"max_session_duration":3600,"name":"cluster-1-test-ebs-csi","name_prefix":"","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T08:33:13Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZEKWSWEFVB"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[false],"role_last_used":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false],"role_last_used":[{}],"tags":{},"tags_all":{}}}},{"address":"module.ebs_csi_irsa_role.aws_iam_role_policy_attachment.ebs_csi[0]","module_address":"module.ebs_csi_irsa_role","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"cluster-1-test-ebs-csi-20241024082839641000000013","policy_arn":"arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","role":"cluster-1-test-ebs-csi"},"after":{"id":"cluster-1-test-ebs-csi-20241024082839641000000013","policy_arn":"arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","role":"cluster-1-test-ebs-csi"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.eks.aws_ec2_tag.cluster_primary_security_group[\"Environment\"]","module_address":"module.eks","mode":"managed","type":"aws_ec2_tag","name":"cluster_primary_security_group","index":"Environment","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"sg-052870fb53e73b766,Environment","key":"Environment","resource_id":"sg-052870fb53e73b766","value":"test"},"after":{"id":"sg-052870fb53e73b766,Environment","key":"Environment","resource_id":"sg-052870fb53e73b766","value":"test"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.eks.aws_ec2_tag.cluster_primary_security_group[\"Terraform\"]","module_address":"module.eks","mode":"managed","type":"aws_ec2_tag","name":"cluster_primary_security_group","index":"Terraform","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"sg-052870fb53e73b766,Terraform","key":"Terraform","resource_id":"sg-052870fb53e73b766","value":"true"},"after":{"id":"sg-052870fb53e73b766,Terraform","key":"Terraform","resource_id":"sg-052870fb53e73b766","value":"true"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.eks.aws_eks_addon.this[\"aws-ebs-csi-driver\"]","module_address":"module.eks","mode":"managed","type":"aws_eks_addon","name":"this","index":"aws-ebs-csi-driver","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"addon_name":"aws-ebs-csi-driver","addon_version":"v1.35.0-eksbuild.1","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/aws-ebs-csi-driver/20c95ed3-01b8-2ae8-0a73-f79d3f8e55f8","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:aws-ebs-csi-driver","modified_at":"2024-10-24T08:31:14Z","preserve":null,"resolve_conflicts":"OVERWRITE","service_account_role_arn":"arn:aws:iam::686591753714:role/cluster-1-test-ebs-csi","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"after":{"addon_name":"aws-ebs-csi-driver","addon_version":"v1.35.0-eksbuild.1","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/aws-ebs-csi-driver/20c95ed3-01b8-2ae8-0a73-f79d3f8e55f8","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:aws-ebs-csi-driver","modified_at":"2024-10-24T08:31:14Z","preserve":null,"resolve_conflicts":"OVERWRITE","service_account_role_arn":"arn:aws:iam::686591753714:role/cluster-1-test-ebs-csi","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.eks.aws_eks_addon.this[\"coredns\"]","module_address":"module.eks","mode":"managed","type":"aws_eks_addon","name":"this","index":"coredns","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"addon_name":"coredns","addon_version":"v1.8.7-eksbuild.7","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/coredns/88c95ed3-01b9-9bc6-0f63-52c598ab6c59","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:coredns","modified_at":"2024-10-24T08:30:42Z","preserve":null,"resolve_conflicts":"OVERWRITE","service_account_role_arn":"","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"after":{"addon_name":"coredns","addon_version":"v1.8.7-eksbuild.7","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/coredns/88c95ed3-01b9-9bc6-0f63-52c598ab6c59","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:coredns","modified_at":"2024-10-24T08:30:42Z","preserve":null,"resolve_conflicts":"OVERWRITE","service_account_role_arn":"","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.eks.aws_eks_addon.this[\"kube-proxy\"]","module_address":"module.eks","mode":"managed","type":"aws_eks_addon","name":"this","index":"kube-proxy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"addon_name":"kube-proxy","addon_version":"v1.23.17-eksbuild.3","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/kube-proxy/a0c95ed3-01b5-fff1-2f54-aba00bd8a11a","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:kube-proxy","modified_at":"2024-10-24T08:30:34Z","preserve":null,"resolve_conflicts":null,"service_account_role_arn":"","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"after":{"addon_name":"kube-proxy","addon_version":"v1.23.17-eksbuild.3","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/kube-proxy/a0c95ed3-01b5-fff1-2f54-aba00bd8a11a","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:kube-proxy","modified_at":"2024-10-24T08:30:34Z","preserve":null,"resolve_conflicts":null,"service_account_role_arn":"","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.eks.aws_eks_addon.this[\"vpc-cni\"]","module_address":"module.eks","mode":"managed","type":"aws_eks_addon","name":"this","index":"vpc-cni","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"addon_name":"vpc-cni","addon_version":"v1.15.1-eksbuild.1","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/vpc-cni/a6c95ed3-01b4-53f9-b703-538999ec8ac6","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:vpc-cni","modified_at":"2024-10-24T08:32:34Z","preserve":null,"resolve_conflicts":"OVERWRITE","service_account_role_arn":"","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"after":{"addon_name":"vpc-cni","addon_version":"v1.15.1-eksbuild.1","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/vpc-cni/a6c95ed3-01b4-53f9-b703-538999ec8ac6","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:vpc-cni","modified_at":"2024-10-24T08:32:34Z","preserve":null,"resolve_conflicts":"OVERWRITE","service_account_role_arn":"","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.eks.aws_eks_cluster.this[0]","module_address":"module.eks","mode":"managed","type":"aws_eks_cluster","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:eks:eu-west-3:686591753714:cluster/cluster-1-test","certificate_authority":[{"data":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJME1UQXlOREE0TWpVd01Gb1hEVE0wTVRBeU1qQTRNalV3TUZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT1V6CmltTlpubE5lTFFrT2paNXlsaThyb3pCWXgwVGRraGxIbW44RlVqaFREbFlPUHVPbHdTQkFJenl1U1F1VjJCMngKVjVmV1JPQnRiODZycGE1OVVGcmUzNEQrS2kzMXpyQVpIU2pSaTUzQUN1VFY1V0JZaEJlRVRlMmFTL0dTN1hkWApzYm84TVk3bXZrbEtpNzlndHNvcC90a3EranVjbG1HMDZXbVNvVHJTU1doa3llajd6ZDhOczFaNTNnWjZCN2x6CjZNNXN5Z3pSYnEzM21OTDlWMkp5NFRwKzR3OTFFdUl2QitTOHExanNhdDgwd2tobGxiT1ZzUU1CalkyT3Zpc1MKODBxbk5RMi9RSXdORkFYQzdJQWcyZ1RTMHQxZ0w1N3N5bHlkQWtCbVoyWTJHREZjT242bUVKTGN5cHYxV2JMSAp0Z2ovaVptWjlJZU9zSkNtSFBjQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZPZHZEWUpCNzZtYzFvUlczRHppcWplWGdXem1NQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBTUcybHJSQWcrQ0dzU1Azdlk1QgpraDdlK1FEbENlRDh5YXdvNW1UYW1RYXRydzc4UElYay9OTHNaRjJ1NjMzMWYwSTl6anhaSmJCbkNjV1ZLQjNoCkxGZVN5VUEvM0MwNHUxSG1kd2t4OU9CYVFxY3ArT29sNjRDWUlXUlkwUDd3NGJ1WFdlbDZvaHNxUXZMV1hlcFYKWXRaN1dsaHdLcjdncmpVVWxtM2lWNUUyaHlmU2FKMEZxQWIzRHJ2OHppTUVZcTlWOTNlbjdaYVp6WUNYdkdzeApXWUd3SGNzeUFuYVVjWGtsN3NZcG1jUVpwK3d5R2M5Q0FMalRwTjBkNnZGOTNiQUIxU3Zicld6WW12K2lYb20wCndOWjdDVWpnWEhLVG12S0VydTRHU3pMREFBSHo3TUE4emhpY3loU0kydGJXYzlsbEdmNHZ0OWVwV01pUkhkZXcKdlNzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="}],"cluster_id":null,"created_at":"2024-10-24 08:21:08.607 +0000 UTC","enabled_cluster_log_types":["api","audit","authenticator"],"encryption_config":[],"endpoint":"https://664F193C4205EBC523D1FD032C549B8D.gr7.eu-west-3.eks.amazonaws.com","id":"cluster-1-test","identity":[{"oidc":[{"issuer":"https://oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D"}]}],"kubernetes_network_config":[{"ip_family":"ipv4","service_ipv4_cidr":"172.20.0.0/16","service_ipv6_cidr":""}],"name":"cluster-1-test","outpost_config":[],"platform_version":"eks.32","role_arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-20241024082046493600000002","status":"ACTIVE","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":{"create":null,"delete":null,"update":null},"version":"1.23","vpc_config":[{"cluster_security_group_id":"sg-052870fb53e73b766","endpoint_private_access":true,"endpoint_public_access":true,"public_access_cidrs":["0.0.0.0/0"],"security_group_ids":["sg-04b658b30ff02546e"],"subnet_ids":["subnet-05e604773ead19337","subnet-0cc42401e36283845"],"vpc_id":"vpc-0ca2f2a87d3be5e08"}]},"after":{"arn":"arn:aws:eks:eu-west-3:686591753714:cluster/cluster-1-test","certificate_authority":[{"data":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJME1UQXlOREE0TWpVd01Gb1hEVE0wTVRBeU1qQTRNalV3TUZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT1V6CmltTlpubE5lTFFrT2paNXlsaThyb3pCWXgwVGRraGxIbW44RlVqaFREbFlPUHVPbHdTQkFJenl1U1F1VjJCMngKVjVmV1JPQnRiODZycGE1OVVGcmUzNEQrS2kzMXpyQVpIU2pSaTUzQUN1VFY1V0JZaEJlRVRlMmFTL0dTN1hkWApzYm84TVk3bXZrbEtpNzlndHNvcC90a3EranVjbG1HMDZXbVNvVHJTU1doa3llajd6ZDhOczFaNTNnWjZCN2x6CjZNNXN5Z3pSYnEzM21OTDlWMkp5NFRwKzR3OTFFdUl2QitTOHExanNhdDgwd2tobGxiT1ZzUU1CalkyT3Zpc1MKODBxbk5RMi9RSXdORkFYQzdJQWcyZ1RTMHQxZ0w1N3N5bHlkQWtCbVoyWTJHREZjT242bUVKTGN5cHYxV2JMSAp0Z2ovaVptWjlJZU9zSkNtSFBjQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZPZHZEWUpCNzZtYzFvUlczRHppcWplWGdXem1NQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBTUcybHJSQWcrQ0dzU1Azdlk1QgpraDdlK1FEbENlRDh5YXdvNW1UYW1RYXRydzc4UElYay9OTHNaRjJ1NjMzMWYwSTl6anhaSmJCbkNjV1ZLQjNoCkxGZVN5VUEvM0MwNHUxSG1kd2t4OU9CYVFxY3ArT29sNjRDWUlXUlkwUDd3NGJ1WFdlbDZvaHNxUXZMV1hlcFYKWXRaN1dsaHdLcjdncmpVVWxtM2lWNUUyaHlmU2FKMEZxQWIzRHJ2OHppTUVZcTlWOTNlbjdaYVp6WUNYdkdzeApXWUd3SGNzeUFuYVVjWGtsN3NZcG1jUVpwK3d5R2M5Q0FMalRwTjBkNnZGOTNiQUIxU3Zicld6WW12K2lYb20wCndOWjdDVWpnWEhLVG12S0VydTRHU3pMREFBSHo3TUE4emhpY3loU0kydGJXYzlsbEdmNHZ0OWVwV01pUkhkZXcKdlNzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="}],"cluster_id":null,"created_at":"2024-10-24 08:21:08.607 +0000 UTC","enabled_cluster_log_types":["api","audit","authenticator"],"encryption_config":[],"endpoint":"https://664F193C4205EBC523D1FD032C549B8D.gr7.eu-west-3.eks.amazonaws.com","id":"cluster-1-test","identity":[{"oidc":[{"issuer":"https://oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D"}]}],"kubernetes_network_config":[{"ip_family":"ipv4","service_ipv4_cidr":"172.20.0.0/16","service_ipv6_cidr":""}],"name":"cluster-1-test","outpost_config":[],"platform_version":"eks.32","role_arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-20241024082046493600000002","status":"ACTIVE","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":{"create":null,"delete":null,"update":null},"version":"1.23","vpc_config":[{"cluster_security_group_id":"sg-052870fb53e73b766","endpoint_private_access":true,"endpoint_public_access":true,"public_access_cidrs":["0.0.0.0/0"],"security_group_ids":["sg-04b658b30ff02546e"],"subnet_ids":["subnet-05e604773ead19337","subnet-0cc42401e36283845"],"vpc_id":"vpc-0ca2f2a87d3be5e08"}]},"after_unknown":{},"before_sensitive":{"certificate_authority":[{}],"enabled_cluster_log_types":[false,false,false],"encryption_config":[],"identity":[{"oidc":[{}]}],"kubernetes_network_config":[{}],"outpost_config":[],"tags":{},"tags_all":{},"timeouts":{},"vpc_config":[{"public_access_cidrs":[false],"security_group_ids":[false],"subnet_ids":[false,false]}]},"after_sensitive":{"certificate_authority":[{}],"enabled_cluster_log_types":[false,false,false],"encryption_config":[],"identity":[{"oidc":[{}]}],"kubernetes_network_config":[{}],"outpost_config":[],"tags":{},"tags_all":{},"timeouts":{},"vpc_config":[{"public_access_cidrs":[false],"security_group_ids":[false],"subnet_ids":[false,false]}]}}},{"address":"module.eks.aws_iam_openid_connect_provider.oidc_provider[0]","module_address":"module.eks","mode":"managed","type":"aws_iam_openid_connect_provider","name":"oidc_provider","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D","client_id_list":["sts.amazonaws.com"],"id":"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D","tags":{"Environment":"test","Name":"cluster-1-test-eks-irsa","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-eks-irsa","Terraform":"true"},"thumbprint_list":["9e99a48a9960b14926bb7f3b02e22da2b0ab7280","06b25927c42a721631c1efd9431e648fa62e1e39","414a2060b738c635cc7fc243e052615592830c53","0e5107483589d91041a8733fbcf0e964152d1e90"],"url":"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D"},"after":{"arn":"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D","client_id_list":["sts.amazonaws.com"],"id":"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D","tags":{"Environment":"test","Name":"cluster-1-test-eks-irsa","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-eks-irsa","Terraform":"true"},"thumbprint_list":["9e99a48a9960b14926bb7f3b02e22da2b0ab7280","06b25927c42a721631c1efd9431e648fa62e1e39","414a2060b738c635cc7fc243e052615592830c53","0e5107483589d91041a8733fbcf0e964152d1e90"],"url":"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D"},"after_unknown":{},"before_sensitive":{"client_id_list":[false],"tags":{},"tags_all":{},"thumbprint_list":[false,false,false,false]},"after_sensitive":{"client_id_list":[false],"tags":{},"tags_all":{},"thumbprint_list":[false,false,false,false]}}},{"address":"module.eks.aws_iam_role.this[0]","module_address":"module.eks","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-20241024082046493600000002","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Sid\":\"EKSClusterAssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:20:46Z","description":"","force_detach_policies":true,"id":"cluster-1-test-cluster-20241024082046493600000002","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","arn:aws:iam::aws:policy/AmazonEKSVPCResourceController"],"max_session_duration":3600,"name":"cluster-1-test-cluster-20241024082046493600000002","name_prefix":"cluster-1-test-cluster-","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T08:55:56Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZE3IMW242I"},"after":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-20241024082046493600000002","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Sid\":\"EKSClusterAssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:20:46Z","description":"","force_detach_policies":true,"id":"cluster-1-test-cluster-20241024082046493600000002","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","arn:aws:iam::aws:policy/AmazonEKSVPCResourceController"],"max_session_duration":3600,"name":"cluster-1-test-cluster-20241024082046493600000002","name_prefix":"cluster-1-test-cluster-","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T08:55:56Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZE3IMW242I"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[false,false],"role_last_used":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false,false],"role_last_used":[{}],"tags":{},"tags_all":{}}}},{"address":"module.eks.aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy\"]","module_address":"module.eks","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"cluster-1-test-cluster-20241024082046493600000002-20241024082047420800000005","policy_arn":"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","role":"cluster-1-test-cluster-20241024082046493600000002"},"after":{"id":"cluster-1-test-cluster-20241024082046493600000002-20241024082047420800000005","policy_arn":"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","role":"cluster-1-test-cluster-20241024082046493600000002"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.eks.aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEKSVPCResourceController\"]","module_address":"module.eks","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEKSVPCResourceController","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"cluster-1-test-cluster-20241024082046493600000002-20241024082047416100000004","policy_arn":"arn:aws:iam::aws:policy/AmazonEKSVPCResourceController","role":"cluster-1-test-cluster-20241024082046493600000002"},"after":{"id":"cluster-1-test-cluster-20241024082046493600000002-20241024082047416100000004","policy_arn":"arn:aws:iam::aws:policy/AmazonEKSVPCResourceController","role":"cluster-1-test-cluster-20241024082046493600000002"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.eks.aws_security_group.cluster[0]","module_address":"module.eks","mode":"managed","type":"aws_security_group","name":"cluster","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-04b658b30ff02546e","description":"EKS cluster security group","egress":[{"cidr_blocks":[],"description":"Cluster API to node groups","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Cluster API to node kubelets","from_port":10250,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":10250}],"id":"sg-04b658b30ff02546e","ingress":[{"cidr_blocks":[],"description":"Node groups to cluster API via port 8443","from_port":8443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":8443},{"cidr_blocks":[],"description":"Node groups to cluster API","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":443}],"name":"cluster-1-test-cluster-2024102408205829690000000a","name_prefix":"cluster-1-test-cluster-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"cluster-1-test-cluster","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-cluster","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-04b658b30ff02546e","description":"EKS cluster security group","egress":[{"cidr_blocks":[],"description":"Cluster API to node groups","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Cluster API to node kubelets","from_port":10250,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":10250}],"id":"sg-04b658b30ff02546e","ingress":[{"cidr_blocks":[],"description":"Node groups to cluster API via port 8443","from_port":8443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":8443},{"cidr_blocks":[],"description":"Node groups to cluster API","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":443}],"name":"cluster-1-test-cluster-2024102408205829690000000a","name_prefix":"cluster-1-test-cluster-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"cluster-1-test-cluster","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-cluster","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"egress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}}}},{"address":"module.eks.aws_security_group.node[0]","module_address":"module.eks","mode":"managed","type":"aws_security_group","name":"node","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-0751dc8afabcdaeac","description":"EKS node shared security group","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/TCP to internet","from_port":123,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":123},{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/UDP to internet","from_port":123,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":false,"to_port":123},{"cidr_blocks":["0.0.0.0/0"],"description":"Egress all HTTPS to internet","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"Node all egress","from_port":0,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":[],"description":"Node groups to cluster API","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":true,"to_port":53}],"id":"sg-0751dc8afabcdaeac","ingress":[{"cidr_blocks":[],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":["sg-0cf02e08e56b2a6b8"],"self":false,"to_port":0},{"cidr_blocks":[],"description":"Cluster API to node groups","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Cluster API to node kubelets","from_port":10250,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":10250},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node all ports/protocols","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":true,"to_port":0}],"name":"cluster-1-test-node-2024102408205830080000000b","name_prefix":"cluster-1-test-node-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"cluster-1-test-node","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"owned"},"tags_all":{"Environment":"test","Name":"cluster-1-test-node","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"owned"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-0751dc8afabcdaeac","description":"EKS node shared security group","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/TCP to internet","from_port":123,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":123},{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/UDP to internet","from_port":123,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":false,"to_port":123},{"cidr_blocks":["0.0.0.0/0"],"description":"Egress all HTTPS to internet","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"Node all egress","from_port":0,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":[],"description":"Node groups to cluster API","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":true,"to_port":53}],"id":"sg-0751dc8afabcdaeac","ingress":[{"cidr_blocks":[],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":["sg-0cf02e08e56b2a6b8"],"self":false,"to_port":0},{"cidr_blocks":[],"description":"Cluster API to node groups","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Cluster API to node kubelets","from_port":10250,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":10250},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node all ports/protocols","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":true,"to_port":0}],"name":"cluster-1-test-node-2024102408205830080000000b","name_prefix":"cluster-1-test-node-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"cluster-1-test-node","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"owned"},"tags_all":{"Environment":"test","Name":"cluster-1-test-node","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"owned"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}}}},{"address":"module.eks.aws_security_group_rule.cluster[\"egress_nodes_443\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"egress_nodes_443","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":null,"description":"Cluster API to node groups","from_port":443,"id":"sgrule-3832824784","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0f83bc40ba26e2c24","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":443,"type":"egress"},"after":{"cidr_blocks":null,"description":"Cluster API to node groups","from_port":443,"id":"sgrule-3832824784","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0f83bc40ba26e2c24","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":443,"type":"egress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.cluster[\"egress_nodes_kubelet\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"egress_nodes_kubelet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":null,"description":"Cluster API to node kubelets","from_port":10250,"id":"sgrule-89047750","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-00ba18ede70326855","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":10250,"type":"egress"},"after":{"cidr_blocks":null,"description":"Cluster API to node kubelets","from_port":10250,"id":"sgrule-89047750","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-00ba18ede70326855","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":10250,"type":"egress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.cluster[\"ingress_nodes_443\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"ingress_nodes_443","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":null,"description":"Node groups to cluster API","from_port":443,"id":"sgrule-3763320317","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0f83bc40ba26e2c24","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":443,"type":"ingress"},"after":{"cidr_blocks":null,"description":"Node groups to cluster API","from_port":443,"id":"sgrule-3763320317","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0f83bc40ba26e2c24","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":443,"type":"ingress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.cluster[\"ingress_nodes_8443_tcp\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"ingress_nodes_8443_tcp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":null,"description":"Node groups to cluster API via port 8443","from_port":8443,"id":"sgrule-2386139913","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0fe01059c7a50a81c","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":8443,"type":"ingress"},"after":{"cidr_blocks":null,"description":"Node groups to cluster API via port 8443","from_port":8443,"id":"sgrule-2386139913","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0fe01059c7a50a81c","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":8443,"type":"ingress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"egress_all\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_all","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":"Node all egress","from_port":0,"id":"sgrule-2912202734","ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"","self":false,"source_security_group_id":null,"timeouts":null,"to_port":0,"type":"egress"},"after":{"cidr_blocks":["0.0.0.0/0"],"description":"Node all egress","from_port":0,"id":"sgrule-2912202734","ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"","self":false,"source_security_group_id":null,"timeouts":null,"to_port":0,"type":"egress"},"after_unknown":{},"before_sensitive":{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[]},"after_sensitive":{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"egress_cluster_443\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_cluster_443","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":null,"description":"Node groups to cluster API","from_port":443,"id":"sgrule-973296535","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0d77333d7886e8c33","self":false,"source_security_group_id":"sg-04b658b30ff02546e","timeouts":null,"to_port":443,"type":"egress"},"after":{"cidr_blocks":null,"description":"Node groups to cluster API","from_port":443,"id":"sgrule-973296535","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0d77333d7886e8c33","self":false,"source_security_group_id":"sg-04b658b30ff02546e","timeouts":null,"to_port":443,"type":"egress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"egress_https\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_https","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":"Egress all HTTPS to internet","from_port":443,"id":"sgrule-291372456","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0e34ab605fb394f56","self":false,"source_security_group_id":null,"timeouts":null,"to_port":443,"type":"egress"},"after":{"cidr_blocks":["0.0.0.0/0"],"description":"Egress all HTTPS to internet","from_port":443,"id":"sgrule-291372456","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0e34ab605fb394f56","self":false,"source_security_group_id":null,"timeouts":null,"to_port":443,"type":"egress"},"after_unknown":{},"before_sensitive":{"cidr_blocks":[false],"prefix_list_ids":[]},"after_sensitive":{"cidr_blocks":[false],"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"egress_ntp_tcp\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_ntp_tcp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/TCP to internet","from_port":123,"id":"sgrule-3464741046","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0238919dde5d1deaa","self":false,"source_security_group_id":null,"timeouts":null,"to_port":123,"type":"egress"},"after":{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/TCP to internet","from_port":123,"id":"sgrule-3464741046","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0238919dde5d1deaa","self":false,"source_security_group_id":null,"timeouts":null,"to_port":123,"type":"egress"},"after_unknown":{},"before_sensitive":{"cidr_blocks":[false],"prefix_list_ids":[]},"after_sensitive":{"cidr_blocks":[false],"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"egress_ntp_udp\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_ntp_udp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/UDP to internet","from_port":123,"id":"sgrule-2954749371","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"udp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-06fd19386e178d2f7","self":false,"source_security_group_id":null,"timeouts":null,"to_port":123,"type":"egress"},"after":{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/UDP to internet","from_port":123,"id":"sgrule-2954749371","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"udp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-06fd19386e178d2f7","self":false,"source_security_group_id":null,"timeouts":null,"to_port":123,"type":"egress"},"after_unknown":{},"before_sensitive":{"cidr_blocks":[false],"prefix_list_ids":[]},"after_sensitive":{"cidr_blocks":[false],"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"egress_self_coredns_tcp\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_self_coredns_tcp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-4025882043","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0b10726a79217c75f","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"egress"},"after":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-4025882043","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0b10726a79217c75f","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"egress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"egress_self_coredns_udp\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_self_coredns_udp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-1636931549","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"udp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0f21eca9fe3e64d20","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"egress"},"after":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-1636931549","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"udp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0f21eca9fe3e64d20","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"egress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"ingress_cluster_443\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_cluster_443","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":null,"description":"Cluster API to node groups","from_port":443,"id":"sgrule-1977202689","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0867aef36d9063e85","self":false,"source_security_group_id":"sg-04b658b30ff02546e","timeouts":null,"to_port":443,"type":"ingress"},"after":{"cidr_blocks":null,"description":"Cluster API to node groups","from_port":443,"id":"sgrule-1977202689","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0867aef36d9063e85","self":false,"source_security_group_id":"sg-04b658b30ff02546e","timeouts":null,"to_port":443,"type":"ingress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"ingress_cluster_kubelet\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_cluster_kubelet","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":null,"description":"Cluster API to node kubelets","from_port":10250,"id":"sgrule-548397254","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-06e4faaacfa31542b","self":false,"source_security_group_id":"sg-04b658b30ff02546e","timeouts":null,"to_port":10250,"type":"ingress"},"after":{"cidr_blocks":null,"description":"Cluster API to node kubelets","from_port":10250,"id":"sgrule-548397254","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-06e4faaacfa31542b","self":false,"source_security_group_id":"sg-04b658b30ff02546e","timeouts":null,"to_port":10250,"type":"ingress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"ingress_self_all\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_self_all","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":null,"description":"Node to node all ports/protocols","from_port":0,"id":"sgrule-2793813583","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"-1","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0c5ab3d30b091944d","self":true,"source_security_group_id":null,"timeouts":null,"to_port":0,"type":"ingress"},"after":{"cidr_blocks":null,"description":"Node to node all ports/protocols","from_port":0,"id":"sgrule-2793813583","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"-1","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0c5ab3d30b091944d","self":true,"source_security_group_id":null,"timeouts":null,"to_port":0,"type":"ingress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"ingress_self_coredns_tcp\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_self_coredns_tcp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-975474555","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0b10726a79217c75f","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"ingress"},"after":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-975474555","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0b10726a79217c75f","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"ingress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks.aws_security_group_rule.node[\"ingress_self_coredns_udp\"]","module_address":"module.eks","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_self_coredns_udp","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-2658872468","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"udp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-07d72a5da5d3541cc","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"ingress"},"after":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-2658872468","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"udp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-07d72a5da5d3541cc","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"ingress"},"after_unknown":{},"before_sensitive":{"prefix_list_ids":[]},"after_sensitive":{"prefix_list_ids":[]}}},{"address":"module.eks_auth.kubernetes_config_map_v1_data.aws_auth[0]","module_address":"module.eks_auth","mode":"managed","type":"kubernetes_config_map_v1_data","name":"aws_auth","index":0,"provider_name":"registry.terraform.io/hashicorp/kubernetes","change":{"actions":["no-op"],"before":{"data":{"mapAccounts":"[]\n","mapRoles":"- \"groups\":\n  - \"system:bootstrappers\"\n  - \"system:nodes\"\n  \"rolearn\": \"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001\"\n  \"username\": \"system:node:{{EC2PrivateDNSName}}\"\n","mapUsers":"- \"groups\":\n  - \"system:masters\"\n  \"userarn\": \"arn:aws:iam::686591753714:user/cloud_user\"\n  \"username\": \"cloud_user\"\n"},"field_manager":"Terraform","force":true,"id":"kube-system/aws-auth","metadata":[{"name":"aws-auth","namespace":"kube-system"}]},"after":{"data":{"mapAccounts":"[]\n","mapRoles":"- \"groups\":\n  - \"system:bootstrappers\"\n  - \"system:nodes\"\n  \"rolearn\": \"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001\"\n  \"username\": \"system:node:{{EC2PrivateDNSName}}\"\n","mapUsers":"- \"groups\":\n  - \"system:masters\"\n  \"userarn\": \"arn:aws:iam::686591753714:user/cloud_user\"\n  \"username\": \"cloud_user\"\n"},"field_manager":"Terraform","force":true,"id":"kube-system/aws-auth","metadata":[{"name":"aws-auth","namespace":"kube-system"}]},"after_unknown":{},"before_sensitive":{"data":{},"metadata":[{}]},"after_sensitive":{"data":{},"metadata":[{}]}}},{"address":"module.iam_assumable_role_admin.aws_iam_role.this[0]","module_address":"module.iam_assumable_role_admin","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\":\"system:serviceaccount:kube-system:cluster-autoscaler-aws\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:28:38Z","description":"","force_detach_policies":false,"id":"cluster-1-test-cluster-autoscaler","inline_policy":[],"managed_policy_arns":["arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f"],"max_session_duration":3600,"name":"cluster-1-test-cluster-autoscaler","name_prefix":"","path":"/","permissions_boundary":"","role_last_used":[{"last_used_date":"2024-10-24T09:09:41Z","region":"eu-west-3"}],"tags":{"AutoTag_Creator":"arn:aws:iam::686591753714:user/cloud_user","Owner":"cloud_user"},"tags_all":{"AutoTag_Creator":"arn:aws:iam::686591753714:user/cloud_user","Owner":"cloud_user"},"unique_id":"AROAZ7XAOXXZCFJK4H4KU"},"after":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\":\"system:serviceaccount:kube-system:cluster-autoscaler-aws\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:28:38Z","description":"","force_detach_policies":false,"id":"cluster-1-test-cluster-autoscaler","inline_policy":[],"managed_policy_arns":["arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f"],"max_session_duration":3600,"name":"cluster-1-test-cluster-autoscaler","name_prefix":"","path":"/","permissions_boundary":"","role_last_used":[{"last_used_date":"2024-10-24T09:09:41Z","region":"eu-west-3"}],"tags":{"AutoTag_Creator":"arn:aws:iam::686591753714:user/cloud_user","Owner":"cloud_user"},"tags_all":{"AutoTag_Creator":"arn:aws:iam::686591753714:user/cloud_user","Owner":"cloud_user"},"unique_id":"AROAZ7XAOXXZCFJK4H4KU"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[false],"role_last_used":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false],"role_last_used":[{}],"tags":{},"tags_all":{}}}},{"address":"module.iam_assumable_role_admin.aws_iam_role_policy_attachment.custom[0]","module_address":"module.iam_assumable_role_admin","mode":"managed","type":"aws_iam_role_policy_attachment","name":"custom","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"cluster-1-test-cluster-autoscaler-20241024082839327200000012","policy_arn":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","role":"cluster-1-test-cluster-autoscaler"},"after":{"id":"cluster-1-test-cluster-autoscaler-20241024082839327200000012","policy_arn":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","role":"cluster-1-test-cluster-autoscaler"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.vpc.aws_internet_gateway.this[0]","module_address":"module.vpc","mode":"managed","type":"aws_internet_gateway","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:internet-gateway/igw-00ef6c29342b50452","id":"igw-00ef6c29342b50452","owner_id":"686591753714","tags":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:internet-gateway/igw-00ef6c29342b50452","id":"igw-00ef6c29342b50452","owner_id":"686591753714","tags":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_nat_gateway.this[0]","module_address":"module.vpc","mode":"managed","type":"aws_nat_gateway","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"allocation_id":"eipalloc-0fa0d49e3e65be2ab","association_id":"eipassoc-06719a1dcfa59bec9","connectivity_type":"public","id":"nat-075b2fcf3b00a47e2","network_interface_id":"eni-0955c6ab5973ca7f8","private_ip":"10.0.139.180","public_ip":"13.36.49.96","subnet_id":"subnet-0f6600f977e836af7","tags":{"Environment":"test","Name":"cluster-1-test-vpc-eu-west-3a","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-eu-west-3a","Terraform":"true"}},"after":{"allocation_id":"eipalloc-0fa0d49e3e65be2ab","association_id":"eipassoc-06719a1dcfa59bec9","connectivity_type":"public","id":"nat-075b2fcf3b00a47e2","network_interface_id":"eni-0955c6ab5973ca7f8","private_ip":"10.0.139.180","public_ip":"13.36.49.96","subnet_id":"subnet-0f6600f977e836af7","tags":{"Environment":"test","Name":"cluster-1-test-vpc-eu-west-3a","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-eu-west-3a","Terraform":"true"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_route.private_nat_gateway[0]","module_address":"module.vpc","mode":"managed","type":"aws_route","name":"private_nat_gateway","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","id":"r-rtb-038aaa93709651f9d1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"nat-075b2fcf3b00a47e2","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-038aaa93709651f9d","state":"active","timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"after":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","id":"r-rtb-038aaa93709651f9d1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"nat-075b2fcf3b00a47e2","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-038aaa93709651f9d","state":"active","timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"after_unknown":{},"before_sensitive":{"timeouts":{}},"after_sensitive":{"timeouts":{}}}},{"address":"module.vpc.aws_route.public_internet_gateway[0]","module_address":"module.vpc","mode":"managed","type":"aws_route","name":"public_internet_gateway","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-00ef6c29342b50452","id":"r-rtb-0f726caf0e6518cbd1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-0f726caf0e6518cbd","state":"active","timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"after":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-00ef6c29342b50452","id":"r-rtb-0f726caf0e6518cbd1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-0f726caf0e6518cbd","state":"active","timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"after_unknown":{},"before_sensitive":{"timeouts":{}},"after_sensitive":{"timeouts":{}}}},{"address":"module.vpc.aws_route_table.private[0]","module_address":"module.vpc","mode":"managed","type":"aws_route_table","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:route-table/rtb-038aaa93709651f9d","id":"rtb-038aaa93709651f9d","owner_id":"686591753714","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-075b2fcf3b00a47e2","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Environment":"test","Name":"cluster-1-test-vpc-private","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:route-table/rtb-038aaa93709651f9d","id":"rtb-038aaa93709651f9d","owner_id":"686591753714","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-075b2fcf3b00a47e2","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Environment":"test","Name":"cluster-1-test-vpc-private","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_route_table.public[0]","module_address":"module.vpc","mode":"managed","type":"aws_route_table","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:route-table/rtb-0f726caf0e6518cbd","id":"rtb-0f726caf0e6518cbd","owner_id":"686591753714","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-00ef6c29342b50452","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Environment":"test","Name":"cluster-1-test-vpc-public","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:route-table/rtb-0f726caf0e6518cbd","id":"rtb-0f726caf0e6518cbd","owner_id":"686591753714","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-00ef6c29342b50452","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Environment":"test","Name":"cluster-1-test-vpc-public","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_route_table_association.private[0]","module_address":"module.vpc","mode":"managed","type":"aws_route_table_association","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":"","id":"rtbassoc-04fa0e988707ed577","route_table_id":"rtb-038aaa93709651f9d","subnet_id":"subnet-0cc42401e36283845","timeouts":null},"after":{"gateway_id":"","id":"rtbassoc-04fa0e988707ed577","route_table_id":"rtb-038aaa93709651f9d","subnet_id":"subnet-0cc42401e36283845","timeouts":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.vpc.aws_route_table_association.private[1]","module_address":"module.vpc","mode":"managed","type":"aws_route_table_association","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":"","id":"rtbassoc-0ab2cbd56eb7e4a7c","route_table_id":"rtb-038aaa93709651f9d","subnet_id":"subnet-05e604773ead19337","timeouts":null},"after":{"gateway_id":"","id":"rtbassoc-0ab2cbd56eb7e4a7c","route_table_id":"rtb-038aaa93709651f9d","subnet_id":"subnet-05e604773ead19337","timeouts":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.vpc.aws_route_table_association.public[0]","module_address":"module.vpc","mode":"managed","type":"aws_route_table_association","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":"","id":"rtbassoc-00fa226e1a0ea8748","route_table_id":"rtb-0f726caf0e6518cbd","subnet_id":"subnet-0f6600f977e836af7","timeouts":null},"after":{"gateway_id":"","id":"rtbassoc-00fa226e1a0ea8748","route_table_id":"rtb-0f726caf0e6518cbd","subnet_id":"subnet-0f6600f977e836af7","timeouts":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.vpc.aws_route_table_association.public[1]","module_address":"module.vpc","mode":"managed","type":"aws_route_table_association","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"gateway_id":"","id":"rtbassoc-002a47b9dc048a3ac","route_table_id":"rtb-0f726caf0e6518cbd","subnet_id":"subnet-0af7ba9d8a5fc3439","timeouts":null},"after":{"gateway_id":"","id":"rtbassoc-002a47b9dc048a3ac","route_table_id":"rtb-0f726caf0e6518cbd","subnet_id":"subnet-0af7ba9d8a5fc3439","timeouts":null},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.vpc.aws_subnet.private[0]","module_address":"module.vpc","mode":"managed","type":"aws_subnet","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-0cc42401e36283845","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3a","availability_zone_id":"euw3-az1","cidr_block":"10.0.0.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0cc42401e36283845","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-0cc42401e36283845","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3a","availability_zone_id":"euw3-az1","cidr_block":"10.0.0.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0cc42401e36283845","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_subnet.private[1]","module_address":"module.vpc","mode":"managed","type":"aws_subnet","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-05e604773ead19337","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3b","availability_zone_id":"euw3-az2","cidr_block":"10.0.16.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-05e604773ead19337","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-05e604773ead19337","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3b","availability_zone_id":"euw3-az2","cidr_block":"10.0.16.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-05e604773ead19337","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_subnet.public[0]","module_address":"module.vpc","mode":"managed","type":"aws_subnet","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-0f6600f977e836af7","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3a","availability_zone_id":"euw3-az1","cidr_block":"10.0.128.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0f6600f977e836af7","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-0f6600f977e836af7","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3a","availability_zone_id":"euw3-az1","cidr_block":"10.0.128.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0f6600f977e836af7","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_subnet.public[1]","module_address":"module.vpc","mode":"managed","type":"aws_subnet","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-0af7ba9d8a5fc3439","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3b","availability_zone_id":"euw3-az2","cidr_block":"10.0.144.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0af7ba9d8a5fc3439","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-0af7ba9d8a5fc3439","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3b","availability_zone_id":"euw3-az2","cidr_block":"10.0.144.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0af7ba9d8a5fc3439","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.vpc.aws_vpc.this[0]","module_address":"module.vpc","mode":"managed","type":"aws_vpc","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:vpc/vpc-0ca2f2a87d3be5e08","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0a684404f7513177a","default_route_table_id":"rtb-0c7df45e06d0f78e6","default_security_group_id":"sg-0dded3f77668f849b","dhcp_options_id":"dopt-054c2f5f7c38381be","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-0ca2f2a87d3be5e08","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-0c7df45e06d0f78e6","owner_id":"686591753714","tags":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"}},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:vpc/vpc-0ca2f2a87d3be5e08","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0a684404f7513177a","default_route_table_id":"rtb-0c7df45e06d0f78e6","default_security_group_id":"sg-0dded3f77668f849b","dhcp_options_id":"dopt-054c2f5f7c38381be","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-0ca2f2a87d3be5e08","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-0c7df45e06d0f78e6","owner_id":"686591753714","tags":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"}},"after_unknown":{},"before_sensitive":{"tags":{},"tags_all":{}},"after_sensitive":{"tags":{},"tags_all":{}}}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_eks_node_group.this[0]","module_address":"module.eks.module.eks_managed_node_group[\"system\"]","mode":"managed","type":"aws_eks_node_group","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"ami_type":"AL2_x86_64","arn":"arn:aws:eks:eu-west-3:686591753714:nodegroup/cluster-1-test/system-20241024082838621000000010/4ec95ed2-2ec0-d833-8508-5d8b20f5fdf0","capacity_type":"ON_DEMAND","cluster_name":"cluster-1-test","disk_size":0,"force_update_version":null,"id":"cluster-1-test:system-20241024082838621000000010","instance_types":["t3a.medium"],"labels":{"Environment":"test"},"launch_template":[{"id":"lt-02a6492477234c3a5","name":"system-2024102408283836090000000d","version":"1"}],"node_group_name":"system-20241024082838621000000010","node_group_name_prefix":"system-","node_role_arn":"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001","release_version":"1.23.17-20240928","remote_access":[],"resources":[{"autoscaling_groups":[{"name":"eks-system-20241024082838621000000010-4ec95ed2-2ec0-d833-8508-5d8b20f5fdf0"}],"remote_access_security_group_id":""}],"scaling_config":[{"desired_size":3,"max_size":6,"min_size":1}],"status":"ACTIVE","subnet_ids":["subnet-05e604773ead19337","subnet-0cc42401e36283845"],"tags":{"Environment":"test","Name":"system","Terraform":"true"},"tags_all":{"Environment":"test","Name":"system","Terraform":"true"},"taint":[],"timeouts":{"create":null,"delete":null,"update":null},"update_config":[{"max_unavailable":1,"max_unavailable_percentage":0}],"version":"1.23"},"after":{"ami_type":"AL2_x86_64","arn":"arn:aws:eks:eu-west-3:686591753714:nodegroup/cluster-1-test/system-20241024082838621000000010/4ec95ed2-2ec0-d833-8508-5d8b20f5fdf0","capacity_type":"ON_DEMAND","cluster_name":"cluster-1-test","disk_size":0,"force_update_version":null,"id":"cluster-1-test:system-20241024082838621000000010","instance_types":["t3a.medium"],"labels":{"Environment":"test"},"launch_template":[{"id":"lt-02a6492477234c3a5","name":"system-2024102408283836090000000d","version":"1"}],"node_group_name":"system-20241024082838621000000010","node_group_name_prefix":"system-","node_role_arn":"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001","release_version":"1.23.17-20240928","remote_access":[],"resources":[{"autoscaling_groups":[{"name":"eks-system-20241024082838621000000010-4ec95ed2-2ec0-d833-8508-5d8b20f5fdf0"}],"remote_access_security_group_id":""}],"scaling_config":[{"desired_size":3,"max_size":6,"min_size":1}],"status":"ACTIVE","subnet_ids":["subnet-05e604773ead19337","subnet-0cc42401e36283845"],"tags":{"Environment":"test","Name":"system","Terraform":"true"},"tags_all":{"Environment":"test","Name":"system","Terraform":"true"},"taint":[],"timeouts":{"create":null,"delete":null,"update":null},"update_config":[{"max_unavailable":1,"max_unavailable_percentage":0}],"version":"1.23"},"after_unknown":{},"before_sensitive":{"instance_types":[false],"labels":{},"launch_template":[{}],"remote_access":[],"resources":[{"autoscaling_groups":[{}]}],"scaling_config":[{}],"subnet_ids":[false,false],"tags":{},"tags_all":{},"taint":[],"timeouts":{},"update_config":[{}]},"after_sensitive":{"instance_types":[false],"labels":{},"launch_template":[{}],"remote_access":[],"resources":[{"autoscaling_groups":[{}]}],"scaling_config":[{}],"subnet_ids":[false,false],"tags":{},"tags_all":{},"taint":[],"timeouts":{},"update_config":[{}]}}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role.this[0]","module_address":"module.eks.module.eks_managed_node_group[\"system\"]","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"EKSNodeAssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:20:46Z","description":"EKS managed node group IAM role","force_detach_policies":true,"id":"system-eks-node-group-20241024082046490600000001","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"],"max_session_duration":3600,"name":"system-eks-node-group-20241024082046490600000001","name_prefix":"system-eks-node-group-","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T09:05:03Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZLPYBAQXWU"},"after":{"arn":"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"EKSNodeAssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:20:46Z","description":"EKS managed node group IAM role","force_detach_policies":true,"id":"system-eks-node-group-20241024082046490600000001","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"],"max_session_duration":3600,"name":"system-eks-node-group-20241024082046490600000001","name_prefix":"system-eks-node-group-","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T09:05:03Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZLPYBAQXWU"},"after_unknown":{},"before_sensitive":{"inline_policy":[],"managed_policy_arns":[false,false,false],"role_last_used":[{}],"tags":{},"tags_all":{}},"after_sensitive":{"inline_policy":[],"managed_policy_arns":[false,false,false],"role_last_used":[{}],"tags":{},"tags_all":{}}}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly\"]","module_address":"module.eks.module.eks_managed_node_group[\"system\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"system-eks-node-group-20241024082046490600000001-20241024082047572800000008","policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","role":"system-eks-node-group-20241024082046490600000001"},"after":{"id":"system-eks-node-group-20241024082046490600000001-20241024082047572800000008","policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","role":"system-eks-node-group-20241024082046490600000001"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy\"]","module_address":"module.eks.module.eks_managed_node_group[\"system\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"system-eks-node-group-20241024082046490600000001-20241024082047570400000007","policy_arn":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","role":"system-eks-node-group-20241024082046490600000001"},"after":{"id":"system-eks-node-group-20241024082046490600000001-20241024082047570400000007","policy_arn":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","role":"system-eks-node-group-20241024082046490600000001"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy\"]","module_address":"module.eks.module.eks_managed_node_group[\"system\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"id":"system-eks-node-group-20241024082046490600000001-20241024082047503100000006","policy_arn":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy","role":"system-eks-node-group-20241024082046490600000001"},"after":{"id":"system-eks-node-group-20241024082046490600000001-20241024082047503100000006","policy_arn":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy","role":"system-eks-node-group-20241024082046490600000001"},"after_unknown":{},"before_sensitive":{},"after_sensitive":{}}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_launch_template.this[0]","module_address":"module.eks.module.eks_managed_node_group[\"system\"]","mode":"managed","type":"aws_launch_template","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:launch-template/lt-02a6492477234c3a5","block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":1,"description":"Custom launch template for system EKS managed node group","disable_api_stop":false,"disable_api_termination":false,"ebs_optimized":"","elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"id":"lt-02a6492477234c3a5","image_id":"","instance_initiated_shutdown_behavior":"","instance_market_options":[],"instance_requirements":[],"instance_type":"","kernel_id":"","key_name":"","latest_version":1,"license_specification":[],"maintenance_options":[],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":[{"enabled":true}],"name":"system-2024102408283836090000000d","name_prefix":"system-","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":"","security_group_names":[],"tag_specifications":[{"resource_type":"instance","tags":{"Environment":"test","Name":"system","Terraform":"true"}},{"resource_type":"network-interface","tags":{"Environment":"test","Name":"system","Terraform":"true"}},{"resource_type":"volume","tags":{"Environment":"test","Name":"system","Terraform":"true"}}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"update_default_version":true,"user_data":"","vpc_security_group_ids":["sg-059c6b41e8dd5e3c3","sg-0751dc8afabcdaeac"]},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:launch-template/lt-02a6492477234c3a5","block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":1,"description":"Custom launch template for system EKS managed node group","disable_api_stop":false,"disable_api_termination":false,"ebs_optimized":"","elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"id":"lt-02a6492477234c3a5","image_id":"","instance_initiated_shutdown_behavior":"","instance_market_options":[],"instance_requirements":[],"instance_type":"","kernel_id":"","key_name":"","latest_version":1,"license_specification":[],"maintenance_options":[],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":[{"enabled":true}],"name":"system-2024102408283836090000000d","name_prefix":"system-","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":"","security_group_names":[],"tag_specifications":[{"resource_type":"instance","tags":{"Environment":"test","Name":"system","Terraform":"true"}},{"resource_type":"network-interface","tags":{"Environment":"test","Name":"system","Terraform":"true"}},{"resource_type":"volume","tags":{"Environment":"test","Name":"system","Terraform":"true"}}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"update_default_version":true,"user_data":"","vpc_security_group_ids":["sg-059c6b41e8dd5e3c3","sg-0751dc8afabcdaeac"]},"after_unknown":{},"before_sensitive":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[{}],"monitoring":[{}],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"security_group_names":[],"tag_specifications":[{"tags":{}},{"tags":{}},{"tags":{}}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false,false]},"after_sensitive":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[{}],"monitoring":[{}],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"security_group_names":[],"tag_specifications":[{"tags":{}},{"tags":{}},{"tags":{}}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false,false]}}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_security_group.this[0]","module_address":"module.eks.module.eks_managed_node_group[\"system\"]","mode":"managed","type":"aws_security_group","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-059c6b41e8dd5e3c3","description":"EKS managed node group security group","egress":[],"id":"sg-059c6b41e8dd5e3c3","ingress":[],"name":"system-eks-node-group-20241024082058295400000009","name_prefix":"system-eks-node-group-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"system-eks-node-group","Terraform":"true"},"tags_all":{"Environment":"test","Name":"system-eks-node-group","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-059c6b41e8dd5e3c3","description":"EKS managed node group security group","egress":[],"id":"sg-059c6b41e8dd5e3c3","ingress":[],"name":"system-eks-node-group-20241024082058295400000009","name_prefix":"system-eks-node-group-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"system-eks-node-group","Terraform":"true"},"tags_all":{"Environment":"test","Name":"system-eks-node-group","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"after_unknown":{},"before_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}},"after_sensitive":{"egress":[],"ingress":[],"tags":{},"tags_all":{}}}}],"output_changes":{"cluster_endpoint":{"actions":["no-op"],"before":"https://664F193C4205EBC523D1FD032C549B8D.gr7.eu-west-3.eks.amazonaws.com","after":"https://664F193C4205EBC523D1FD032C549B8D.gr7.eu-west-3.eks.amazonaws.com","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"cluster_security_group_id":{"actions":["no-op"],"before":"sg-04b658b30ff02546e","after":"sg-04b658b30ff02546e","after_unknown":false,"before_sensitive":false,"after_sensitive":false},"ecr_repository_name":{"actions":["no-op"],"before":"nodejs-app","after":"nodejs-app","after_unknown":false,"before_sensitive":false,"after_sensitive":false}},"prior_state":{"format_version":"1.0","terraform_version":"1.9.8","values":{"outputs":{"cluster_endpoint":{"sensitive":false,"value":"https://664F193C4205EBC523D1FD032C549B8D.gr7.eu-west-3.eks.amazonaws.com","type":"string"},"cluster_security_group_id":{"sensitive":false,"value":"sg-04b658b30ff02546e","type":"string"},"ecr_repository_name":{"sensitive":false,"value":"nodejs-app","type":"string"}},"root_module":{"resources":[{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"all_availability_zones":null,"exclude_names":null,"exclude_zone_ids":null,"filter":null,"group_names":["eu-west-3"],"id":"eu-west-3","names":["eu-west-3a","eu-west-3b","eu-west-3c"],"state":null,"timeouts":null,"zone_ids":["euw3-az1","euw3-az2","euw3-az3"]},"sensitive_values":{"group_names":[false],"names":[false,false,false],"zone_ids":[false,false,false]}},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"686591753714","arn":"arn:aws:iam::686591753714:user/cloud_user","id":"686591753714","user_id":"AIDAZ7XAOXXZOZUEDZKHR"},"sensitive_values":{}},{"address":"data.aws_eks_cluster.cluster","mode":"data","type":"aws_eks_cluster","name":"cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:eks:eu-west-3:686591753714:cluster/cluster-1-test","certificate_authority":[{"data":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJME1UQXlOREE0TWpVd01Gb1hEVE0wTVRBeU1qQTRNalV3TUZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT1V6CmltTlpubE5lTFFrT2paNXlsaThyb3pCWXgwVGRraGxIbW44RlVqaFREbFlPUHVPbHdTQkFJenl1U1F1VjJCMngKVjVmV1JPQnRiODZycGE1OVVGcmUzNEQrS2kzMXpyQVpIU2pSaTUzQUN1VFY1V0JZaEJlRVRlMmFTL0dTN1hkWApzYm84TVk3bXZrbEtpNzlndHNvcC90a3EranVjbG1HMDZXbVNvVHJTU1doa3llajd6ZDhOczFaNTNnWjZCN2x6CjZNNXN5Z3pSYnEzM21OTDlWMkp5NFRwKzR3OTFFdUl2QitTOHExanNhdDgwd2tobGxiT1ZzUU1CalkyT3Zpc1MKODBxbk5RMi9RSXdORkFYQzdJQWcyZ1RTMHQxZ0w1N3N5bHlkQWtCbVoyWTJHREZjT242bUVKTGN5cHYxV2JMSAp0Z2ovaVptWjlJZU9zSkNtSFBjQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZPZHZEWUpCNzZtYzFvUlczRHppcWplWGdXem1NQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBTUcybHJSQWcrQ0dzU1Azdlk1QgpraDdlK1FEbENlRDh5YXdvNW1UYW1RYXRydzc4UElYay9OTHNaRjJ1NjMzMWYwSTl6anhaSmJCbkNjV1ZLQjNoCkxGZVN5VUEvM0MwNHUxSG1kd2t4OU9CYVFxY3ArT29sNjRDWUlXUlkwUDd3NGJ1WFdlbDZvaHNxUXZMV1hlcFYKWXRaN1dsaHdLcjdncmpVVWxtM2lWNUUyaHlmU2FKMEZxQWIzRHJ2OHppTUVZcTlWOTNlbjdaYVp6WUNYdkdzeApXWUd3SGNzeUFuYVVjWGtsN3NZcG1jUVpwK3d5R2M5Q0FMalRwTjBkNnZGOTNiQUIxU3Zicld6WW12K2lYb20wCndOWjdDVWpnWEhLVG12S0VydTRHU3pMREFBSHo3TUE4emhpY3loU0kydGJXYzlsbEdmNHZ0OWVwV01pUkhkZXcKdlNzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="}],"cluster_id":null,"created_at":"2024-10-24 08:21:08.607 +0000 UTC","enabled_cluster_log_types":["api","audit","authenticator"],"endpoint":"https://664F193C4205EBC523D1FD032C549B8D.gr7.eu-west-3.eks.amazonaws.com","id":"cluster-1-test","identity":[{"oidc":[{"issuer":"https://oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D"}]}],"kubernetes_network_config":[{"ip_family":"ipv4","service_ipv4_cidr":"172.20.0.0/16","service_ipv6_cidr":""}],"name":"cluster-1-test","outpost_config":[],"platform_version":"eks.32","role_arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-20241024082046493600000002","status":"ACTIVE","tags":{"Environment":"test","Terraform":"true"},"version":"1.23","vpc_config":[{"cluster_security_group_id":"sg-052870fb53e73b766","endpoint_private_access":true,"endpoint_public_access":true,"public_access_cidrs":["0.0.0.0/0"],"security_group_ids":["sg-04b658b30ff02546e"],"subnet_ids":["subnet-05e604773ead19337","subnet-0cc42401e36283845"],"vpc_id":"vpc-0ca2f2a87d3be5e08"}]},"sensitive_values":{"certificate_authority":[{}],"enabled_cluster_log_types":[false,false,false],"identity":[{"oidc":[{}]}],"kubernetes_network_config":[{}],"outpost_config":[],"tags":{},"vpc_config":[{"public_access_cidrs":[false],"security_group_ids":[false],"subnet_ids":[false,false]}]}},{"address":"data.aws_eks_cluster_auth.cluster","mode":"data","type":"aws_eks_cluster_auth","name":"cluster","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"cluster-1-test","name":"cluster-1-test","token":"k8s-aws-v1.aHR0cHM6Ly9zdHMuYW1hem9uYXdzLmNvbS8_QWN0aW9uPUdldENhbGxlcklkZW50aXR5JlZlcnNpb249MjAxMS0wNi0xNSZYLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFaN1hBT1hYWktGS0dZUUhCJTJGMjAyNDEwMjQlMkZ1cy1lYXN0LTElMkZzdHMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MTAyNFQwOTI2MzdaJlgtQW16LUV4cGlyZXM9MCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QlM0J4LWs4cy1hd3MtaWQmWC1BbXotU2lnbmF0dXJlPTQ0MDZmMmViN2ZjN2NjODQyZWQwODhhNGNmZjUzZTk1ZDc0ZDY0MGJkNGU1MTZjMDA2NWE1OTMwNjgyMDQ5MzM"},"sensitive_values":{"token":true}},{"address":"data.aws_iam_policy_document.cluster_autoscaler","mode":"data","type":"aws_iam_policy_document","name":"cluster_autoscaler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"248545299","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"clusterAutoscalerAll\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:DescribeLaunchTemplateVersions\",\n        \"autoscaling:DescribeTags\",\n        \"autoscaling:DescribeLaunchConfigurations\",\n        \"autoscaling:DescribeAutoScalingInstances\",\n        \"autoscaling:DescribeAutoScalingGroups\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"clusterAutoscalerOwn\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"autoscaling:UpdateAutoScalingGroup\",\n        \"autoscaling:TerminateInstanceInAutoScalingGroup\",\n        \"autoscaling:SetDesiredCapacity\"\n      ],\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringEquals\": {\n          \"autoscaling:ResourceTag/k8s.io/cluster-autoscaler/enabled\": \"true\",\n          \"autoscaling:ResourceTag/kubernetes.io/cluster/cluster-1-test\": \"owned\"\n        }\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["autoscaling:DescribeAutoScalingGroups","autoscaling:DescribeAutoScalingInstances","autoscaling:DescribeLaunchConfigurations","autoscaling:DescribeTags","ec2:DescribeLaunchTemplateVersions"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":"clusterAutoscalerAll"},{"actions":["autoscaling:SetDesiredCapacity","autoscaling:TerminateInstanceInAutoScalingGroup","autoscaling:UpdateAutoScalingGroup"],"condition":[{"test":"StringEquals","values":["owned"],"variable":"autoscaling:ResourceTag/kubernetes.io/cluster/cluster-1-test"},{"test":"StringEquals","values":["true"],"variable":"autoscaling:ResourceTag/k8s.io/cluster-autoscaler/enabled"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":"clusterAutoscalerOwn"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false,false,false],"condition":[{"values":[false]},{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}},{"address":"aws_ecr_repository.ecr_repo","mode":"managed","type":"aws_ecr_repository","name":"ecr_repo","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ecr:eu-west-3:686591753714:repository/nodejs-app","encryption_configuration":[{"encryption_type":"AES256","kms_key":""}],"force_delete":null,"id":"nodejs-app","image_scanning_configuration":[{"scan_on_push":true}],"image_tag_mutability":"MUTABLE","name":"nodejs-app","registry_id":"686591753714","repository_url":"686591753714.dkr.ecr.eu-west-3.amazonaws.com/nodejs-app","tags":{},"tags_all":{},"timeouts":null},"sensitive_values":{"encryption_configuration":[{}],"image_scanning_configuration":[{}],"tags":{},"tags_all":{}}},{"address":"aws_eip.nat_gw_elastic_ip","mode":"managed","type":"aws_eip","name":"nat_gw_elastic_ip","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"address":null,"allocation_id":"eipalloc-0fa0d49e3e65be2ab","associate_with_private_ip":null,"association_id":"eipassoc-06719a1dcfa59bec9","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-0fa0d49e3e65be2ab","instance":"","network_border_group":"eu-west-3","network_interface":"eni-0955c6ab5973ca7f8","private_dns":"ip-10-0-139-180.eu-west-3.compute.internal","private_ip":"10.0.139.180","public_dns":"ec2-13-36-49-96.eu-west-3.compute.amazonaws.com","public_ip":"13.36.49.96","public_ipv4_pool":"amazon","tags":{"Environment":"test","Name":"cluster-1-test-nat-eip","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-nat-eip","Terraform":"true"},"timeouts":null,"vpc":true},"sensitive_values":{"tags":{},"tags_all":{}}},{"address":"aws_iam_policy.cluster_autoscaler","mode":"managed","type":"aws_iam_policy","name":"cluster_autoscaler","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","description":"EKS cluster-autoscaler policy for cluster cluster-1-test","id":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","name":"cluster-1-test-cluster-autoscaler2024102408283838590000000f","name_prefix":"cluster-1-test-cluster-autoscaler","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:DescribeLaunchTemplateVersions\",\"autoscaling:DescribeTags\",\"autoscaling:DescribeLaunchConfigurations\",\"autoscaling:DescribeAutoScalingInstances\",\"autoscaling:DescribeAutoScalingGroups\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"clusterAutoscalerAll\"},{\"Action\":[\"autoscaling:UpdateAutoScalingGroup\",\"autoscaling:TerminateInstanceInAutoScalingGroup\",\"autoscaling:SetDesiredCapacity\"],\"Condition\":{\"StringEquals\":{\"autoscaling:ResourceTag/k8s.io/cluster-autoscaler/enabled\":\"true\",\"autoscaling:ResourceTag/kubernetes.io/cluster/cluster-1-test\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"clusterAutoscalerOwn\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAZ7XAOXXZMG63DVOEX","tags":{},"tags_all":{}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["data.aws_availability_zones.available","data.aws_iam_policy_document.cluster_autoscaler","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"helm_release.cluster-autoscaler","mode":"managed","type":"helm_release","name":"cluster-autoscaler","provider_name":"registry.terraform.io/hashicorp/helm","schema_version":1,"values":{"atomic":false,"chart":"cluster-autoscaler","cleanup_on_fail":false,"create_namespace":false,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"cluster-autoscaler","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"1.21.0","chart":"cluster-autoscaler","first_deployed":1729758521,"last_deployed":1729758521,"name":"cluster-autoscaler","namespace":"kube-system","notes":"To verify that cluster-autoscaler has started, run:\n\n  kubectl --namespace=kube-system get pods -l \"app.kubernetes.io/name=aws-cluster-autoscaler,app.kubernetes.io/instance=cluster-autoscaler\"","revision":1,"values":"{\"autoDiscovery\":{\"clusterName\":\"cluster-1-test\",\"enabled\":true},\"awsRegion\":\"eu-west-3\",\"cloudProvider\":\"aws\",\"extraArgs\":{\"scale-down-enabled\":true,\"scale-down-unneeded-time\":\"5m\",\"skip-nodes-with-local-storage\":false,\"skip-nodes-with-system-pods\":false},\"rbac\":{\"create\":true,\"serviceAccount\":{\"annotations\":{\"eks.amazonaws.com/role-arn\":\"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler\"},\"name\":\"cluster-autoscaler-aws\"}}}","version":"9.10.7"}],"name":"cluster-autoscaler","namespace":"kube-system","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://kubernetes.github.io/autoscaler","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[{"name":"autoDiscovery.clusterName","type":"","value":"cluster-1-test"},{"name":"autoDiscovery.enabled","type":"","value":"true"},{"name":"awsRegion","type":"","value":"eu-west-3"},{"name":"cloudProvider","type":"","value":"aws"},{"name":"extraArgs.scale-down-enabled","type":"","value":"true"},{"name":"extraArgs.scale-down-unneeded-time","type":"","value":"5m"},{"name":"extraArgs.skip-nodes-with-local-storage","type":"","value":"false"},{"name":"extraArgs.skip-nodes-with-system-pods","type":"","value":"false"},{"name":"rbac.create","type":"","value":"true"},{"name":"rbac.serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn","type":"","value":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler"},{"name":"rbac.serviceAccount.name","type":"","value":"cluster-autoscaler-aws"}],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"upgrade_install":null,"values":null,"verify":false,"version":"9.10.7","wait":true,"wait_for_jobs":false},"sensitive_values":{"metadata":[{}],"postrender":[],"repository_password":true,"set":[{},{},{},{},{},{},{},{},{},{},{}],"set_list":[],"set_sensitive":[]},"depends_on":["data.aws_availability_zones.available","data.aws_caller_identity.current","data.aws_eks_cluster.cluster","data.aws_eks_cluster_auth.cluster","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.iam_assumable_role_admin.aws_iam_role.this","module.iam_assumable_role_admin.data.aws_caller_identity.current","module.iam_assumable_role_admin.data.aws_iam_policy_document.assume_role_with_oidc","module.iam_assumable_role_admin.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"helm_release.kube_monitoring_stack","mode":"managed","type":"helm_release","name":"kube_monitoring_stack","provider_name":"registry.terraform.io/hashicorp/helm","schema_version":1,"values":{"atomic":false,"chart":"kube-prometheus-stack","cleanup_on_fail":false,"create_namespace":true,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"kube-prometheus-stack","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"v0.65.1","chart":"kube-prometheus-stack","first_deployed":1729758528,"last_deployed":1729758528,"name":"kube-prometheus-stack","namespace":"monitoring","notes":"1. Get the application URL by running these commands:\n  export POD_NAME=$(kubectl get pods --namespace monitoring -l \"app.kubernetes.io/name=prometheus-node-exporter,app.kubernetes.io/instance=kube-prometheus-stack\" -o jsonpath=\"{.items[0].metadata.name}\")\n  echo \"Visit http://127.0.0.1:9100 to use your application\"\n  kubectl port-forward --namespace monitoring $POD_NAME 9100\nkube-prometheus-stack has been installed. Check its status by running:\n  kubectl --namespace monitoring get pods -l \"release=kube-prometheus-stack\"\n\nVisit https://github.com/prometheus-operator/kube-prometheus for instructions on how to create \u0026 configure Alertmanager and Prometheus instances using the Operator.\n\n1. Get your 'admin' user password by running:\n\n   kubectl get secret --namespace monitoring kube-prometheus-stack-grafana -o jsonpath=\"{.data.admin-password}\" | base64 --decode ; echo\n\n\n2. The Grafana server can be accessed via port 80 on the following DNS name from within your cluster:\n\n   kube-prometheus-stack-grafana.monitoring.svc.cluster.local\n\n   If you bind grafana to 80, please update values in values.yaml and reinstall:\n   ```\n   securityContext:\n     runAsUser: 0\n     runAsGroup: 0\n     fsGroup: 0\n\n   command:\n   - \"setcap\"\n   - \"'cap_net_bind_service=+ep'\"\n   - \"/usr/sbin/grafana-server \u0026\u0026\"\n   - \"sh\"\n   - \"/run.sh\"\n   ```\n   Details refer to https://grafana.com/docs/installation/configuration/#http-port.\n   Or grafana would always crash.\n\n   From outside the cluster, the server URL(s) are:\n     http://grafana.karimdevops.com\n\n3. Login with the password from step 1 and the username: admin\n#################################################################################\n######   WARNING: Persistence is disabled!!! You will lose your data when   #####\n######            the Grafana pod is terminated.                            #####\n#################################################################################\n\nkube-state-metrics is a simple service that listens to the Kubernetes API server and generates metrics about the state of the objects.\nThe exposed metrics can be found here:\nhttps://github.com/kubernetes/kube-state-metrics/blob/master/docs/README.md#exposed-metrics\n\nThe metrics are exported on the HTTP endpoint /metrics on the listening port.\nIn your case, kube-prometheus-stack-kube-state-metrics.monitoring.svc.cluster.local:8080/metrics\n\nThey are served either as plaintext or protobuf depending on the Accept header.\nThey are designed to be consumed either by Prometheus itself or by a scraper that is compatible with scraping a Prometheus client endpoint.\n","revision":1,"values":"{\"alertmanager\":{\"enabled\":true,\"ingress\":{\"annotations\":{\"cert-manager.io/cluster-issuer\":\"letsencrypt-production\"},\"enabled\":true,\"hosts\":[\"alertmanager.karimdevops.com\"],\"ingressClassName\":\"nginx\",\"tls\":[{\"hosts\":[\"alertmanager.karimdevops.com\"],\"secretName\":\"alertmanager-tls\"}]}},\"grafana\":{\"adminPassword\":\"admin\",\"adminUser\":\"admin\",\"enabled\":true,\"ingress\":{\"annotations\":{\"cert-manager.io/cluster-issuer\":\"letsencrypt-production\"},\"enabled\":true,\"hosts\":[\"grafana.karimdevops.com\"],\"ingressClassName\":\"nginx\",\"tls\":[{\"hosts\":[\"grafana.karimdevops.com\"],\"secretName\":\"grafana-tls\"}]}},\"kube-state-metrics\":{\"resources\":{\"limits\":{\"memory\":\"300Mi\"},\"requests\":{\"cpu\":\"10m\",\"memory\":\"300Mi\"}}},\"prometheus\":{\"ingress\":{\"annotations\":{\"cert-manager.io/cluster-issuer\":\"letsencrypt-production\"},\"enabled\":true,\"hosts\":[\"prometheus.karimdevops.com\"],\"ingressClassName\":\"nginx\",\"tls\":[{\"hosts\":[\"prometheus.karimdevops.com\"],\"secretName\":\"prometheus-tls\"}]},\"prometheusSpec\":{\"enableAdminAPI\":false,\"logFormat\":\"logfmt\",\"logLevel\":\"info\",\"prometheusExternalLabelName\":\"prometheus_cluster\",\"replicaExternalLabelName\":\"prometheus_replica\",\"replicas\":2,\"resources\":{\"limits\":{\"memory\":\"2Gi\"},\"requests\":{\"cpu\":\"500m\",\"memory\":\"2Gi\"}},\"retention\":\"120h\",\"serviceMonitorNamespaceSelector\":{},\"serviceMonitorSelector\":{},\"serviceMonitorSelectorNilUsesHelmValues\":false}},\"prometheus-node-exporter\":{\"resources\":{\"limits\":{\"memory\":\"30Mi\"},\"requests\":{\"cpu\":\"20m\",\"memory\":\"30Mi\"}}},\"prometheusOperator\":{\"resources\":{\"limits\":{\"memory\":\"400Mi\"},\"requests\":{\"cpu\":\"10m\",\"memory\":\"400Mi\"}}}}","version":"45.29.0"}],"name":"kube-prometheus-stack","namespace":"monitoring","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://prometheus-community.github.io/helm-charts","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"upgrade_install":null,"values":["grafana:\n  adminUser: admin\n  adminPassword: admin\n  enabled: true\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - grafana.karimdevops.com\n    tls:\n      - secretName: grafana-tls\n        hosts:\n          - grafana.karimdevops.com\n\nalertmanager:\n  enabled: true\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - alertmanager.karimdevops.com\n    tls:\n      - secretName: alertmanager-tls\n        hosts:\n          - alertmanager.karimdevops.com\n\nprometheus:\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - prometheus.karimdevops.com\n    tls:\n      - secretName: prometheus-tls\n        hosts:\n          - prometheus.karimdevops.com\n  prometheusSpec:\n    replicas: 2\n    replicaExternalLabelName: prometheus_replica\n    prometheusExternalLabelName: prometheus_cluster\n    enableAdminAPI: false\n    logFormat: logfmt\n    logLevel: info\n    retention: 120h\n    serviceMonitorSelectorNilUsesHelmValues: false\n    serviceMonitorNamespaceSelector: {}\n    serviceMonitorSelector: {}\n    resources:\n      limits:\n        memory: 2Gi\n      requests:\n        cpu: 500m\n        memory: 2Gi\n\nprometheus-node-exporter:\n  resources:\n    limits:\n      memory: 30Mi\n    requests:\n      cpu: 20m\n      memory: 30Mi\n\nkube-state-metrics:\n  resources:\n    limits:\n      memory: 300Mi\n    requests:\n      cpu: 10m\n      memory: 300Mi\n\nprometheusOperator:\n  resources:\n    limits:\n      memory: 400Mi\n    requests:\n      cpu: 10m\n      memory: 400Mi\n"],"verify":false,"version":"45.29.0","wait":true,"wait_for_jobs":false},"sensitive_values":{"metadata":[{}],"postrender":[],"repository_password":true,"set":[],"set_list":[],"set_sensitive":[],"values":[false]},"depends_on":["data.aws_availability_zones.available","data.aws_eks_cluster.cluster","data.aws_eks_cluster_auth.cluster","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"helm_release.nginx_ingress","mode":"managed","type":"helm_release","name":"nginx_ingress","provider_name":"registry.terraform.io/hashicorp/helm","schema_version":1,"values":{"atomic":false,"chart":"ingress-nginx","cleanup_on_fail":true,"create_namespace":true,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"nginx-ingress","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"1.3.0","chart":"ingress-nginx","first_deployed":1729758523,"last_deployed":1729758523,"name":"nginx-ingress","namespace":"ingress-nginx","notes":"The ingress-nginx controller has been installed.\nIt may take a few minutes for the LoadBalancer IP to be available.\nYou can watch the status by running 'kubectl --namespace ingress-nginx get services -o wide -w nginx-ingress-ingress-nginx-controller'\n\nAn example Ingress that makes use of the controller:\n  apiVersion: networking.k8s.io/v1\n  kind: Ingress\n  metadata:\n    name: example\n    namespace: foo\n  spec:\n    ingressClassName: nginx\n    rules:\n      - host: www.example.com\n        http:\n          paths:\n            - pathType: Prefix\n              backend:\n                service:\n                  name: exampleService\n                  port:\n                    number: 80\n              path: /\n    # This section is only required if TLS is to be enabled for the Ingress\n    tls:\n      - hosts:\n        - www.example.com\n        secretName: example-tls\n\nIf TLS is enabled for the Ingress, a Secret containing the certificate and key must also be provided:\n\n  apiVersion: v1\n  kind: Secret\n  metadata:\n    name: example-tls\n    namespace: foo\n  data:\n    tls.crt: \u003cbase64 encoded cert\u003e\n    tls.key: \u003cbase64 encoded key\u003e\n  type: kubernetes.io/tls\n","revision":1,"values":"{\"controller\":{\"admissionWebhooks\":{\"enabled\":false},\"autoscaling\":{\"enabled\":true,\"maxReplicas\":4,\"minReplicas\":1,\"targetCPUUtilizationPercentage\":85},\"kind\":\"Deployment\",\"metrics\":{\"enabled\":true},\"podAnnotations\":{\"prometheus.io/path\":\"/metrics\",\"prometheus.io/port\":\"10254\",\"prometheus.io/scrape\":\"true\"},\"publishService\":{\"enabled\":true,\"publishServicePath\":\"$(POD_NAMESPACE)/nginx-ingress-controller\"},\"resources\":{\"limits\":{\"cpu\":1,\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"150m\",\"memory\":\"128Mi\"}},\"service\":{\"enableHttp\":\"true\",\"enableHttps\":\"true\",\"externalTrafficPolicy\":\"Local\",\"type\":\"LoadBalancer\"},\"stats\":{\"enabled\":true},\"updateStrategy\":{\"rollingUpdate\":{\"maxSurge\":1,\"maxUnavailable\":0},\"type\":\"RollingUpdate\"}},\"defaultBackend\":{\"enabled\":false},\"rbac\":{\"create\":true}}","version":"4.2.3"}],"name":"nginx-ingress","namespace":"ingress-nginx","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://kubernetes.github.io/ingress-nginx","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[],"set_list":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"upgrade_install":null,"values":["    controller:\n      kind: Deployment\n      podAnnotations:\n        prometheus.io/path: \"/metrics\"\n        prometheus.io/port: \"10254\"\n        prometheus.io/scrape: \"true\"\n      stats:\n        enabled: true\n      metrics:\n        enabled: true\n      publishService:\n        enabled: true\n        publishServicePath: \"$(POD_NAMESPACE)/nginx-ingress-controller\"\n      service:\n        enableHttp: \"true\"\n        enableHttps: \"true\"\n        externalTrafficPolicy: Local\n        type: LoadBalancer\n      autoscaling:\n        enabled: true\n        maxReplicas: 4\n        minReplicas: 1\n        targetCPUUtilizationPercentage: 85\n      resources:\n        requests:\n          cpu: 150m\n          memory: 128Mi\n        limits:\n          cpu: 1\n          memory: 512Mi\n      updateStrategy:\n        type: RollingUpdate\n        rollingUpdate:\n          maxSurge: 1\n          maxUnavailable: 0\n      admissionWebhooks:\n        enabled: false\n    rbac:\n      create: true\n    defaultBackend:\n      enabled: false\n"],"verify":false,"version":"4.2.3","wait":true,"wait_for_jobs":false},"sensitive_values":{"metadata":[{}],"postrender":[],"repository_password":true,"set":[],"set_list":[],"set_sensitive":[],"values":[false]},"depends_on":["data.aws_availability_zones.available","data.aws_eks_cluster.cluster","data.aws_eks_cluster_auth.cluster","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]}],"child_modules":[{"resources":[{"address":"module.ebs_csi_irsa_role.data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"686591753714","arn":"arn:aws:iam::686591753714:user/cloud_user","id":"686591753714","user_id":"AIDAZ7XAOXXZOZUEDZKHR"},"sensitive_values":{}},{"address":"module.ebs_csi_irsa_role.data.aws_iam_policy_document.ebs_csi[0]","mode":"data","type":"aws_iam_policy_document","name":"ebs_csi","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"4124201446","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ec2:ModifyVolume\",\n        \"ec2:EnableFastSnapshotRestores\",\n        \"ec2:DetachVolume\",\n        \"ec2:DescribeVolumesModifications\",\n        \"ec2:DescribeVolumes\",\n        \"ec2:DescribeTags\",\n        \"ec2:DescribeSnapshots\",\n        \"ec2:DescribeInstances\",\n        \"ec2:DescribeAvailabilityZones\",\n        \"ec2:CreateSnapshot\",\n        \"ec2:AttachVolume\"\n      ],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateTags\",\n      \"Resource\": [\n        \"arn:aws:ec2:*:*:volume/*\",\n        \"arn:aws:ec2:*:*:snapshot/*\"\n      ],\n      \"Condition\": {\n        \"StringEquals\": {\n          \"ec2:CreateAction\": [\n            \"CreateVolume\",\n            \"CreateSnapshot\"\n          ]\n        }\n      }\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteTags\",\n      \"Resource\": [\n        \"arn:aws:ec2:*:*:volume/*\",\n        \"arn:aws:ec2:*:*:snapshot/*\"\n      ]\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateVolume\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"aws:RequestTag/ebs.csi.aws.com/cluster\": \"true\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateVolume\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"aws:RequestTag/CSIVolumeName\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:CreateVolume\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"aws:RequestTag/kubernetes.io/cluster/*\": \"owned\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteVolume\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ec2:ResourceTag/ebs.csi.aws.com/cluster\": \"true\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteVolume\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ec2:ResourceTag/CSIVolumeName\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteVolume\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ec2:ResourceTag/kubernetes.io/cluster/*\": \"owned\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteVolume\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ec2:ResourceTag/kubernetes.io/created-for/pvc/name\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteSnapshot\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ec2:ResourceTag/CSIVolumeSnapshotName\": \"*\"\n        }\n      }\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DeleteSnapshot\",\n      \"Resource\": \"*\",\n      \"Condition\": {\n        \"StringLike\": {\n          \"ec2:ResourceTag/ebs.csi.aws.com/cluster\": \"true\"\n        }\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ec2:AttachVolume","ec2:CreateSnapshot","ec2:DescribeAvailabilityZones","ec2:DescribeInstances","ec2:DescribeSnapshots","ec2:DescribeTags","ec2:DescribeVolumes","ec2:DescribeVolumesModifications","ec2:DetachVolume","ec2:EnableFastSnapshotRestores","ec2:ModifyVolume"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:CreateTags"],"condition":[{"test":"StringEquals","values":["CreateVolume","CreateSnapshot"],"variable":"ec2:CreateAction"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:ec2:*:*:snapshot/*","arn:aws:ec2:*:*:volume/*"],"sid":""},{"actions":["ec2:DeleteTags"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:ec2:*:*:snapshot/*","arn:aws:ec2:*:*:volume/*"],"sid":""},{"actions":["ec2:CreateVolume"],"condition":[{"test":"StringLike","values":["true"],"variable":"aws:RequestTag/ebs.csi.aws.com/cluster"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:CreateVolume"],"condition":[{"test":"StringLike","values":["*"],"variable":"aws:RequestTag/CSIVolumeName"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:CreateVolume"],"condition":[{"test":"StringLike","values":["owned"],"variable":"aws:RequestTag/kubernetes.io/cluster/*"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:DeleteVolume"],"condition":[{"test":"StringLike","values":["true"],"variable":"ec2:ResourceTag/ebs.csi.aws.com/cluster"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:DeleteVolume"],"condition":[{"test":"StringLike","values":["*"],"variable":"ec2:ResourceTag/CSIVolumeName"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:DeleteVolume"],"condition":[{"test":"StringLike","values":["owned"],"variable":"ec2:ResourceTag/kubernetes.io/cluster/*"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:DeleteVolume"],"condition":[{"test":"StringLike","values":["*"],"variable":"ec2:ResourceTag/kubernetes.io/created-for/pvc/name"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:DeleteSnapshot"],"condition":[{"test":"StringLike","values":["*"],"variable":"ec2:ResourceTag/CSIVolumeSnapshotName"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""},{"actions":["ec2:DeleteSnapshot"],"condition":[{"test":"StringLike","values":["true"],"variable":"ec2:ResourceTag/ebs.csi.aws.com/cluster"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false,false,false,false,false,false,false,false,false,false,false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false],"condition":[{"values":[false,false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]},{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false,false]},{"actions":[false],"condition":[{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]},{"actions":[false],"condition":[{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":[false]}]}},{"address":"module.ebs_csi_irsa_role.data.aws_iam_policy_document.this[0]","mode":"data","type":"aws_iam_policy_document","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"1786818704","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRoleWithWebIdentity\",\n      \"Principal\": {\n        \"Federated\": \"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"\n      },\n      \"Condition\": {\n        \"StringEquals\": {\n          \"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:aud\": \"sts.amazonaws.com\",\n          \"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\": \"system:serviceaccount:kube-system:ebs-csi-controller-sa\"\n        }\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRoleWithWebIdentity"],"condition":[{"test":"StringEquals","values":["sts.amazonaws.com"],"variable":"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:aud"},{"test":"StringEquals","values":["system:serviceaccount:kube-system:ebs-csi-controller-sa"],"variable":"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D"],"type":"Federated"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[{"values":[false]},{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.ebs_csi_irsa_role.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.ebs_csi_irsa_role.data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Europe (Paris)","endpoint":"ec2.eu-west-3.amazonaws.com","id":"eu-west-3","name":"eu-west-3"},"sensitive_values":{}},{"address":"module.ebs_csi_irsa_role.aws_iam_policy.ebs_csi[0]","mode":"managed","type":"aws_iam_policy","name":"ebs_csi","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","description":"Provides permissions to manage EBS volumes via the container storage interface driver","id":"arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","name":"AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","name_prefix":"AmazonEKS_EBS_CSI_Policy-","path":"/","policy":"{\"Statement\":[{\"Action\":[\"ec2:ModifyVolume\",\"ec2:EnableFastSnapshotRestores\",\"ec2:DetachVolume\",\"ec2:DescribeVolumesModifications\",\"ec2:DescribeVolumes\",\"ec2:DescribeTags\",\"ec2:DescribeSnapshots\",\"ec2:DescribeInstances\",\"ec2:DescribeAvailabilityZones\",\"ec2:CreateSnapshot\",\"ec2:AttachVolume\"],\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:CreateTags\",\"Condition\":{\"StringEquals\":{\"ec2:CreateAction\":[\"CreateVolume\",\"CreateSnapshot\"]}},\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"],\"Sid\":\"\"},{\"Action\":\"ec2:DeleteTags\",\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:ec2:*:*:volume/*\",\"arn:aws:ec2:*:*:snapshot/*\"],\"Sid\":\"\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:CreateVolume\",\"Condition\":{\"StringLike\":{\"aws:RequestTag/kubernetes.io/cluster/*\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/cluster/*\":\"owned\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteVolume\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/kubernetes.io/created-for/pvc/name\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteSnapshot\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/CSIVolumeSnapshotName\":\"*\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"},{\"Action\":\"ec2:DeleteSnapshot\",\"Condition\":{\"StringLike\":{\"ec2:ResourceTag/ebs.csi.aws.com/cluster\":\"true\"}},\"Effect\":\"Allow\",\"Resource\":\"*\",\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","policy_id":"ANPAZ7XAOXXZLIRYEJFYV","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.ebs_csi_irsa_role.data.aws_iam_policy_document.ebs_csi","module.ebs_csi_irsa_role.data.aws_partition.current"]},{"address":"module.ebs_csi_irsa_role.aws_iam_role.this[0]","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-ebs-csi","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:aud\":\"sts.amazonaws.com\",\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\":\"system:serviceaccount:kube-system:ebs-csi-controller-sa\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:28:39Z","description":"","force_detach_policies":true,"id":"cluster-1-test-ebs-csi","inline_policy":[],"managed_policy_arns":["arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003"],"max_session_duration":3600,"name":"cluster-1-test-ebs-csi","name_prefix":"","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T08:33:13Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZEKWSWEFVB"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false],"role_last_used":[{}],"tags":{},"tags_all":{}},"depends_on":["data.aws_availability_zones.available","module.ebs_csi_irsa_role.data.aws_caller_identity.current","module.ebs_csi_irsa_role.data.aws_iam_policy_document.this","module.ebs_csi_irsa_role.data.aws_partition.current","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_openid_connect_provider.oidc_provider","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.data.tls_certificate.this","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.ebs_csi_irsa_role.aws_iam_role_policy_attachment.ebs_csi[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"cluster-1-test-ebs-csi-20241024082839641000000013","policy_arn":"arn:aws:iam::686591753714:policy/AmazonEKS_EBS_CSI_Policy-20241024082046498900000003","role":"cluster-1-test-ebs-csi"},"sensitive_values":{},"depends_on":["data.aws_availability_zones.available","module.ebs_csi_irsa_role.aws_iam_policy.ebs_csi","module.ebs_csi_irsa_role.aws_iam_role.this","module.ebs_csi_irsa_role.data.aws_caller_identity.current","module.ebs_csi_irsa_role.data.aws_iam_policy_document.ebs_csi","module.ebs_csi_irsa_role.data.aws_iam_policy_document.this","module.ebs_csi_irsa_role.data.aws_partition.current","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_openid_connect_provider.oidc_provider","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.data.tls_certificate.this","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]}],"address":"module.ebs_csi_irsa_role"},{"resources":[{"address":"module.eks.data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"686591753714","arn":"arn:aws:iam::686591753714:user/cloud_user","id":"686591753714","user_id":"AIDAZ7XAOXXZOZUEDZKHR"},"sensitive_values":{}},{"address":"module.eks.data.aws_default_tags.current","mode":"data","type":"aws_default_tags","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"aws","tags":{}},"sensitive_values":{"tags":{}}},{"address":"module.eks.data.aws_iam_policy_document.assume_role_policy[0]","mode":"data","type":"aws_iam_policy_document","name":"assume_role_policy","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2764486067","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"EKSClusterAssumeRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"eks.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["eks.amazonaws.com"],"type":"Service"}],"resources":[],"sid":"EKSClusterAssumeRole"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.eks.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.eks.data.tls_certificate.this[0]","mode":"data","type":"tls_certificate","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/tls","schema_version":0,"values":{"certificates":[{"cert_pem":"-----BEGIN CERTIFICATE-----\nMIIEdTCCA12gAwIBAgIJAKcOSkw0grd/MA0GCSqGSIb3DQEBCwUAMGgxCzAJBgNV\nBAYTAlVTMSUwIwYDVQQKExxTdGFyZmllbGQgVGVjaG5vbG9naWVzLCBJbmMuMTIw\nMAYDVQQLEylTdGFyZmllbGQgQ2xhc3MgMiBDZXJ0aWZpY2F0aW9uIEF1dGhvcml0\neTAeFw0wOTA5MDIwMDAwMDBaFw0zNDA2MjgxNzM5MTZaMIGYMQswCQYDVQQGEwJV\nUzEQMA4GA1UECBMHQXJpem9uYTETMBEGA1UEBxMKU2NvdHRzZGFsZTElMCMGA1UE\nChMcU3RhcmZpZWxkIFRlY2hub2xvZ2llcywgSW5jLjE7MDkGA1UEAxMyU3RhcmZp\nZWxkIFNlcnZpY2VzIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9yaXR5IC0gRzIwggEi\nMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDVDDrEKvlO4vW+GZdfjohTsR8/\ny8+fIBNtKTrID30892t2OGPZNmCom15cAICyL1l/9of5JUOG52kbUpqQ4XHj2C0N\nTm/2yEnZtvMaVq4rtnQU68/7JuMauh2WLmo7WJSJR1b/JaCTcFOD2oR0FMNnngRo\nOt+OQFodSk7PQ5E751bWAHDLUu57fa4657wx+UX2wmDPE1kCK4DMNEffud6QZW0C\nzyyRpqbn3oUYSXxmTqM6bam17jQuug0DuDPfR+uxa40l2ZvOgdFFRjKWcIfeAg5J\nQ4W2bHO7ZOphQazJ1FTfhy/HIrImzJ9ZVGif/L4qL8RVHHVAYBeFAlU5i38FAgMB\nAAGjgfAwge0wDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwHQYDVR0O\nBBYEFJxfAN+qAdcwKziIorhtSpzyEZGDMB8GA1UdIwQYMBaAFL9ft9HO3R+G9FtV\nrNzXEMIOqYjnME8GCCsGAQUFBwEBBEMwQTAcBggrBgEFBQcwAYYQaHR0cDovL28u\nc3MyLnVzLzAhBggrBgEFBQcwAoYVaHR0cDovL3guc3MyLnVzL3guY2VyMCYGA1Ud\nHwQfMB0wG6AZoBeGFWh0dHA6Ly9zLnNzMi51cy9yLmNybDARBgNVHSAECjAIMAYG\nBFUdIAAwDQYJKoZIhvcNAQELBQADggEBACMd44pXyn3pF3lM8R5V/cxTbj5HD9/G\nVfKyBDbtgB9TxF00KGu+x1X8Z+rLP3+QsjPNG1gQggL4+C/1E2DUBc7xgQjB3ad1\nl08YuW3e95ORCLp+QCztweq7dp4zBncdDQh/U90bZKuCJ/Fp1U1ervShw3WnWEQt\n8jxwmKy6abaVd38PMV4s/KCHOkdp8Hlf9BRUpJVeEXgSYCfOn8J3/yNTd126/+pZ\n59vPr5KW7ySaNRB6nJHGDn2Z9j8Z3/VyVOEVqQdZe4O/Ui5GjLIAZHYcSNPYeehu\nVsyuLAOQ1xk4meTKCRlb/weWsKh/NEnfVqn3sF/tM+2MR7cwA130A4w=\n-----END CERTIFICATE-----\n","is_ca":true,"issuer":"OU=Starfield Class 2 Certification Authority,O=Starfield Technologies\\, Inc.,C=US","not_after":"2034-06-28T17:39:16Z","not_before":"2009-09-02T00:00:00Z","public_key_algorithm":"RSA","serial_number":"12037640545166866303","sha1_fingerprint":"9e99a48a9960b14926bb7f3b02e22da2b0ab7280","signature_algorithm":"SHA256-RSA","subject":"CN=Starfield Services Root Certificate Authority - G2,O=Starfield Technologies\\, Inc.,L=Scottsdale,ST=Arizona,C=US","version":3},{"cert_pem":"-----BEGIN CERTIFICATE-----\nMIIEkjCCA3qgAwIBAgITBn+USionzfP6wq4rAfkI7rnExjANBgkqhkiG9w0BAQsF\nADCBmDELMAkGA1UEBhMCVVMxEDAOBgNVBAgTB0FyaXpvbmExEzARBgNVBAcTClNj\nb3R0c2RhbGUxJTAjBgNVBAoTHFN0YXJmaWVsZCBUZWNobm9sb2dpZXMsIEluYy4x\nOzA5BgNVBAMTMlN0YXJmaWVsZCBTZXJ2aWNlcyBSb290IENlcnRpZmljYXRlIEF1\ndGhvcml0eSAtIEcyMB4XDTE1MDUyNTEyMDAwMFoXDTM3MTIzMTAxMDAwMFowOTEL\nMAkGA1UEBhMCVVMxDzANBgNVBAoTBkFtYXpvbjEZMBcGA1UEAxMQQW1hem9uIFJv\nb3QgQ0EgMTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALJ4gHHKeNXj\nca9HgFB0fW7Y14h29Jlo91ghYPl0hAEvrAIthtOgQ3pOsqTQNroBvo3bSMgHFzZM\n9O6II8c+6zf1tRn4SWiw3te5djgdYZ6k/oI2peVKVuRF4fn9tBb6dNqcmzU5L/qw\nIFAGbHrQgLKm+a/sRxmPUDgH3KKHOVj4utWp+UhnMJbulHheb4mjUcAwhmahRWa6\nVOujw5H5SNz/0egwLX0tdHA114gk957EWW67c4cX8jJGKLhD+rcdqsq08p8kDi1L\n93FcXmn/6pUCyziKrlA4b9v7LWIbxcceVOF34GfID5yHI9Y/QCB/IIDEgEw+OyQm\njgSubJrIqg0CAwEAAaOCATEwggEtMA8GA1UdEwEB/wQFMAMBAf8wDgYDVR0PAQH/\nBAQDAgGGMB0GA1UdDgQWBBSEGMyFNOy8DJSULghZnMeyEE4KCDAfBgNVHSMEGDAW\ngBScXwDfqgHXMCs4iKK4bUqc8hGRgzB4BggrBgEFBQcBAQRsMGowLgYIKwYBBQUH\nMAGGImh0dHA6Ly9vY3NwLnJvb3RnMi5hbWF6b250cnVzdC5jb20wOAYIKwYBBQUH\nMAKGLGh0dHA6Ly9jcnQucm9vdGcyLmFtYXpvbnRydXN0LmNvbS9yb290ZzIuY2Vy\nMD0GA1UdHwQ2MDQwMqAwoC6GLGh0dHA6Ly9jcmwucm9vdGcyLmFtYXpvbnRydXN0\nLmNvbS9yb290ZzIuY3JsMBEGA1UdIAQKMAgwBgYEVR0gADANBgkqhkiG9w0BAQsF\nAAOCAQEAYjdCXLwQtT6LLOkMm2xF4gcAevnFWAu5CIw+7bMlPLVvUOTNNWqnkzSW\nMiGpSESrnO09tKpzbeR/FoCJbM8oAxiDR3mjEH4wW6w7sGDgd9QIpuEdfF7Au/ma\neyKdpwAJfqxGF4PcnCZXmTA5YpaP7dreqsXMGz7KQ2hsVxa81Q4gLv7/wmpdLqBK\nbRRYh5TmOTFffHPLkIhqhBGWJ6bt2YFGpn6jcgAKUj6DiAdjd4lpFw85hdKrCEVN\n0FE6/V1dN2RMfjCyVSRCnTawXZwXgWHxyvkQAiSr6w10kY17RSlQOYiypok1JR4U\nakcjMS9cmvqtmg5iUaQqqcT5NJ0hGA==\n-----END CERTIFICATE-----\n","is_ca":true,"issuer":"CN=Starfield Services Root Certificate Authority - G2,O=Starfield Technologies\\, Inc.,L=Scottsdale,ST=Arizona,C=US","not_after":"2037-12-31T01:00:00Z","not_before":"2015-05-25T12:00:00Z","public_key_algorithm":"RSA","serial_number":"144918191876577076464031512351042010504348870","sha1_fingerprint":"06b25927c42a721631c1efd9431e648fa62e1e39","signature_algorithm":"SHA256-RSA","subject":"CN=Amazon Root CA 1,O=Amazon,C=US","version":3},{"cert_pem":"-----BEGIN CERTIFICATE-----\nMIIEXjCCA0agAwIBAgITB3MSSkvL1E7HtTvq8ZSELToPoTANBgkqhkiG9w0BAQsF\nADA5MQswCQYDVQQGEwJVUzEPMA0GA1UEChMGQW1hem9uMRkwFwYDVQQDExBBbWF6\nb24gUm9vdCBDQSAxMB4XDTIyMDgyMzIyMjUzMFoXDTMwMDgyMzIyMjUzMFowPDEL\nMAkGA1UEBhMCVVMxDzANBgNVBAoTBkFtYXpvbjEcMBoGA1UEAxMTQW1hem9uIFJT\nQSAyMDQ4IE0wMjCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALtDGMZa\nqHneKei1by6+pUPPLljTB143Si6VpEWPc6mSkFhZb/6qrkZyoHlQLbDYnI2D7hD0\nsdzEqfnuAjIsuXQLG3A8TvX6V3oFNBFVe8NlLJHvBseKY88saLwufxkZVwk74g4n\nWlNMXzla9Y5F3wwRHwMVH443xGz6UtGSZSqQ94eFx5X7Tlqt8whi8qCaKdZ5rNak\n+r9nUThOeClqFd4oXych//Rc7Y0eX1KNWHYSI1Nk31mYgiK3JvH063g+K9tHA63Z\neTgKgndlh+WI+zv7i44HepRZjA1FYwYZ9Vv/9UkC5Yz8/yU65fgjaE+wVHM4e/Yy\nC2osrPWE7gJ+dXMCAwEAAaOCAVowggFWMBIGA1UdEwEB/wQIMAYBAf8CAQAwDgYD\nVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAdBgNV\nHQ4EFgQUwDFSzVpQw4J8dHHOy+mc+XrrguIwHwYDVR0jBBgwFoAUhBjMhTTsvAyU\nlC4IWZzHshBOCggwewYIKwYBBQUHAQEEbzBtMC8GCCsGAQUFBzABhiNodHRwOi8v\nb2NzcC5yb290Y2ExLmFtYXpvbnRydXN0LmNvbTA6BggrBgEFBQcwAoYuaHR0cDov\nL2NydC5yb290Y2ExLmFtYXpvbnRydXN0LmNvbS9yb290Y2ExLmNlcjA/BgNVHR8E\nODA2MDSgMqAwhi5odHRwOi8vY3JsLnJvb3RjYTEuYW1hem9udHJ1c3QuY29tL3Jv\nb3RjYTEuY3JsMBMGA1UdIAQMMAowCAYGZ4EMAQIBMA0GCSqGSIb3DQEBCwUAA4IB\nAQAtTi6Fs0Azfi+iwm7jrz+CSxHH+uHl7Law3MQSXVtR8RV53PtR6r/6gNpqlzdo\nZq4FKbADi1v9Bun8RY8D51uedRfjsbeodizeBB8nXmeyD33Ep7VATj4ozcd31YFV\nfgRhvTSxNrrTlNpWkUk0m3BMPv8sg381HhA6uEYokE5q9uws/3YkKqRiEz3TsaWm\nJqIRZhMbgAfp7O7FUwFIb7UIspogZSKxPIWJpxiPo3TcBambbVtQOcNRWz5qCQdD\nslI2yayq0n2TXoHyNCLEH8rpsJRVILFsg0jc7BaFrMnF462+ajSehgj12IidNeRN\n4zl+EoNaWdpnWndvSpAEkq2P\n-----END CERTIFICATE-----\n","is_ca":true,"issuer":"CN=Amazon Root CA 1,O=Amazon,C=US","not_after":"2030-08-23T22:25:30Z","not_before":"2022-08-23T22:25:30Z","public_key_algorithm":"RSA","serial_number":"166129353110899469622597955040406457904926625","sha1_fingerprint":"414a2060b738c635cc7fc243e052615592830c53","signature_algorithm":"SHA256-RSA","subject":"CN=Amazon RSA 2048 M02,O=Amazon,C=US","version":3},{"cert_pem":"-----BEGIN CERTIFICATE-----\nMIIF5jCCBM6gAwIBAgIQBffx8QM2PUWgDncj63+LQTANBgkqhkiG9w0BAQsFADA8\nMQswCQYDVQQGEwJVUzEPMA0GA1UEChMGQW1hem9uMRwwGgYDVQQDExNBbWF6b24g\nUlNBIDIwNDggTTAyMB4XDTI0MDMyNzAwMDAwMFoXDTI1MDQyNTIzNTk1OVowKDEm\nMCQGA1UEAwwdKi5la3MuZXUtd2VzdC0zLmFtYXpvbmF3cy5jb20wggEiMA0GCSqG\nSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDQpEOPdEJTsqJwj1pRVweVy8dwE7t5bmkK\n6SCsStWpg5cy1g2GqLBvOjoHB54J3ZkvSE7yuUoSqe3ZfS9Bp/zdtbsQ7NVj+THO\no3dn9WszzTQJGko7YTEQZDJlNk3PHTHIKTdb6I6qMkXd78d3nOO8a/b8cC04e7wV\nxx+GCMWb52NJdgzPSlwPVl0+Lfj5sjr+F3zOMCf8llqLESBk+NJzLrzn6panSxaf\nuEwyDsm06bJvPCUgf6P8HiD2GzPXbawONpLDRgfBx+TZgLki1s/WRfFoQXd15sGC\n/Bz7D94Y+H92FySfa+QVcCV3eHEGQMizrYiXzvEGTv8C/J9yjCJhAgMBAAGjggL2\nMIIC8jAfBgNVHSMEGDAWgBTAMVLNWlDDgnx0cc7L6Zz5euuC4jAdBgNVHQ4EFgQU\nXQbXxcNPhPu+34g/RKF+Z42qWLAwKAYDVR0RBCEwH4IdKi5la3MuZXUtd2VzdC0z\nLmFtYXpvbmF3cy5jb20wEwYDVR0gBAwwCjAIBgZngQwBAgEwDgYDVR0PAQH/BAQD\nAgWgMB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjA7BgNVHR8ENDAyMDCg\nLqAshipodHRwOi8vY3JsLnIybTAyLmFtYXpvbnRydXN0LmNvbS9yMm0wMi5jcmww\ndQYIKwYBBQUHAQEEaTBnMC0GCCsGAQUFBzABhiFodHRwOi8vb2NzcC5yMm0wMi5h\nbWF6b250cnVzdC5jb20wNgYIKwYBBQUHMAKGKmh0dHA6Ly9jcnQucjJtMDIuYW1h\nem9udHJ1c3QuY29tL3IybTAyLmNlcjAMBgNVHRMBAf8EAjAAMIIBfgYKKwYBBAHW\neQIEAgSCAW4EggFqAWgAdwBOdaMnXJoQwzhbbNTfP1LrHfDgjhuNacCx+mSxYpo5\n3wAAAY6BKW7OAAAEAwBIMEYCIQCLBM5X8p0PiQh4GLjm4biG6ddECeYzOaZYKGhu\njhKN8gIhAKYcv/q7Dn4LPlr8Y43sIL1nTn+yt84XKaCcdRfXD8DkAHYAfVkeEuF4\nKnscYWd8Xv340IdcFKBOlZ65Ay/ZDowuebgAAAGOgSlvDAAABAMARzBFAiBEDNit\nOhRADX6Kr7yXfdgS9c/HG+r6fkMZxszfsqYr4gIhAMXPxeXvpvZmbZCdQcJ1X12+\nB5tIKi33b3X1jIGN3A3kAHUA5tIxY0B3jMEQQQbXcbnOwdJA9paEhvu6hzId/R43\njlAAAAGOgSlvJAAABAMARjBEAiB3KeYibfZzF+sTYue4gpjn8H8ER4S+TC9QL6Z4\nDyVQ+QIgNcMbYYIEn/qoRfUhvdlETO1KwDHrnxkplfTV3nyqV5kwDQYJKoZIhvcN\nAQELBQADggEBAKyXs/EEgdYuBda5r6rQdCRuiCbhxgKHvyyLrPYCN+pMUiN3UfzS\nTaJ6IgzaRRAtwyLy4hX/9twNEcTd9Xb7Ju0oXdrTA5UHtcKGMVLZgZ2aTSSIRTmF\n08VCDO+oNY4srIx/6faLsRW8xCZj3Vwn1TW7r0d/42FaE2hymY6ZTZjttv+lKPPp\nFDIZXCNCBUMer4AN3AtX2vcqaamitoCoeHu8+anfZXK4mC8L5KX4WS+pGUfgITe+\nkKGARS7ggc8AS1L352nHbdSOZ/MpgD9LnUunNeCzd6v1qD7eui8HR4tHf/xvYsXQ\niJL93LW7h+Jhjzjtrl0TArJ/lbhdJ1O4nGY=\n-----END CERTIFICATE-----\n","is_ca":false,"issuer":"CN=Amazon RSA 2048 M02,O=Amazon,C=US","not_after":"2025-04-25T23:59:59Z","not_before":"2024-03-27T00:00:00Z","public_key_algorithm":"RSA","serial_number":"7933544458678354151480907234197605185","sha1_fingerprint":"0e5107483589d91041a8733fbcf0e964152d1e90","signature_algorithm":"SHA256-RSA","subject":"CN=*.eks.eu-west-3.amazonaws.com","version":3}],"content":null,"id":"6ccb623cceafca82e05629fc3a65931511c19388","url":"https://oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D","verify_chain":true},"sensitive_values":{"certificates":[{},{},{},{}]}},{"address":"module.eks.aws_ec2_tag.cluster_primary_security_group[\"Environment\"]","mode":"managed","type":"aws_ec2_tag","name":"cluster_primary_security_group","index":"Environment","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sg-052870fb53e73b766,Environment","key":"Environment","resource_id":"sg-052870fb53e73b766","value":"test"},"sensitive_values":{},"depends_on":["data.aws_availability_zones.available","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_default_tags.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.eks.aws_ec2_tag.cluster_primary_security_group[\"Terraform\"]","mode":"managed","type":"aws_ec2_tag","name":"cluster_primary_security_group","index":"Terraform","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"sg-052870fb53e73b766,Terraform","key":"Terraform","resource_id":"sg-052870fb53e73b766","value":"true"},"sensitive_values":{},"depends_on":["data.aws_availability_zones.available","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_default_tags.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.eks.aws_eks_addon.this[\"aws-ebs-csi-driver\"]","mode":"managed","type":"aws_eks_addon","name":"this","index":"aws-ebs-csi-driver","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"aws-ebs-csi-driver","addon_version":"v1.35.0-eksbuild.1","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/aws-ebs-csi-driver/20c95ed3-01b8-2ae8-0a73-f79d3f8e55f8","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:aws-ebs-csi-driver","modified_at":"2024-10-24T08:31:14Z","preserve":null,"resolve_conflicts":"OVERWRITE","service_account_role_arn":"arn:aws:iam::686591753714:role/cluster-1-test-ebs-csi","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["data.aws_availability_zones.available","module.ebs_csi_irsa_role.aws_iam_role.this","module.ebs_csi_irsa_role.data.aws_caller_identity.current","module.ebs_csi_irsa_role.data.aws_iam_policy_document.this","module.ebs_csi_irsa_role.data.aws_partition.current","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_openid_connect_provider.oidc_provider","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.data.tls_certificate.this","module.eks.module.eks_managed_node_group.aws_eks_node_group.this","module.eks.module.eks_managed_node_group.aws_iam_role.this","module.eks.module.eks_managed_node_group.aws_iam_role_policy_attachment.this","module.eks.module.eks_managed_node_group.aws_launch_template.this","module.eks.module.eks_managed_node_group.aws_security_group.this","module.eks.module.eks_managed_node_group.aws_security_group_rule.this","module.eks.module.eks_managed_node_group.data.aws_caller_identity.current","module.eks.module.eks_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.eks_managed_node_group.data.aws_partition.current","module.eks.module.eks_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group","module.eks.module.fargate_profile.aws_eks_fargate_profile.this","module.eks.module.fargate_profile.aws_iam_role.this","module.eks.module.fargate_profile.aws_iam_role_policy_attachment.this","module.eks.module.fargate_profile.data.aws_caller_identity.current","module.eks.module.fargate_profile.data.aws_iam_policy_document.assume_role_policy","module.eks.module.fargate_profile.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.eks.module.self_managed_node_group.aws_autoscaling_group.this","module.eks.module.self_managed_node_group.aws_autoscaling_schedule.this","module.eks.module.self_managed_node_group.aws_iam_instance_profile.this","module.eks.module.self_managed_node_group.aws_iam_role.this","module.eks.module.self_managed_node_group.aws_iam_role_policy_attachment.this","module.eks.module.self_managed_node_group.aws_launch_template.this","module.eks.module.self_managed_node_group.aws_security_group.this","module.eks.module.self_managed_node_group.aws_security_group_rule.this","module.eks.module.self_managed_node_group.data.aws_ami.eks_default","module.eks.module.self_managed_node_group.data.aws_caller_identity.current","module.eks.module.self_managed_node_group.data.aws_default_tags.current","module.eks.module.self_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.self_managed_node_group.data.aws_partition.current","module.eks.module.self_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.eks.aws_eks_addon.this[\"coredns\"]","mode":"managed","type":"aws_eks_addon","name":"this","index":"coredns","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"coredns","addon_version":"v1.8.7-eksbuild.7","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/coredns/88c95ed3-01b9-9bc6-0f63-52c598ab6c59","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:coredns","modified_at":"2024-10-24T08:30:42Z","preserve":null,"resolve_conflicts":"OVERWRITE","service_account_role_arn":"","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["data.aws_availability_zones.available","module.ebs_csi_irsa_role.aws_iam_role.this","module.ebs_csi_irsa_role.data.aws_caller_identity.current","module.ebs_csi_irsa_role.data.aws_iam_policy_document.this","module.ebs_csi_irsa_role.data.aws_partition.current","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_openid_connect_provider.oidc_provider","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.data.tls_certificate.this","module.eks.module.eks_managed_node_group.aws_eks_node_group.this","module.eks.module.eks_managed_node_group.aws_iam_role.this","module.eks.module.eks_managed_node_group.aws_iam_role_policy_attachment.this","module.eks.module.eks_managed_node_group.aws_launch_template.this","module.eks.module.eks_managed_node_group.aws_security_group.this","module.eks.module.eks_managed_node_group.aws_security_group_rule.this","module.eks.module.eks_managed_node_group.data.aws_caller_identity.current","module.eks.module.eks_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.eks_managed_node_group.data.aws_partition.current","module.eks.module.eks_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group","module.eks.module.fargate_profile.aws_eks_fargate_profile.this","module.eks.module.fargate_profile.aws_iam_role.this","module.eks.module.fargate_profile.aws_iam_role_policy_attachment.this","module.eks.module.fargate_profile.data.aws_caller_identity.current","module.eks.module.fargate_profile.data.aws_iam_policy_document.assume_role_policy","module.eks.module.fargate_profile.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.eks.module.self_managed_node_group.aws_autoscaling_group.this","module.eks.module.self_managed_node_group.aws_autoscaling_schedule.this","module.eks.module.self_managed_node_group.aws_iam_instance_profile.this","module.eks.module.self_managed_node_group.aws_iam_role.this","module.eks.module.self_managed_node_group.aws_iam_role_policy_attachment.this","module.eks.module.self_managed_node_group.aws_launch_template.this","module.eks.module.self_managed_node_group.aws_security_group.this","module.eks.module.self_managed_node_group.aws_security_group_rule.this","module.eks.module.self_managed_node_group.data.aws_ami.eks_default","module.eks.module.self_managed_node_group.data.aws_caller_identity.current","module.eks.module.self_managed_node_group.data.aws_default_tags.current","module.eks.module.self_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.self_managed_node_group.data.aws_partition.current","module.eks.module.self_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.eks.aws_eks_addon.this[\"kube-proxy\"]","mode":"managed","type":"aws_eks_addon","name":"this","index":"kube-proxy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"kube-proxy","addon_version":"v1.23.17-eksbuild.3","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/kube-proxy/a0c95ed3-01b5-fff1-2f54-aba00bd8a11a","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:kube-proxy","modified_at":"2024-10-24T08:30:34Z","preserve":null,"resolve_conflicts":null,"service_account_role_arn":"","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["data.aws_availability_zones.available","module.ebs_csi_irsa_role.aws_iam_role.this","module.ebs_csi_irsa_role.data.aws_caller_identity.current","module.ebs_csi_irsa_role.data.aws_iam_policy_document.this","module.ebs_csi_irsa_role.data.aws_partition.current","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_openid_connect_provider.oidc_provider","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.data.tls_certificate.this","module.eks.module.eks_managed_node_group.aws_eks_node_group.this","module.eks.module.eks_managed_node_group.aws_iam_role.this","module.eks.module.eks_managed_node_group.aws_iam_role_policy_attachment.this","module.eks.module.eks_managed_node_group.aws_launch_template.this","module.eks.module.eks_managed_node_group.aws_security_group.this","module.eks.module.eks_managed_node_group.aws_security_group_rule.this","module.eks.module.eks_managed_node_group.data.aws_caller_identity.current","module.eks.module.eks_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.eks_managed_node_group.data.aws_partition.current","module.eks.module.eks_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group","module.eks.module.fargate_profile.aws_eks_fargate_profile.this","module.eks.module.fargate_profile.aws_iam_role.this","module.eks.module.fargate_profile.aws_iam_role_policy_attachment.this","module.eks.module.fargate_profile.data.aws_caller_identity.current","module.eks.module.fargate_profile.data.aws_iam_policy_document.assume_role_policy","module.eks.module.fargate_profile.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.eks.module.self_managed_node_group.aws_autoscaling_group.this","module.eks.module.self_managed_node_group.aws_autoscaling_schedule.this","module.eks.module.self_managed_node_group.aws_iam_instance_profile.this","module.eks.module.self_managed_node_group.aws_iam_role.this","module.eks.module.self_managed_node_group.aws_iam_role_policy_attachment.this","module.eks.module.self_managed_node_group.aws_launch_template.this","module.eks.module.self_managed_node_group.aws_security_group.this","module.eks.module.self_managed_node_group.aws_security_group_rule.this","module.eks.module.self_managed_node_group.data.aws_ami.eks_default","module.eks.module.self_managed_node_group.data.aws_caller_identity.current","module.eks.module.self_managed_node_group.data.aws_default_tags.current","module.eks.module.self_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.self_managed_node_group.data.aws_partition.current","module.eks.module.self_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.eks.aws_eks_addon.this[\"vpc-cni\"]","mode":"managed","type":"aws_eks_addon","name":"this","index":"vpc-cni","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"addon_name":"vpc-cni","addon_version":"v1.15.1-eksbuild.1","arn":"arn:aws:eks:eu-west-3:686591753714:addon/cluster-1-test/vpc-cni/a6c95ed3-01b4-53f9-b703-538999ec8ac6","cluster_name":"cluster-1-test","configuration_values":"","created_at":"2024-10-24T08:30:26Z","id":"cluster-1-test:vpc-cni","modified_at":"2024-10-24T08:32:34Z","preserve":null,"resolve_conflicts":"OVERWRITE","service_account_role_arn":"","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":null},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["data.aws_availability_zones.available","module.ebs_csi_irsa_role.aws_iam_role.this","module.ebs_csi_irsa_role.data.aws_caller_identity.current","module.ebs_csi_irsa_role.data.aws_iam_policy_document.this","module.ebs_csi_irsa_role.data.aws_partition.current","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_openid_connect_provider.oidc_provider","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.data.tls_certificate.this","module.eks.module.eks_managed_node_group.aws_eks_node_group.this","module.eks.module.eks_managed_node_group.aws_iam_role.this","module.eks.module.eks_managed_node_group.aws_iam_role_policy_attachment.this","module.eks.module.eks_managed_node_group.aws_launch_template.this","module.eks.module.eks_managed_node_group.aws_security_group.this","module.eks.module.eks_managed_node_group.aws_security_group_rule.this","module.eks.module.eks_managed_node_group.data.aws_caller_identity.current","module.eks.module.eks_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.eks_managed_node_group.data.aws_partition.current","module.eks.module.eks_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group","module.eks.module.fargate_profile.aws_eks_fargate_profile.this","module.eks.module.fargate_profile.aws_iam_role.this","module.eks.module.fargate_profile.aws_iam_role_policy_attachment.this","module.eks.module.fargate_profile.data.aws_caller_identity.current","module.eks.module.fargate_profile.data.aws_iam_policy_document.assume_role_policy","module.eks.module.fargate_profile.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.eks.module.self_managed_node_group.aws_autoscaling_group.this","module.eks.module.self_managed_node_group.aws_autoscaling_schedule.this","module.eks.module.self_managed_node_group.aws_iam_instance_profile.this","module.eks.module.self_managed_node_group.aws_iam_role.this","module.eks.module.self_managed_node_group.aws_iam_role_policy_attachment.this","module.eks.module.self_managed_node_group.aws_launch_template.this","module.eks.module.self_managed_node_group.aws_security_group.this","module.eks.module.self_managed_node_group.aws_security_group_rule.this","module.eks.module.self_managed_node_group.data.aws_ami.eks_default","module.eks.module.self_managed_node_group.data.aws_caller_identity.current","module.eks.module.self_managed_node_group.data.aws_default_tags.current","module.eks.module.self_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.self_managed_node_group.data.aws_partition.current","module.eks.module.self_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.eks.aws_eks_cluster.this[0]","mode":"managed","type":"aws_eks_cluster","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:eks:eu-west-3:686591753714:cluster/cluster-1-test","certificate_authority":[{"data":"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMvakNDQWVhZ0F3SUJBZ0lCQURBTkJna3Foa2lHOXcwQkFRc0ZBREFWTVJNd0VRWURWUVFERXdwcmRXSmwKY201bGRHVnpNQjRYRFRJME1UQXlOREE0TWpVd01Gb1hEVE0wTVRBeU1qQTRNalV3TUZvd0ZURVRNQkVHQTFVRQpBeE1LYTNWaVpYSnVaWFJsY3pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDQVFvQ2dnRUJBT1V6CmltTlpubE5lTFFrT2paNXlsaThyb3pCWXgwVGRraGxIbW44RlVqaFREbFlPUHVPbHdTQkFJenl1U1F1VjJCMngKVjVmV1JPQnRiODZycGE1OVVGcmUzNEQrS2kzMXpyQVpIU2pSaTUzQUN1VFY1V0JZaEJlRVRlMmFTL0dTN1hkWApzYm84TVk3bXZrbEtpNzlndHNvcC90a3EranVjbG1HMDZXbVNvVHJTU1doa3llajd6ZDhOczFaNTNnWjZCN2x6CjZNNXN5Z3pSYnEzM21OTDlWMkp5NFRwKzR3OTFFdUl2QitTOHExanNhdDgwd2tobGxiT1ZzUU1CalkyT3Zpc1MKODBxbk5RMi9RSXdORkFYQzdJQWcyZ1RTMHQxZ0w1N3N5bHlkQWtCbVoyWTJHREZjT242bUVKTGN5cHYxV2JMSAp0Z2ovaVptWjlJZU9zSkNtSFBjQ0F3RUFBYU5aTUZjd0RnWURWUjBQQVFIL0JBUURBZ0trTUE4R0ExVWRFd0VCCi93UUZNQU1CQWY4d0hRWURWUjBPQkJZRUZPZHZEWUpCNzZtYzFvUlczRHppcWplWGdXem1NQlVHQTFVZEVRUU8KTUF5Q0NtdDFZbVZ5Ym1WMFpYTXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBTUcybHJSQWcrQ0dzU1Azdlk1QgpraDdlK1FEbENlRDh5YXdvNW1UYW1RYXRydzc4UElYay9OTHNaRjJ1NjMzMWYwSTl6anhaSmJCbkNjV1ZLQjNoCkxGZVN5VUEvM0MwNHUxSG1kd2t4OU9CYVFxY3ArT29sNjRDWUlXUlkwUDd3NGJ1WFdlbDZvaHNxUXZMV1hlcFYKWXRaN1dsaHdLcjdncmpVVWxtM2lWNUUyaHlmU2FKMEZxQWIzRHJ2OHppTUVZcTlWOTNlbjdaYVp6WUNYdkdzeApXWUd3SGNzeUFuYVVjWGtsN3NZcG1jUVpwK3d5R2M5Q0FMalRwTjBkNnZGOTNiQUIxU3Zicld6WW12K2lYb20wCndOWjdDVWpnWEhLVG12S0VydTRHU3pMREFBSHo3TUE4emhpY3loU0kydGJXYzlsbEdmNHZ0OWVwV01pUkhkZXcKdlNzPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="}],"cluster_id":null,"created_at":"2024-10-24 08:21:08.607 +0000 UTC","enabled_cluster_log_types":["api","audit","authenticator"],"encryption_config":[],"endpoint":"https://664F193C4205EBC523D1FD032C549B8D.gr7.eu-west-3.eks.amazonaws.com","id":"cluster-1-test","identity":[{"oidc":[{"issuer":"https://oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D"}]}],"kubernetes_network_config":[{"ip_family":"ipv4","service_ipv4_cidr":"172.20.0.0/16","service_ipv6_cidr":""}],"name":"cluster-1-test","outpost_config":[],"platform_version":"eks.32","role_arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-20241024082046493600000002","status":"ACTIVE","tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"timeouts":{"create":null,"delete":null,"update":null},"version":"1.23","vpc_config":[{"cluster_security_group_id":"sg-052870fb53e73b766","endpoint_private_access":true,"endpoint_public_access":true,"public_access_cidrs":["0.0.0.0/0"],"security_group_ids":["sg-04b658b30ff02546e"],"subnet_ids":["subnet-05e604773ead19337","subnet-0cc42401e36283845"],"vpc_id":"vpc-0ca2f2a87d3be5e08"}]},"sensitive_values":{"certificate_authority":[{}],"enabled_cluster_log_types":[false,false,false],"encryption_config":[],"identity":[{"oidc":[{}]}],"kubernetes_network_config":[{}],"outpost_config":[],"tags":{},"tags_all":{},"timeouts":{},"vpc_config":[{"public_access_cidrs":[false],"security_group_ids":[false],"subnet_ids":[false,false]}]},"depends_on":["data.aws_availability_zones.available","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.eks.aws_iam_openid_connect_provider.oidc_provider[0]","mode":"managed","type":"aws_iam_openid_connect_provider","name":"oidc_provider","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D","client_id_list":["sts.amazonaws.com"],"id":"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D","tags":{"Environment":"test","Name":"cluster-1-test-eks-irsa","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-eks-irsa","Terraform":"true"},"thumbprint_list":["9e99a48a9960b14926bb7f3b02e22da2b0ab7280","06b25927c42a721631c1efd9431e648fa62e1e39","414a2060b738c635cc7fc243e052615592830c53","0e5107483589d91041a8733fbcf0e964152d1e90"],"url":"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D"},"sensitive_values":{"client_id_list":[false],"tags":{},"tags_all":{},"thumbprint_list":[false,false,false,false]},"depends_on":["data.aws_availability_zones.available","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.data.tls_certificate.this","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.eks.aws_iam_role.this[0]","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-20241024082046493600000002","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"eks.amazonaws.com\"},\"Sid\":\"EKSClusterAssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:20:46Z","description":"","force_detach_policies":true,"id":"cluster-1-test-cluster-20241024082046493600000002","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","arn:aws:iam::aws:policy/AmazonEKSVPCResourceController"],"max_session_duration":3600,"name":"cluster-1-test-cluster-20241024082046493600000002","name_prefix":"cluster-1-test-cluster-","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T08:55:56Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZE3IMW242I"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false,false],"role_last_used":[{}],"tags":{},"tags_all":{}},"depends_on":["module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current"]},{"address":"module.eks.aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"cluster-1-test-cluster-20241024082046493600000002-20241024082047420800000005","policy_arn":"arn:aws:iam::aws:policy/AmazonEKSClusterPolicy","role":"cluster-1-test-cluster-20241024082046493600000002"},"sensitive_values":{},"depends_on":["module.eks.aws_iam_role.this","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current"]},{"address":"module.eks.aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEKSVPCResourceController\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEKSVPCResourceController","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"cluster-1-test-cluster-20241024082046493600000002-20241024082047416100000004","policy_arn":"arn:aws:iam::aws:policy/AmazonEKSVPCResourceController","role":"cluster-1-test-cluster-20241024082046493600000002"},"sensitive_values":{},"depends_on":["module.eks.aws_iam_role.this","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current"]},{"address":"module.eks.aws_security_group.cluster[0]","mode":"managed","type":"aws_security_group","name":"cluster","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-04b658b30ff02546e","description":"EKS cluster security group","egress":[{"cidr_blocks":[],"description":"Cluster API to node groups","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Cluster API to node kubelets","from_port":10250,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":10250}],"id":"sg-04b658b30ff02546e","ingress":[{"cidr_blocks":[],"description":"Node groups to cluster API via port 8443","from_port":8443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":8443},{"cidr_blocks":[],"description":"Node groups to cluster API","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-0751dc8afabcdaeac"],"self":false,"to_port":443}],"name":"cluster-1-test-cluster-2024102408205829690000000a","name_prefix":"cluster-1-test-cluster-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"cluster-1-test-cluster","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-cluster","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"egress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]}],"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group.node[0]","mode":"managed","type":"aws_security_group","name":"node","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-0751dc8afabcdaeac","description":"EKS node shared security group","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/TCP to internet","from_port":123,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":123},{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/UDP to internet","from_port":123,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":false,"to_port":123},{"cidr_blocks":["0.0.0.0/0"],"description":"Egress all HTTPS to internet","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":443},{"cidr_blocks":["0.0.0.0/0"],"description":"Node all egress","from_port":0,"ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0},{"cidr_blocks":[],"description":"Node groups to cluster API","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":true,"to_port":53}],"id":"sg-0751dc8afabcdaeac","ingress":[{"cidr_blocks":[],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":["sg-0cf02e08e56b2a6b8"],"self":false,"to_port":0},{"cidr_blocks":[],"description":"Cluster API to node groups","from_port":443,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":443},{"cidr_blocks":[],"description":"Cluster API to node kubelets","from_port":10250,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":["sg-04b658b30ff02546e"],"self":false,"to_port":10250},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node CoreDNS","from_port":53,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"udp","security_groups":[],"self":true,"to_port":53},{"cidr_blocks":[],"description":"Node to node all ports/protocols","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":true,"to_port":0}],"name":"cluster-1-test-node-2024102408205830080000000b","name_prefix":"cluster-1-test-node-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"cluster-1-test-node","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"owned"},"tags_all":{"Environment":"test","Name":"cluster-1-test-node","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"owned"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"egress":[{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"ingress":[{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[false]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]},{"cidr_blocks":[],"ipv6_cidr_blocks":[],"prefix_list_ids":[],"security_groups":[]}],"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.cluster[\"egress_nodes_443\"]","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"egress_nodes_443","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Cluster API to node groups","from_port":443,"id":"sgrule-3832824784","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0f83bc40ba26e2c24","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":443,"type":"egress"},"sensitive_values":{"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.cluster[\"egress_nodes_kubelet\"]","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"egress_nodes_kubelet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Cluster API to node kubelets","from_port":10250,"id":"sgrule-89047750","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-00ba18ede70326855","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":10250,"type":"egress"},"sensitive_values":{"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.cluster[\"ingress_nodes_443\"]","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"ingress_nodes_443","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node groups to cluster API","from_port":443,"id":"sgrule-3763320317","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0f83bc40ba26e2c24","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":443,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.cluster[\"ingress_nodes_8443_tcp\"]","mode":"managed","type":"aws_security_group_rule","name":"cluster","index":"ingress_nodes_8443_tcp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node groups to cluster API via port 8443","from_port":8443,"id":"sgrule-2386139913","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-04b658b30ff02546e","security_group_rule_id":"sgr-0fe01059c7a50a81c","self":false,"source_security_group_id":"sg-0751dc8afabcdaeac","timeouts":null,"to_port":8443,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.node[\"egress_all\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_all","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"Node all egress","from_port":0,"id":"sgrule-2912202734","ipv6_cidr_blocks":["::/0"],"prefix_list_ids":[],"protocol":"-1","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"","self":false,"source_security_group_id":null,"timeouts":null,"to_port":0,"type":"egress"},"sensitive_values":{"cidr_blocks":[false],"ipv6_cidr_blocks":[false],"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.node[\"egress_cluster_443\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_cluster_443","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node groups to cluster API","from_port":443,"id":"sgrule-973296535","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0d77333d7886e8c33","self":false,"source_security_group_id":"sg-04b658b30ff02546e","timeouts":null,"to_port":443,"type":"egress"},"sensitive_values":{"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.node[\"egress_https\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_https","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"Egress all HTTPS to internet","from_port":443,"id":"sgrule-291372456","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0e34ab605fb394f56","self":false,"source_security_group_id":null,"timeouts":null,"to_port":443,"type":"egress"},"sensitive_values":{"cidr_blocks":[false],"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.node[\"egress_ntp_tcp\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_ntp_tcp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/TCP to internet","from_port":123,"id":"sgrule-3464741046","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0238919dde5d1deaa","self":false,"source_security_group_id":null,"timeouts":null,"to_port":123,"type":"egress"},"sensitive_values":{"cidr_blocks":[false],"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.node[\"egress_ntp_udp\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_ntp_udp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":["0.0.0.0/0"],"description":"Egress NTP/UDP to internet","from_port":123,"id":"sgrule-2954749371","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"udp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-06fd19386e178d2f7","self":false,"source_security_group_id":null,"timeouts":null,"to_port":123,"type":"egress"},"sensitive_values":{"cidr_blocks":[false],"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.node[\"egress_self_coredns_tcp\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_self_coredns_tcp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-4025882043","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0b10726a79217c75f","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"egress"},"sensitive_values":{"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.node[\"egress_self_coredns_udp\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"egress_self_coredns_udp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-1636931549","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"udp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0f21eca9fe3e64d20","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"egress"},"sensitive_values":{"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.node[\"ingress_cluster_443\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_cluster_443","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Cluster API to node groups","from_port":443,"id":"sgrule-1977202689","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0867aef36d9063e85","self":false,"source_security_group_id":"sg-04b658b30ff02546e","timeouts":null,"to_port":443,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.node[\"ingress_cluster_kubelet\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_cluster_kubelet","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Cluster API to node kubelets","from_port":10250,"id":"sgrule-548397254","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-06e4faaacfa31542b","self":false,"source_security_group_id":"sg-04b658b30ff02546e","timeouts":null,"to_port":10250,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.node[\"ingress_self_all\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_self_all","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node to node all ports/protocols","from_port":0,"id":"sgrule-2793813583","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"-1","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0c5ab3d30b091944d","self":true,"source_security_group_id":null,"timeouts":null,"to_port":0,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.node[\"ingress_self_coredns_tcp\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_self_coredns_tcp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-975474555","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"tcp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-0b10726a79217c75f","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]},{"address":"module.eks.aws_security_group_rule.node[\"ingress_self_coredns_udp\"]","mode":"managed","type":"aws_security_group_rule","name":"node","index":"ingress_self_coredns_udp","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":2,"values":{"cidr_blocks":null,"description":"Node to node CoreDNS","from_port":53,"id":"sgrule-2658872468","ipv6_cidr_blocks":null,"prefix_list_ids":[],"protocol":"udp","security_group_id":"sg-0751dc8afabcdaeac","security_group_rule_id":"sgr-07d72a5da5d3541cc","self":true,"source_security_group_id":null,"timeouts":null,"to_port":53,"type":"ingress"},"sensitive_values":{"prefix_list_ids":[]},"depends_on":["module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.vpc.aws_vpc.this"]}],"address":"module.eks","child_modules":[{"resources":[{"address":"module.eks.module.eks_managed_node_group[\"system\"].data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"686591753714","arn":"arn:aws:iam::686591753714:user/cloud_user","id":"686591753714","user_id":"AIDAZ7XAOXXZOZUEDZKHR"},"sensitive_values":{}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].data.aws_iam_policy_document.assume_role_policy[0]","mode":"data","type":"aws_iam_policy_document","name":"assume_role_policy","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"2560088296","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"EKSNodeAssumeRole\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ec2.amazonaws.com\"\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ec2.amazonaws.com"],"type":"Service"}],"resources":[],"sid":"EKSNodeAssumeRole"}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_eks_node_group.this[0]","mode":"managed","type":"aws_eks_node_group","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"ami_type":"AL2_x86_64","arn":"arn:aws:eks:eu-west-3:686591753714:nodegroup/cluster-1-test/system-20241024082838621000000010/4ec95ed2-2ec0-d833-8508-5d8b20f5fdf0","capacity_type":"ON_DEMAND","cluster_name":"cluster-1-test","disk_size":0,"force_update_version":null,"id":"cluster-1-test:system-20241024082838621000000010","instance_types":["t3a.medium"],"labels":{"Environment":"test"},"launch_template":[{"id":"lt-02a6492477234c3a5","name":"system-2024102408283836090000000d","version":"1"}],"node_group_name":"system-20241024082838621000000010","node_group_name_prefix":"system-","node_role_arn":"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001","release_version":"1.23.17-20240928","remote_access":[],"resources":[{"autoscaling_groups":[{"name":"eks-system-20241024082838621000000010-4ec95ed2-2ec0-d833-8508-5d8b20f5fdf0"}],"remote_access_security_group_id":""}],"scaling_config":[{"desired_size":3,"max_size":6,"min_size":1}],"status":"ACTIVE","subnet_ids":["subnet-05e604773ead19337","subnet-0cc42401e36283845"],"tags":{"Environment":"test","Name":"system","Terraform":"true"},"tags_all":{"Environment":"test","Name":"system","Terraform":"true"},"taint":[],"timeouts":{"create":null,"delete":null,"update":null},"update_config":[{"max_unavailable":1,"max_unavailable_percentage":0}],"version":"1.23"},"sensitive_values":{"instance_types":[false],"labels":{},"launch_template":[{}],"remote_access":[],"resources":[{"autoscaling_groups":[{}]}],"scaling_config":[{}],"subnet_ids":[false,false],"tags":{},"tags_all":{},"taint":[],"timeouts":{},"update_config":[{}]},"depends_on":["data.aws_availability_zones.available","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.module.eks_managed_node_group.aws_iam_role.this","module.eks.module.eks_managed_node_group.aws_iam_role_policy_attachment.this","module.eks.module.eks_managed_node_group.aws_launch_template.this","module.eks.module.eks_managed_node_group.aws_security_group.this","module.eks.module.eks_managed_node_group.aws_security_group_rule.this","module.eks.module.eks_managed_node_group.data.aws_caller_identity.current","module.eks.module.eks_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.eks_managed_node_group.data.aws_partition.current","module.eks.module.eks_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role.this[0]","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com\"},\"Sid\":\"EKSNodeAssumeRole\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:20:46Z","description":"EKS managed node group IAM role","force_detach_policies":true,"id":"system-eks-node-group-20241024082046490600000001","inline_policy":[],"managed_policy_arns":["arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy"],"max_session_duration":3600,"name":"system-eks-node-group-20241024082046490600000001","name_prefix":"system-eks-node-group-","path":"/","permissions_boundary":null,"role_last_used":[{"last_used_date":"2024-10-24T09:05:03Z","region":"eu-west-3"}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"unique_id":"AROAZ7XAOXXZLPYBAQXWU"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false,false,false],"role_last_used":[{}],"tags":{},"tags_all":{}},"depends_on":["module.eks.module.eks_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.eks_managed_node_group.data.aws_partition.current"]},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"system-eks-node-group-20241024082046490600000001-20241024082047572800000008","policy_arn":"arn:aws:iam::aws:policy/AmazonEC2ContainerRegistryReadOnly","role":"system-eks-node-group-20241024082046490600000001"},"sensitive_values":{},"depends_on":["module.eks.module.eks_managed_node_group.aws_iam_role.this","module.eks.module.eks_managed_node_group.data.aws_caller_identity.current","module.eks.module.eks_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.eks_managed_node_group.data.aws_partition.current"]},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"system-eks-node-group-20241024082046490600000001-20241024082047570400000007","policy_arn":"arn:aws:iam::aws:policy/AmazonEKSWorkerNodePolicy","role":"system-eks-node-group-20241024082046490600000001"},"sensitive_values":{},"depends_on":["module.eks.module.eks_managed_node_group.aws_iam_role.this","module.eks.module.eks_managed_node_group.data.aws_caller_identity.current","module.eks.module.eks_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.eks_managed_node_group.data.aws_partition.current"]},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role_policy_attachment.this[\"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy\"]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","index":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"system-eks-node-group-20241024082046490600000001-20241024082047503100000006","policy_arn":"arn:aws:iam::aws:policy/AmazonEKS_CNI_Policy","role":"system-eks-node-group-20241024082046490600000001"},"sensitive_values":{},"depends_on":["module.eks.module.eks_managed_node_group.aws_iam_role.this","module.eks.module.eks_managed_node_group.data.aws_caller_identity.current","module.eks.module.eks_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.eks_managed_node_group.data.aws_partition.current"]},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_launch_template.this[0]","mode":"managed","type":"aws_launch_template","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:launch-template/lt-02a6492477234c3a5","block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"default_version":1,"description":"Custom launch template for system EKS managed node group","disable_api_stop":false,"disable_api_termination":false,"ebs_optimized":"","elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"id":"lt-02a6492477234c3a5","image_id":"","instance_initiated_shutdown_behavior":"","instance_market_options":[],"instance_requirements":[],"instance_type":"","kernel_id":"","key_name":"","latest_version":1,"license_specification":[],"maintenance_options":[],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":2,"http_tokens":"required","instance_metadata_tags":"disabled"}],"monitoring":[{"enabled":true}],"name":"system-2024102408283836090000000d","name_prefix":"system-","network_interfaces":[],"placement":[],"private_dns_name_options":[],"ram_disk_id":"","security_group_names":[],"tag_specifications":[{"resource_type":"instance","tags":{"Environment":"test","Name":"system","Terraform":"true"}},{"resource_type":"network-interface","tags":{"Environment":"test","Name":"system","Terraform":"true"}},{"resource_type":"volume","tags":{"Environment":"test","Name":"system","Terraform":"true"}}],"tags":{"Environment":"test","Terraform":"true"},"tags_all":{"Environment":"test","Terraform":"true"},"update_default_version":true,"user_data":"","vpc_security_group_ids":["sg-059c6b41e8dd5e3c3","sg-0751dc8afabcdaeac"]},"sensitive_values":{"block_device_mappings":[],"capacity_reservation_specification":[],"cpu_options":[],"credit_specification":[],"elastic_gpu_specifications":[],"elastic_inference_accelerator":[],"enclave_options":[],"hibernation_options":[],"iam_instance_profile":[],"instance_market_options":[],"instance_requirements":[],"license_specification":[],"maintenance_options":[],"metadata_options":[{}],"monitoring":[{}],"network_interfaces":[],"placement":[],"private_dns_name_options":[],"security_group_names":[],"tag_specifications":[{"tags":{}},{"tags":{}},{"tags":{}}],"tags":{},"tags_all":{},"vpc_security_group_ids":[false,false]},"depends_on":["data.aws_availability_zones.available","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.module.eks_managed_node_group.aws_iam_role.this","module.eks.module.eks_managed_node_group.aws_iam_role_policy_attachment.this","module.eks.module.eks_managed_node_group.aws_security_group.this","module.eks.module.eks_managed_node_group.aws_security_group_rule.this","module.eks.module.eks_managed_node_group.data.aws_caller_identity.current","module.eks.module.eks_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.eks_managed_node_group.data.aws_partition.current","module.eks.module.eks_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.eks.module.eks_managed_node_group[\"system\"].aws_security_group.this[0]","mode":"managed","type":"aws_security_group","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:security-group/sg-059c6b41e8dd5e3c3","description":"EKS managed node group security group","egress":[],"id":"sg-059c6b41e8dd5e3c3","ingress":[],"name":"system-eks-node-group-20241024082058295400000009","name_prefix":"system-eks-node-group-","owner_id":"686591753714","revoke_rules_on_delete":false,"tags":{"Environment":"test","Name":"system-eks-node-group","Terraform":"true"},"tags_all":{"Environment":"test","Name":"system-eks-node-group","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"egress":[],"ingress":[],"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this"]}],"address":"module.eks.module.eks_managed_node_group[\"system\"]"},{"resources":[{"address":"module.eks.module.kms.data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"686591753714","arn":"arn:aws:iam::686591753714:user/cloud_user","id":"686591753714","user_id":"AIDAZ7XAOXXZOZUEDZKHR"},"sensitive_values":{}},{"address":"module.eks.module.kms.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}}],"address":"module.eks.module.kms"}]},{"resources":[{"address":"module.eks_auth.data.http.wait_for_cluster","mode":"data","type":"http","name":"wait_for_cluster","provider_name":"registry.terraform.io/terraform-aws-modules/http","schema_version":0,"values":{"body":"ok","ca_certificate":"-----BEGIN CERTIFICATE-----\nMIIC/jCCAeagAwIBAgIBADANBgkqhkiG9w0BAQsFADAVMRMwEQYDVQQDEwprdWJl\ncm5ldGVzMB4XDTI0MTAyNDA4MjUwMFoXDTM0MTAyMjA4MjUwMFowFTETMBEGA1UE\nAxMKa3ViZXJuZXRlczCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAOUz\nimNZnlNeLQkOjZ5yli8rozBYx0TdkhlHmn8FUjhTDlYOPuOlwSBAIzyuSQuV2B2x\nV5fWROBtb86rpa59UFre34D+Ki31zrAZHSjRi53ACuTV5WBYhBeETe2aS/GS7XdX\nsbo8MY7mvklKi79gtsop/tkq+juclmG06WmSoTrSSWhkyej7zd8Ns1Z53gZ6B7lz\n6M5sygzRbq33mNL9V2Jy4Tp+4w91EuIvB+S8q1jsat80wkhllbOVsQMBjY2OvisS\n80qnNQ2/QIwNFAXC7IAg2gTS0t1gL57sylydAkBmZ2Y2GDFcOn6mEJLcypv1WbLH\ntgj/iZmZ9IeOsJCmHPcCAwEAAaNZMFcwDgYDVR0PAQH/BAQDAgKkMA8GA1UdEwEB\n/wQFMAMBAf8wHQYDVR0OBBYEFOdvDYJB76mc1oRW3DziqjeXgWzmMBUGA1UdEQQO\nMAyCCmt1YmVybmV0ZXMwDQYJKoZIhvcNAQELBQADggEBAMG2lrRAg+CGsSP3vY5B\nkh7e+QDlCeD8yawo5mTamQatrw78PIXk/NLsZF2u6331f0I9zjxZJbBnCcWVKB3h\nLFeSyUA/3C04u1Hmdwkx9OBaQqcp+Ool64CYIWRY0P7w4buXWel6ohsqQvLWXepV\nYtZ7WlhwKr7grjUUlm3iV5E2hyfSaJ0FqAb3Drv8ziMEYq9V93en7ZaZzYCXvGsx\nWYGwHcsyAnaUcXkl7sYpmcQZp+wyGc9CALjTpN0d6vF93bAB1SvbrWzYmv+iXom0\nwNZ7CUjgXHKTmvKEru4GSzLDAAHz7MA8zhicyhSI2tbWc9llGf4vt9epWMiRHdew\nvSs=\n-----END CERTIFICATE-----\n","id":"https://664F193C4205EBC523D1FD032C549B8D.gr7.eu-west-3.eks.amazonaws.com/healthz","insecure":false,"request_headers":null,"response_headers":{"Audit-Id":"ee5f3ffd-c292-475c-999c-72ee15a4b4d5","Cache-Control":"no-cache, private","Content-Length":"2","Content-Type":"text/plain; charset=utf-8","Date":"Thu, 24 Oct 2024 09:26:37 GMT","X-Content-Type-Options":"nosniff","X-Kubernetes-Pf-Flowschema-Uid":"752b3524-0954-4af1-b02e-781f09bd240f","X-Kubernetes-Pf-Prioritylevel-Uid":"f4edd3fc-3daa-40ee-ba35-dc42289edcb5"},"timeout":300,"url":"https://664F193C4205EBC523D1FD032C549B8D.gr7.eu-west-3.eks.amazonaws.com/healthz"},"sensitive_values":{"response_headers":{}}},{"address":"module.eks_auth.kubernetes_config_map_v1_data.aws_auth[0]","mode":"managed","type":"kubernetes_config_map_v1_data","name":"aws_auth","index":0,"provider_name":"registry.terraform.io/hashicorp/kubernetes","schema_version":0,"values":{"data":{"mapAccounts":"[]\n","mapRoles":"- \"groups\":\n  - \"system:bootstrappers\"\n  - \"system:nodes\"\n  \"rolearn\": \"arn:aws:iam::686591753714:role/system-eks-node-group-20241024082046490600000001\"\n  \"username\": \"system:node:{{EC2PrivateDNSName}}\"\n","mapUsers":"- \"groups\":\n  - \"system:masters\"\n  \"userarn\": \"arn:aws:iam::686591753714:user/cloud_user\"\n  \"username\": \"cloud_user\"\n"},"field_manager":"Terraform","force":true,"id":"kube-system/aws-auth","metadata":[{"name":"aws-auth","namespace":"kube-system"}]},"sensitive_values":{"data":{},"metadata":[{}]},"depends_on":["data.aws_availability_zones.available","data.aws_caller_identity.current","data.aws_eks_cluster.cluster","data.aws_eks_cluster_auth.cluster","module.ebs_csi_irsa_role.aws_iam_role.this","module.ebs_csi_irsa_role.data.aws_caller_identity.current","module.ebs_csi_irsa_role.data.aws_iam_policy_document.this","module.ebs_csi_irsa_role.data.aws_partition.current","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_ec2_tag.cluster_primary_security_group","module.eks.aws_eks_addon.this","module.eks.aws_eks_cluster.this","module.eks.aws_eks_identity_provider_config.this","module.eks.aws_iam_openid_connect_provider.oidc_provider","module.eks.aws_iam_policy.cluster_encryption","module.eks.aws_iam_policy.cni_ipv6_policy","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.cluster_encryption","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_default_tags.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_iam_policy_document.cni_ipv6_policy","module.eks.data.aws_partition.current","module.eks.data.tls_certificate.this","module.eks.kubernetes_config_map.aws_auth","module.eks.kubernetes_config_map_v1_data.aws_auth","module.eks.module.eks_managed_node_group.aws_eks_node_group.this","module.eks.module.eks_managed_node_group.aws_iam_role.this","module.eks.module.eks_managed_node_group.aws_iam_role_policy_attachment.this","module.eks.module.eks_managed_node_group.aws_launch_template.this","module.eks.module.eks_managed_node_group.aws_security_group.this","module.eks.module.eks_managed_node_group.aws_security_group_rule.this","module.eks.module.eks_managed_node_group.data.aws_caller_identity.current","module.eks.module.eks_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.eks_managed_node_group.data.aws_partition.current","module.eks.module.eks_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group","module.eks.module.fargate_profile.aws_eks_fargate_profile.this","module.eks.module.fargate_profile.aws_iam_role.this","module.eks.module.fargate_profile.aws_iam_role_policy_attachment.this","module.eks.module.fargate_profile.data.aws_caller_identity.current","module.eks.module.fargate_profile.data.aws_iam_policy_document.assume_role_policy","module.eks.module.fargate_profile.data.aws_partition.current","module.eks.module.kms.aws_kms_alias.this","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_grant.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.eks.module.self_managed_node_group.aws_autoscaling_group.this","module.eks.module.self_managed_node_group.aws_autoscaling_schedule.this","module.eks.module.self_managed_node_group.aws_iam_instance_profile.this","module.eks.module.self_managed_node_group.aws_iam_role.this","module.eks.module.self_managed_node_group.aws_iam_role_policy_attachment.this","module.eks.module.self_managed_node_group.aws_launch_template.this","module.eks.module.self_managed_node_group.aws_security_group.this","module.eks.module.self_managed_node_group.aws_security_group_rule.this","module.eks.module.self_managed_node_group.data.aws_ami.eks_default","module.eks.module.self_managed_node_group.data.aws_caller_identity.current","module.eks.module.self_managed_node_group.data.aws_default_tags.current","module.eks.module.self_managed_node_group.data.aws_iam_policy_document.assume_role_policy","module.eks.module.self_managed_node_group.data.aws_partition.current","module.eks.module.self_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group","module.eks_auth.data.http.wait_for_cluster","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]}],"address":"module.eks_auth"},{"resources":[{"address":"module.iam_assumable_role_admin.data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"account_id":"686591753714","arn":"arn:aws:iam::686591753714:user/cloud_user","id":"686591753714","user_id":"AIDAZ7XAOXXZOZUEDZKHR"},"sensitive_values":{}},{"address":"module.iam_assumable_role_admin.data.aws_iam_policy_document.assume_role_with_oidc[0]","mode":"data","type":"aws_iam_policy_document","name":"assume_role_with_oidc","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"694357201","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRoleWithWebIdentity\",\n      \"Principal\": {\n        \"Federated\": \"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"\n      },\n      \"Condition\": {\n        \"StringEquals\": {\n          \"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\": \"system:serviceaccount:kube-system:cluster-autoscaler-aws\"\n        }\n      }\n    }\n  ]\n}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRoleWithWebIdentity"],"condition":[{"test":"StringEquals","values":["system:serviceaccount:kube-system:cluster-autoscaler-aws"],"variable":"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub"}],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D"],"type":"Federated"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_values":{"statement":[{"actions":[false],"condition":[{"values":[false]}],"not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":[false]}],"resources":[]}]}},{"address":"module.iam_assumable_role_admin.data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_values":{}},{"address":"module.iam_assumable_role_admin.aws_iam_role.this[0]","mode":"managed","type":"aws_iam_role","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:iam::686591753714:role/cluster-1-test-cluster-autoscaler","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRoleWithWebIdentity\",\"Condition\":{\"StringEquals\":{\"oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D:sub\":\"system:serviceaccount:kube-system:cluster-autoscaler-aws\"}},\"Effect\":\"Allow\",\"Principal\":{\"Federated\":\"arn:aws:iam::686591753714:oidc-provider/oidc.eks.eu-west-3.amazonaws.com/id/664F193C4205EBC523D1FD032C549B8D\"},\"Sid\":\"\"}],\"Version\":\"2012-10-17\"}","create_date":"2024-10-24T08:28:38Z","description":"","force_detach_policies":false,"id":"cluster-1-test-cluster-autoscaler","inline_policy":[],"managed_policy_arns":["arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f"],"max_session_duration":3600,"name":"cluster-1-test-cluster-autoscaler","name_prefix":"","path":"/","permissions_boundary":"","role_last_used":[{"last_used_date":"2024-10-24T09:09:41Z","region":"eu-west-3"}],"tags":{"AutoTag_Creator":"arn:aws:iam::686591753714:user/cloud_user","Owner":"cloud_user"},"tags_all":{"AutoTag_Creator":"arn:aws:iam::686591753714:user/cloud_user","Owner":"cloud_user"},"unique_id":"AROAZ7XAOXXZCFJK4H4KU"},"sensitive_values":{"inline_policy":[],"managed_policy_arns":[false],"role_last_used":[{}],"tags":{},"tags_all":{}},"depends_on":["data.aws_availability_zones.available","data.aws_caller_identity.current","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.iam_assumable_role_admin.data.aws_caller_identity.current","module.iam_assumable_role_admin.data.aws_iam_policy_document.assume_role_with_oidc","module.iam_assumable_role_admin.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.iam_assumable_role_admin.aws_iam_role_policy_attachment.custom[0]","mode":"managed","type":"aws_iam_role_policy_attachment","name":"custom","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"id":"cluster-1-test-cluster-autoscaler-20241024082839327200000012","policy_arn":"arn:aws:iam::686591753714:policy/cluster-1-test-cluster-autoscaler2024102408283838590000000f","role":"cluster-1-test-cluster-autoscaler"},"sensitive_values":{},"depends_on":["aws_iam_policy.cluster_autoscaler","data.aws_availability_zones.available","data.aws_caller_identity.current","data.aws_iam_policy_document.cluster_autoscaler","module.eks.aws_cloudwatch_log_group.this","module.eks.aws_eks_cluster.this","module.eks.aws_iam_role.this","module.eks.aws_iam_role_policy_attachment.this","module.eks.aws_security_group.cluster","module.eks.aws_security_group.node","module.eks.aws_security_group_rule.cluster","module.eks.aws_security_group_rule.node","module.eks.data.aws_caller_identity.current","module.eks.data.aws_iam_policy_document.assume_role_policy","module.eks.data.aws_partition.current","module.eks.module.kms.aws_kms_external_key.this","module.eks.module.kms.aws_kms_key.this","module.eks.module.kms.data.aws_caller_identity.current","module.eks.module.kms.data.aws_iam_policy_document.this","module.eks.module.kms.data.aws_partition.current","module.iam_assumable_role_admin.aws_iam_role.this","module.iam_assumable_role_admin.data.aws_caller_identity.current","module.iam_assumable_role_admin.data.aws_iam_policy_document.assume_role_with_oidc","module.iam_assumable_role_admin.data.aws_partition.current","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]}],"address":"module.iam_assumable_role_admin"},{"resources":[{"address":"module.vpc.aws_internet_gateway.this[0]","mode":"managed","type":"aws_internet_gateway","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:internet-gateway/igw-00ef6c29342b50452","id":"igw-00ef6c29342b50452","owner_id":"686591753714","tags":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_nat_gateway.this[0]","mode":"managed","type":"aws_nat_gateway","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"allocation_id":"eipalloc-0fa0d49e3e65be2ab","association_id":"eipassoc-06719a1dcfa59bec9","connectivity_type":"public","id":"nat-075b2fcf3b00a47e2","network_interface_id":"eni-0955c6ab5973ca7f8","private_ip":"10.0.139.180","public_ip":"13.36.49.96","subnet_id":"subnet-0f6600f977e836af7","tags":{"Environment":"test","Name":"cluster-1-test-vpc-eu-west-3a","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-eu-west-3a","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["aws_eip.nat_gw_elastic_ip","data.aws_availability_zones.available","module.vpc.aws_eip.nat","module.vpc.aws_internet_gateway.this","module.vpc.aws_subnet.public","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_route.private_nat_gateway[0]","mode":"managed","type":"aws_route","name":"private_nat_gateway","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","id":"r-rtb-038aaa93709651f9d1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"nat-075b2fcf3b00a47e2","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-038aaa93709651f9d","state":"active","timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"sensitive_values":{"timeouts":{}},"depends_on":["aws_eip.nat_gw_elastic_ip","data.aws_availability_zones.available","module.vpc.aws_eip.nat","module.vpc.aws_internet_gateway.this","module.vpc.aws_nat_gateway.this","module.vpc.aws_route_table.private","module.vpc.aws_subnet.public","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_route.public_internet_gateway[0]","mode":"managed","type":"aws_route","name":"public_internet_gateway","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"carrier_gateway_id":"","core_network_arn":"","destination_cidr_block":"0.0.0.0/0","destination_ipv6_cidr_block":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-00ef6c29342b50452","id":"r-rtb-0f726caf0e6518cbd1080289494","instance_id":"","instance_owner_id":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","origin":"CreateRoute","route_table_id":"rtb-0f726caf0e6518cbd","state":"active","timeouts":{"create":"5m","delete":null,"update":null},"transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""},"sensitive_values":{"timeouts":{}},"depends_on":["module.vpc.aws_internet_gateway.this","module.vpc.aws_route_table.public","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_route_table.private[0]","mode":"managed","type":"aws_route_table","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:route-table/rtb-038aaa93709651f9d","id":"rtb-038aaa93709651f9d","owner_id":"686591753714","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-075b2fcf3b00a47e2","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Environment":"test","Name":"cluster-1-test-vpc-private","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"depends_on":["data.aws_availability_zones.available","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_route_table.public[0]","mode":"managed","type":"aws_route_table","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:route-table/rtb-0f726caf0e6518cbd","id":"rtb-0f726caf0e6518cbd","owner_id":"686591753714","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-00ef6c29342b50452","instance_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Environment":"test","Name":"cluster-1-test-vpc-public","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public","Terraform":"true"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"propagating_vgws":[],"route":[{}],"tags":{},"tags_all":{}},"depends_on":["module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_route_table_association.private[0]","mode":"managed","type":"aws_route_table_association","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-04fa0e988707ed577","route_table_id":"rtb-038aaa93709651f9d","subnet_id":"subnet-0cc42401e36283845","timeouts":null},"sensitive_values":{},"depends_on":["data.aws_availability_zones.available","module.vpc.aws_route_table.private","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_route_table_association.private[1]","mode":"managed","type":"aws_route_table_association","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-0ab2cbd56eb7e4a7c","route_table_id":"rtb-038aaa93709651f9d","subnet_id":"subnet-05e604773ead19337","timeouts":null},"sensitive_values":{},"depends_on":["data.aws_availability_zones.available","module.vpc.aws_route_table.private","module.vpc.aws_subnet.private","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_route_table_association.public[0]","mode":"managed","type":"aws_route_table_association","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-00fa226e1a0ea8748","route_table_id":"rtb-0f726caf0e6518cbd","subnet_id":"subnet-0f6600f977e836af7","timeouts":null},"sensitive_values":{},"depends_on":["data.aws_availability_zones.available","module.vpc.aws_route_table.public","module.vpc.aws_subnet.public","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_route_table_association.public[1]","mode":"managed","type":"aws_route_table_association","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"gateway_id":"","id":"rtbassoc-002a47b9dc048a3ac","route_table_id":"rtb-0f726caf0e6518cbd","subnet_id":"subnet-0af7ba9d8a5fc3439","timeouts":null},"sensitive_values":{},"depends_on":["data.aws_availability_zones.available","module.vpc.aws_route_table.public","module.vpc.aws_subnet.public","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_subnet.private[0]","mode":"managed","type":"aws_subnet","name":"private","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-0cc42401e36283845","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3a","availability_zone_id":"euw3-az1","cidr_block":"10.0.0.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0cc42401e36283845","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["data.aws_availability_zones.available","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_subnet.private[1]","mode":"managed","type":"aws_subnet","name":"private","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-05e604773ead19337","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3b","availability_zone_id":"euw3-az2","cidr_block":"10.0.16.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-05e604773ead19337","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-private-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/internal-elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["data.aws_availability_zones.available","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_subnet.public[0]","mode":"managed","type":"aws_subnet","name":"public","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-0f6600f977e836af7","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3a","availability_zone_id":"euw3-az1","cidr_block":"10.0.128.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0f6600f977e836af7","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3a","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["data.aws_availability_zones.available","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_subnet.public[1]","mode":"managed","type":"aws_subnet","name":"public","index":1,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:subnet/subnet-0af7ba9d8a5fc3439","assign_ipv6_address_on_creation":false,"availability_zone":"eu-west-3b","availability_zone_id":"euw3-az2","cidr_block":"10.0.144.0/20","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0af7ba9d8a5fc3439","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"686591753714","private_dns_hostname_type_on_launch":"ip-name","tags":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc-public-eu-west-3b","Terraform":"true","kubernetes.io/cluster/cluster-1-test":"shared","kubernetes.io/role/elb":"1"},"timeouts":null,"vpc_id":"vpc-0ca2f2a87d3be5e08"},"sensitive_values":{"tags":{},"tags_all":{}},"depends_on":["data.aws_availability_zones.available","module.vpc.aws_vpc.this","module.vpc.aws_vpc_ipv4_cidr_block_association.this"]},{"address":"module.vpc.aws_vpc.this[0]","mode":"managed","type":"aws_vpc","name":"this","index":0,"provider_name":"registry.terraform.io/hashicorp/aws","schema_version":1,"values":{"arn":"arn:aws:ec2:eu-west-3:686591753714:vpc/vpc-0ca2f2a87d3be5e08","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-0a684404f7513177a","default_route_table_id":"rtb-0c7df45e06d0f78e6","default_security_group_id":"sg-0dded3f77668f849b","dhcp_options_id":"dopt-054c2f5f7c38381be","enable_classiclink":false,"enable_classiclink_dns_support":false,"enable_dns_hostnames":true,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-0ca2f2a87d3be5e08","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-0c7df45e06d0f78e6","owner_id":"686591753714","tags":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"},"tags_all":{"Environment":"test","Name":"cluster-1-test-vpc","Terraform":"true"}},"sensitive_values":{"tags":{},"tags_all":{}}}],"address":"module.vpc"}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 4.29","expressions":{"profile":{"constant_value":"cloud_user"},"region":{"references":["var.region"]}}},"google":{"name":"google","full_name":"registry.terraform.io/hashicorp/google","version_constraint":"~\u003e 4.34"},"helm":{"name":"helm","full_name":"registry.terraform.io/hashicorp/helm","version_constraint":"~\u003e 2.5","expressions":{"kubernetes":[{"cluster_ca_certificate":{"references":["data.aws_eks_cluster.cluster.certificate_authority[0].data","data.aws_eks_cluster.cluster.certificate_authority[0]","data.aws_eks_cluster.cluster.certificate_authority","data.aws_eks_cluster.cluster"]},"host":{"references":["data.aws_eks_cluster.cluster.endpoint","data.aws_eks_cluster.cluster"]},"token":{"references":["data.aws_eks_cluster_auth.cluster.token","data.aws_eks_cluster_auth.cluster"]}}]}},"kubernetes":{"name":"kubernetes","full_name":"registry.terraform.io/hashicorp/kubernetes","version_constraint":"~\u003e 2.10","expressions":{"cluster_ca_certificate":{"references":["data.aws_eks_cluster.cluster.certificate_authority[0].data","data.aws_eks_cluster.cluster.certificate_authority[0]","data.aws_eks_cluster.cluster.certificate_authority","data.aws_eks_cluster.cluster"]},"host":{"references":["data.aws_eks_cluster.cluster.endpoint","data.aws_eks_cluster.cluster"]},"token":{"references":["data.aws_eks_cluster_auth.cluster.token","data.aws_eks_cluster_auth.cluster"]}}},"module.eks.module.eks_managed_node_group.module.user_data:cloudinit":{"name":"cloudinit","full_name":"registry.terraform.io/hashicorp/cloudinit","version_constraint":"\u003e= 2.0.0","module_address":"module.eks.module.eks_managed_node_group.module.user_data"},"module.eks.module.self_managed_node_group.module.user_data:cloudinit":{"name":"cloudinit","full_name":"registry.terraform.io/hashicorp/cloudinit","version_constraint":"\u003e= 2.0.0","module_address":"module.eks.module.self_managed_node_group.module.user_data"},"module.eks:tls":{"name":"tls","full_name":"registry.terraform.io/hashicorp/tls","version_constraint":"\u003e= 3.0.0","module_address":"module.eks"},"module.eks_auth:http":{"name":"http","full_name":"registry.terraform.io/terraform-aws-modules/http","version_constraint":"\u003e= 2.4.1","module_address":"module.eks_auth"}},"root_module":{"outputs":{"cluster_endpoint":{"expression":{"references":["module.eks.cluster_endpoint","module.eks"]},"description":"Endpoint for EKS control plane."},"cluster_security_group_id":{"expression":{"references":["module.eks.cluster_security_group_id","module.eks"]},"description":"Security group ids attached to the cluster control plane."},"ecr_repository_name":{"expression":{"references":["aws_ecr_repository.ecr_repo.name","aws_ecr_repository.ecr_repo"]}}},"resources":[{"address":"aws_ecr_repository.ecr_repo","mode":"managed","type":"aws_ecr_repository","name":"ecr_repo","provider_config_key":"aws","expressions":{"image_scanning_configuration":[{"scan_on_push":{"constant_value":true}}],"name":{"constant_value":"nodejs-app"}},"schema_version":0},{"address":"aws_eip.nat_gw_elastic_ip","mode":"managed","type":"aws_eip","name":"nat_gw_elastic_ip","provider_config_key":"aws","expressions":{"tags":{"references":["local.cluster_name"]},"vpc":{"constant_value":true}},"schema_version":0},{"address":"aws_iam_policy.cluster_autoscaler","mode":"managed","type":"aws_iam_policy","name":"cluster_autoscaler","provider_config_key":"aws","expressions":{"description":{"references":["module.eks.cluster_id","module.eks"]},"name_prefix":{"references":["local.cluster_name"]},"policy":{"references":["data.aws_iam_policy_document.cluster_autoscaler.json","data.aws_iam_policy_document.cluster_autoscaler"]}},"schema_version":0},{"address":"helm_release.cluster-autoscaler","mode":"managed","type":"helm_release","name":"cluster-autoscaler","provider_config_key":"helm","expressions":{"chart":{"constant_value":"cluster-autoscaler"},"create_namespace":{"constant_value":false},"name":{"constant_value":"cluster-autoscaler"},"namespace":{"references":["local.autoscaler_service_account_namespace"]},"repository":{"constant_value":"https://kubernetes.github.io/autoscaler"},"set":[{"name":{"constant_value":"cloudProvider"},"value":{"constant_value":"aws"}},{"name":{"constant_value":"awsRegion"},"value":{"references":["var.region"]}},{"name":{"constant_value":"rbac.create"},"value":{"constant_value":true}},{"name":{"constant_value":"rbac.serviceAccount.name"},"value":{"references":["local.autoscaler_service_account_name"]}},{"name":{"constant_value":"rbac.serviceAccount.annotations.eks\\.amazonaws\\.com/role-arn"},"value":{"references":["module.iam_assumable_role_admin.iam_role_arn","module.iam_assumable_role_admin"]}},{"name":{"constant_value":"autoDiscovery.clusterName"},"value":{"references":["module.eks.cluster_id","module.eks"]}},{"name":{"constant_value":"autoDiscovery.enabled"},"value":{"constant_value":"true"}},{"name":{"constant_value":"extraArgs.skip-nodes-with-local-storage"},"value":{"constant_value":"false"}},{"name":{"constant_value":"extraArgs.skip-nodes-with-system-pods"},"value":{"constant_value":"false"}},{"name":{"constant_value":"extraArgs.scale-down-enabled"},"value":{"constant_value":"true"}},{"name":{"constant_value":"extraArgs.scale-down-unneeded-time"},"value":{"constant_value":"5m"}}],"version":{"constant_value":"9.10.7"}},"schema_version":1},{"address":"helm_release.kube_monitoring_stack","mode":"managed","type":"helm_release","name":"kube_monitoring_stack","provider_config_key":"helm","expressions":{"chart":{"constant_value":"kube-prometheus-stack"},"create_namespace":{"constant_value":true},"name":{"constant_value":"kube-prometheus-stack"},"namespace":{"constant_value":"monitoring"},"repository":{"constant_value":"https://prometheus-community.github.io/helm-charts"},"values":{"references":["var.kube_monitoring_stack_values"]},"version":{"constant_value":"45.29.0"}},"schema_version":1},{"address":"helm_release.nginx_ingress","mode":"managed","type":"helm_release","name":"nginx_ingress","provider_config_key":"helm","expressions":{"chart":{"constant_value":"ingress-nginx"},"cleanup_on_fail":{"constant_value":true},"create_namespace":{"constant_value":true},"name":{"constant_value":"nginx-ingress"},"namespace":{"constant_value":"ingress-nginx"},"repository":{"constant_value":"https://kubernetes.github.io/ingress-nginx"},"values":{"references":["var.nginx_ingress_values"]},"version":{"constant_value":"4.2.3"}},"schema_version":1,"depends_on":["module.eks.cluster_id"]},{"address":"data.aws_availability_zones.available","mode":"data","type":"aws_availability_zones","name":"available","provider_config_key":"aws","schema_version":0},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_eks_cluster.cluster","mode":"data","type":"aws_eks_cluster","name":"cluster","provider_config_key":"aws","expressions":{"name":{"references":["module.eks.cluster_id","module.eks"]}},"schema_version":0},{"address":"data.aws_eks_cluster_auth.cluster","mode":"data","type":"aws_eks_cluster_auth","name":"cluster","provider_config_key":"aws","expressions":{"name":{"references":["module.eks.cluster_id","module.eks"]}},"schema_version":0},{"address":"data.aws_iam_policy_document.cluster_autoscaler","mode":"data","type":"aws_iam_policy_document","name":"cluster_autoscaler","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["autoscaling:DescribeAutoScalingGroups","autoscaling:DescribeAutoScalingInstances","autoscaling:DescribeLaunchConfigurations","autoscaling:DescribeTags","ec2:DescribeLaunchTemplateVersions"]},"effect":{"constant_value":"Allow"},"resources":{"constant_value":["*"]},"sid":{"constant_value":"clusterAutoscalerAll"}},{"actions":{"constant_value":["autoscaling:SetDesiredCapacity","autoscaling:TerminateInstanceInAutoScalingGroup","autoscaling:UpdateAutoScalingGroup"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["owned"]},"variable":{"references":["module.eks.cluster_id","module.eks"]}},{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["true"]},"variable":{"constant_value":"autoscaling:ResourceTag/k8s.io/cluster-autoscaler/enabled"}}],"effect":{"constant_value":"Allow"},"resources":{"constant_value":["*"]},"sid":{"constant_value":"clusterAutoscalerOwn"}}]},"schema_version":0}],"module_calls":{"ebs_csi_irsa_role":{"source":"terraform-aws-modules/iam/aws//modules/iam-role-for-service-accounts-eks","expressions":{"attach_ebs_csi_policy":{"constant_value":true},"oidc_providers":{"references":["module.eks.oidc_provider_arn","module.eks"]},"role_name":{"references":["local.cluster_name"]},"tags":{"constant_value":{"Environment":"test","Terraform":"true"}}},"module":{"outputs":{"iam_role_arn":{"expression":{"references":["aws_iam_role.this[0].arn","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"ARN of IAM role"},"iam_role_name":{"expression":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"Name of IAM role"},"iam_role_path":{"expression":{"references":["aws_iam_role.this[0].path","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"Path of IAM role"},"iam_role_unique_id":{"expression":{"references":["aws_iam_role.this[0].unique_id","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"Unique ID of IAM role"}},"resources":[{"address":"aws_iam_policy.amazon_managed_service_prometheus","mode":"managed","type":"aws_iam_policy","name":"amazon_managed_service_prometheus","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides permissions to for Amazon Managed Service for Prometheus"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.amazon_managed_service_prometheus[0].json","data.aws_iam_policy_document.amazon_managed_service_prometheus[0]","data.aws_iam_policy_document.amazon_managed_service_prometheus"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_amazon_managed_service_prometheus_policy"]}},{"address":"aws_iam_policy.appmesh_controller","mode":"managed","type":"aws_iam_policy","name":"appmesh_controller","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides permissions to for appmesh controller"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.appmesh_controller[0].json","data.aws_iam_policy_document.appmesh_controller[0]","data.aws_iam_policy_document.appmesh_controller"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_appmesh_controller_policy"]}},{"address":"aws_iam_policy.appmesh_envoy_proxy","mode":"managed","type":"aws_iam_policy","name":"appmesh_envoy_proxy","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides permissions to for appmesh envoy proxy"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.appmesh_envoy_proxy[0].json","data.aws_iam_policy_document.appmesh_envoy_proxy[0]","data.aws_iam_policy_document.appmesh_envoy_proxy"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_appmesh_envoy_proxy_policy"]}},{"address":"aws_iam_policy.aws_gateway_controller","mode":"managed","type":"aws_iam_policy","name":"aws_gateway_controller","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides permissions for the AWS Gateway Controller"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.aws_gateway_controller[0].json","data.aws_iam_policy_document.aws_gateway_controller[0]","data.aws_iam_policy_document.aws_gateway_controller"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_aws_gateway_controller_policy"]}},{"address":"aws_iam_policy.cert_manager","mode":"managed","type":"aws_iam_policy","name":"cert_manager","provider_config_key":"aws","expressions":{"description":{"constant_value":"Cert Manager policy to allow management of Route53 hosted zone records"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.cert_manager[0].json","data.aws_iam_policy_document.cert_manager[0]","data.aws_iam_policy_document.cert_manager"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_cert_manager_policy"]}},{"address":"aws_iam_policy.cluster_autoscaler","mode":"managed","type":"aws_iam_policy","name":"cluster_autoscaler","provider_config_key":"aws","expressions":{"description":{"constant_value":"Cluster autoscaler policy to allow examination and modification of EC2 Auto Scaling Groups"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.cluster_autoscaler[0].json","data.aws_iam_policy_document.cluster_autoscaler[0]","data.aws_iam_policy_document.cluster_autoscaler"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_cluster_autoscaler_policy"]}},{"address":"aws_iam_policy.ebs_csi","mode":"managed","type":"aws_iam_policy","name":"ebs_csi","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides permissions to manage EBS volumes via the container storage interface driver"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.ebs_csi[0].json","data.aws_iam_policy_document.ebs_csi[0]","data.aws_iam_policy_document.ebs_csi"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_ebs_csi_policy"]}},{"address":"aws_iam_policy.efs_csi","mode":"managed","type":"aws_iam_policy","name":"efs_csi","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides permissions to manage EFS volumes via the container storage interface driver"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.efs_csi[0].json","data.aws_iam_policy_document.efs_csi[0]","data.aws_iam_policy_document.efs_csi"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_efs_csi_policy"]}},{"address":"aws_iam_policy.external_dns","mode":"managed","type":"aws_iam_policy","name":"external_dns","provider_config_key":"aws","expressions":{"description":{"constant_value":"External DNS policy to allow management of Route53 hosted zone records"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.external_dns[0].json","data.aws_iam_policy_document.external_dns[0]","data.aws_iam_policy_document.external_dns"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_external_dns_policy"]}},{"address":"aws_iam_policy.external_secrets","mode":"managed","type":"aws_iam_policy","name":"external_secrets","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides permissions to for External Secrets to retrieve secrets from AWS SSM and AWS Secrets Manager"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.external_secrets[0].json","data.aws_iam_policy_document.external_secrets[0]","data.aws_iam_policy_document.external_secrets"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_external_secrets_policy"]}},{"address":"aws_iam_policy.fsx_lustre_csi","mode":"managed","type":"aws_iam_policy","name":"fsx_lustre_csi","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides permissions to manage FSx Lustre volumes via the container storage interface driver"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.fsx_lustre_csi[0].json","data.aws_iam_policy_document.fsx_lustre_csi[0]","data.aws_iam_policy_document.fsx_lustre_csi"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_fsx_lustre_csi_policy"]}},{"address":"aws_iam_policy.karpenter_controller","mode":"managed","type":"aws_iam_policy","name":"karpenter_controller","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides permissions to handle node termination events via the Node Termination Handler"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.karpenter_controller[0].json","data.aws_iam_policy_document.karpenter_controller[0]","data.aws_iam_policy_document.karpenter_controller"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_karpenter_controller_policy"]}},{"address":"aws_iam_policy.load_balancer_controller","mode":"managed","type":"aws_iam_policy","name":"load_balancer_controller","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides permissions for AWS Load Balancer Controller addon"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.load_balancer_controller[0].json","data.aws_iam_policy_document.load_balancer_controller[0]","data.aws_iam_policy_document.load_balancer_controller"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_load_balancer_controller_policy"]}},{"address":"aws_iam_policy.load_balancer_controller_targetgroup_only","mode":"managed","type":"aws_iam_policy","name":"load_balancer_controller_targetgroup_only","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides permissions for AWS Load Balancer Controller addon in TargetGroup binding only scenario"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.load_balancer_controller_targetgroup_only[0].json","data.aws_iam_policy_document.load_balancer_controller_targetgroup_only[0]","data.aws_iam_policy_document.load_balancer_controller_targetgroup_only"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_load_balancer_controller_targetgroup_binding_only_policy"]}},{"address":"aws_iam_policy.mountpoint_s3_csi","mode":"managed","type":"aws_iam_policy","name":"mountpoint_s3_csi","provider_config_key":"aws","expressions":{"description":{"constant_value":"Mountpoint S3 CSI driver policy to allow management of S3"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.mountpoint_s3_csi[0].json","data.aws_iam_policy_document.mountpoint_s3_csi[0]","data.aws_iam_policy_document.mountpoint_s3_csi"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_mountpoint_s3_csi_policy"]}},{"address":"aws_iam_policy.node_termination_handler","mode":"managed","type":"aws_iam_policy","name":"node_termination_handler","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides permissions to handle node termination events via the Node Termination Handler"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.node_termination_handler[0].json","data.aws_iam_policy_document.node_termination_handler[0]","data.aws_iam_policy_document.node_termination_handler"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_node_termination_handler_policy"]}},{"address":"aws_iam_policy.velero","mode":"managed","type":"aws_iam_policy","name":"velero","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides Velero permissions to backup and restore cluster resources"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.velero[0].json","data.aws_iam_policy_document.velero[0]","data.aws_iam_policy_document.velero"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_velero_policy"]}},{"address":"aws_iam_policy.vpc_cni","mode":"managed","type":"aws_iam_policy","name":"vpc_cni","provider_config_key":"aws","expressions":{"description":{"constant_value":"Provides the Amazon VPC CNI Plugin (amazon-vpc-cni-k8s) the permissions it requires to modify the IPv4/IPv6 address configuration on your EKS worker nodes"},"name_prefix":{"references":["var.policy_name_prefix"]},"path":{"references":["var.role_path"]},"policy":{"references":["data.aws_iam_policy_document.vpc_cni[0].json","data.aws_iam_policy_document.vpc_cni[0]","data.aws_iam_policy_document.vpc_cni"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_vpc_cni_policy"]}},{"address":"aws_iam_role.this","mode":"managed","type":"aws_iam_role","name":"this","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.this[0].json","data.aws_iam_policy_document.this[0]","data.aws_iam_policy_document.this"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.force_detach_policies"]},"max_session_duration":{"references":["var.max_session_duration"]},"name":{"references":["var.role_name"]},"name_prefix":{"references":["var.role_name_prefix"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary_arn"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role"]}},{"address":"aws_iam_role_policy_attachment.amazon_cloudwatch_observability","mode":"managed","type":"aws_iam_role_policy_attachment","name":"amazon_cloudwatch_observability","provider_config_key":"aws","expressions":{"policy_arn":{"references":["each.value"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"for_each_expression":{"references":["local.partition","local.partition","var.create_role","var.attach_cloudwatch_observability_policy"]}},{"address":"aws_iam_role_policy_attachment.amazon_managed_service_prometheus","mode":"managed","type":"aws_iam_role_policy_attachment","name":"amazon_managed_service_prometheus","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.amazon_managed_service_prometheus[0].arn","aws_iam_policy.amazon_managed_service_prometheus[0]","aws_iam_policy.amazon_managed_service_prometheus"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_amazon_managed_service_prometheus_policy"]}},{"address":"aws_iam_role_policy_attachment.appmesh_controller","mode":"managed","type":"aws_iam_role_policy_attachment","name":"appmesh_controller","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.appmesh_controller[0].arn","aws_iam_policy.appmesh_controller[0]","aws_iam_policy.appmesh_controller"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_appmesh_controller_policy"]}},{"address":"aws_iam_role_policy_attachment.appmesh_envoy_proxy","mode":"managed","type":"aws_iam_role_policy_attachment","name":"appmesh_envoy_proxy","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.appmesh_envoy_proxy[0].arn","aws_iam_policy.appmesh_envoy_proxy[0]","aws_iam_policy.appmesh_envoy_proxy"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_appmesh_envoy_proxy_policy"]}},{"address":"aws_iam_role_policy_attachment.aws_gateway_controller","mode":"managed","type":"aws_iam_role_policy_attachment","name":"aws_gateway_controller","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.aws_gateway_controller[0].arn","aws_iam_policy.aws_gateway_controller[0]","aws_iam_policy.aws_gateway_controller"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_aws_gateway_controller_policy"]}},{"address":"aws_iam_role_policy_attachment.cert_manager","mode":"managed","type":"aws_iam_role_policy_attachment","name":"cert_manager","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.cert_manager[0].arn","aws_iam_policy.cert_manager[0]","aws_iam_policy.cert_manager"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_cert_manager_policy"]}},{"address":"aws_iam_role_policy_attachment.cluster_autoscaler","mode":"managed","type":"aws_iam_role_policy_attachment","name":"cluster_autoscaler","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.cluster_autoscaler[0].arn","aws_iam_policy.cluster_autoscaler[0]","aws_iam_policy.cluster_autoscaler"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_cluster_autoscaler_policy"]}},{"address":"aws_iam_role_policy_attachment.ebs_csi","mode":"managed","type":"aws_iam_role_policy_attachment","name":"ebs_csi","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.ebs_csi[0].arn","aws_iam_policy.ebs_csi[0]","aws_iam_policy.ebs_csi"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_ebs_csi_policy"]}},{"address":"aws_iam_role_policy_attachment.efs_csi","mode":"managed","type":"aws_iam_role_policy_attachment","name":"efs_csi","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.efs_csi[0].arn","aws_iam_policy.efs_csi[0]","aws_iam_policy.efs_csi"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_efs_csi_policy"]}},{"address":"aws_iam_role_policy_attachment.external_dns","mode":"managed","type":"aws_iam_role_policy_attachment","name":"external_dns","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.external_dns[0].arn","aws_iam_policy.external_dns[0]","aws_iam_policy.external_dns"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_external_dns_policy"]}},{"address":"aws_iam_role_policy_attachment.external_secrets","mode":"managed","type":"aws_iam_role_policy_attachment","name":"external_secrets","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.external_secrets[0].arn","aws_iam_policy.external_secrets[0]","aws_iam_policy.external_secrets"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_external_secrets_policy"]}},{"address":"aws_iam_role_policy_attachment.fsx_lustre_csi","mode":"managed","type":"aws_iam_role_policy_attachment","name":"fsx_lustre_csi","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.fsx_lustre_csi[0].arn","aws_iam_policy.fsx_lustre_csi[0]","aws_iam_policy.fsx_lustre_csi"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_fsx_lustre_csi_policy"]}},{"address":"aws_iam_role_policy_attachment.karpenter_controller","mode":"managed","type":"aws_iam_role_policy_attachment","name":"karpenter_controller","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.karpenter_controller[0].arn","aws_iam_policy.karpenter_controller[0]","aws_iam_policy.karpenter_controller"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_karpenter_controller_policy"]}},{"address":"aws_iam_role_policy_attachment.load_balancer_controller","mode":"managed","type":"aws_iam_role_policy_attachment","name":"load_balancer_controller","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.load_balancer_controller[0].arn","aws_iam_policy.load_balancer_controller[0]","aws_iam_policy.load_balancer_controller"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_load_balancer_controller_policy"]}},{"address":"aws_iam_role_policy_attachment.load_balancer_controller_targetgroup_only","mode":"managed","type":"aws_iam_role_policy_attachment","name":"load_balancer_controller_targetgroup_only","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.load_balancer_controller_targetgroup_only[0].arn","aws_iam_policy.load_balancer_controller_targetgroup_only[0]","aws_iam_policy.load_balancer_controller_targetgroup_only"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_load_balancer_controller_targetgroup_binding_only_policy"]}},{"address":"aws_iam_role_policy_attachment.mountpoint_s3_csi","mode":"managed","type":"aws_iam_role_policy_attachment","name":"mountpoint_s3_csi","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.mountpoint_s3_csi[0].arn","aws_iam_policy.mountpoint_s3_csi[0]","aws_iam_policy.mountpoint_s3_csi"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_mountpoint_s3_csi_policy"]}},{"address":"aws_iam_role_policy_attachment.node_termination_handler","mode":"managed","type":"aws_iam_role_policy_attachment","name":"node_termination_handler","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.node_termination_handler[0].arn","aws_iam_policy.node_termination_handler[0]","aws_iam_policy.node_termination_handler"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_node_termination_handler_policy"]}},{"address":"aws_iam_role_policy_attachment.this","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","provider_config_key":"aws","expressions":{"policy_arn":{"references":["each.value"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"for_each_expression":{"references":["var.role_policy_arns","var.create_role"]}},{"address":"aws_iam_role_policy_attachment.velero","mode":"managed","type":"aws_iam_role_policy_attachment","name":"velero","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.velero[0].arn","aws_iam_policy.velero[0]","aws_iam_policy.velero"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_velero_policy"]}},{"address":"aws_iam_role_policy_attachment.vpc_cni","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc_cni","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc_cni[0].arn","aws_iam_policy.vpc_cni[0]","aws_iam_policy.vpc_cni"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_vpc_cni_policy"]}},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_iam_policy_document.amazon_managed_service_prometheus","mode":"data","type":"aws_iam_policy_document","name":"amazon_managed_service_prometheus","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["aps:RemoteWrite","aps:QueryMetrics","aps:GetSeries","aps:GetLabels","aps:GetMetricMetadata"]},"resources":{"references":["var.amazon_managed_service_prometheus_workspace_arns"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_amazon_managed_service_prometheus_policy"]}},{"address":"data.aws_iam_policy_document.appmesh_controller","mode":"data","type":"aws_iam_policy_document","name":"appmesh_controller","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["appmesh:ListVirtualRouters","appmesh:ListVirtualServices","appmesh:ListRoutes","appmesh:ListGatewayRoutes","appmesh:ListMeshes","appmesh:ListVirtualNodes","appmesh:ListVirtualGateways","appmesh:DescribeMesh","appmesh:DescribeVirtualRouter","appmesh:DescribeRoute","appmesh:DescribeVirtualNode","appmesh:DescribeVirtualGateway","appmesh:DescribeGatewayRoute","appmesh:DescribeVirtualService","appmesh:CreateMesh","appmesh:CreateVirtualRouter","appmesh:CreateVirtualGateway","appmesh:CreateVirtualService","appmesh:CreateGatewayRoute","appmesh:CreateRoute","appmesh:CreateVirtualNode","appmesh:UpdateMesh","appmesh:UpdateRoute","appmesh:UpdateVirtualGateway","appmesh:UpdateVirtualRouter","appmesh:UpdateGatewayRoute","appmesh:UpdateVirtualService","appmesh:UpdateVirtualNode","appmesh:DeleteMesh","appmesh:DeleteRoute","appmesh:DeleteVirtualRouter","appmesh:DeleteGatewayRoute","appmesh:DeleteVirtualService","appmesh:DeleteVirtualNode","appmesh:DeleteVirtualGateway"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["iam:CreateServiceLinkedRole"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"references":["local.dns_suffix"]},"variable":{"constant_value":"iam:AWSServiceName"}}],"resources":{"references":["local.partition","local.dns_suffix"]}},{"actions":{"constant_value":["acm:ListCertificates","acm:DescribeCertificate","acm-pca:DescribeCertificateAuthority","acm-pca:ListCertificateAuthorities"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["servicediscovery:CreateService","servicediscovery:DeleteService","servicediscovery:GetService","servicediscovery:GetInstance","servicediscovery:RegisterInstance","servicediscovery:DeregisterInstance","servicediscovery:ListInstances","servicediscovery:ListNamespaces","servicediscovery:ListServices","servicediscovery:GetInstancesHealthStatus","servicediscovery:UpdateInstanceCustomHealthStatus","servicediscovery:GetOperation","route53:GetHealthCheck","route53:CreateHealthCheck","route53:UpdateHealthCheck","route53:ChangeResourceRecordSets","route53:DeleteHealthCheck"]},"resources":{"constant_value":["*"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_appmesh_controller_policy"]}},{"address":"data.aws_iam_policy_document.appmesh_envoy_proxy","mode":"data","type":"aws_iam_policy_document","name":"appmesh_envoy_proxy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["appmesh:StreamAggregatedResources"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["acm:ExportCertificate","acm-pca:GetCertificateAuthorityCertificate"]},"resources":{"constant_value":["*"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_appmesh_envoy_proxy_policy"]}},{"address":"data.aws_iam_policy_document.aws_gateway_controller","mode":"data","type":"aws_iam_policy_document","name":"aws_gateway_controller","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["vpc-lattice:*","iam:CreateServiceLinkedRole","ec2:DescribeVpcs","ec2:DescribeSubnets"]},"resources":{"constant_value":["*"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_aws_gateway_controller_policy"]}},{"address":"data.aws_iam_policy_document.cert_manager","mode":"data","type":"aws_iam_policy_document","name":"cert_manager","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["route53:GetChange"]},"resources":{"references":["local.partition"]}},{"actions":{"constant_value":["route53:ChangeResourceRecordSets","route53:ListResourceRecordSets"]},"resources":{"references":["var.cert_manager_hosted_zone_arns"]}},{"actions":{"constant_value":["route53:ListHostedZonesByName"]},"resources":{"constant_value":["*"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_cert_manager_policy"]}},{"address":"data.aws_iam_policy_document.cluster_autoscaler","mode":"data","type":"aws_iam_policy_document","name":"cluster_autoscaler","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["autoscaling:DescribeAutoScalingGroups","autoscaling:DescribeAutoScalingInstances","autoscaling:DescribeLaunchConfigurations","autoscaling:DescribeScalingActivities","autoscaling:DescribeTags","ec2:DescribeLaunchTemplateVersions","ec2:DescribeInstanceTypes","eks:DescribeNodegroup","ec2:DescribeImages","ec2:GetInstanceTypesFromInstanceRequirements"]},"resources":{"constant_value":["*"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_cluster_autoscaler_policy"]}},{"address":"data.aws_iam_policy_document.ebs_csi","mode":"data","type":"aws_iam_policy_document","name":"ebs_csi","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["ec2:CreateSnapshot","ec2:AttachVolume","ec2:DetachVolume","ec2:ModifyVolume","ec2:DescribeAvailabilityZones","ec2:DescribeInstances","ec2:DescribeSnapshots","ec2:DescribeTags","ec2:DescribeVolumes","ec2:DescribeVolumesModifications","ec2:EnableFastSnapshotRestores"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:CreateTags"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["CreateVolume","CreateSnapshot"]},"variable":{"constant_value":"ec2:CreateAction"}}],"resources":{"references":["local.partition","local.partition"]}},{"actions":{"constant_value":["ec2:DeleteTags"]},"resources":{"references":["local.partition","local.partition"]}},{"actions":{"constant_value":["ec2:CreateVolume"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"constant_value":[true]},"variable":{"constant_value":"aws:RequestTag/ebs.csi.aws.com/cluster"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:CreateVolume"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"constant_value":["*"]},"variable":{"constant_value":"aws:RequestTag/CSIVolumeName"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:CreateVolume"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"constant_value":["owned"]},"variable":{"constant_value":"aws:RequestTag/kubernetes.io/cluster/*"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:DeleteVolume"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"constant_value":[true]},"variable":{"constant_value":"ec2:ResourceTag/ebs.csi.aws.com/cluster"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:DeleteVolume"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"constant_value":["*"]},"variable":{"constant_value":"ec2:ResourceTag/CSIVolumeName"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:DeleteVolume"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"constant_value":["owned"]},"variable":{"constant_value":"ec2:ResourceTag/kubernetes.io/cluster/*"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:DeleteVolume"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"constant_value":["*"]},"variable":{"constant_value":"ec2:ResourceTag/kubernetes.io/created-for/pvc/name"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:DeleteSnapshot"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"constant_value":["*"]},"variable":{"constant_value":"ec2:ResourceTag/CSIVolumeSnapshotName"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:DeleteSnapshot"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"constant_value":[true]},"variable":{"constant_value":"ec2:ResourceTag/ebs.csi.aws.com/cluster"}}],"resources":{"constant_value":["*"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_ebs_csi_policy"]}},{"address":"data.aws_iam_policy_document.efs_csi","mode":"data","type":"aws_iam_policy_document","name":"efs_csi","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["ec2:DescribeAvailabilityZones","elasticfilesystem:DescribeAccessPoints","elasticfilesystem:DescribeFileSystems","elasticfilesystem:DescribeMountTargets"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["elasticfilesystem:CreateAccessPoint"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"constant_value":["true"]},"variable":{"constant_value":"aws:RequestTag/efs.csi.aws.com/cluster"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["elasticfilesystem:TagResource"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"constant_value":["true"]},"variable":{"constant_value":"aws:RequestTag/efs.csi.aws.com/cluster"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["elasticfilesystem:DeleteAccessPoint"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["true"]},"variable":{"constant_value":"aws:ResourceTag/efs.csi.aws.com/cluster"}}],"resources":{"constant_value":["*"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_efs_csi_policy"]}},{"address":"data.aws_iam_policy_document.external_dns","mode":"data","type":"aws_iam_policy_document","name":"external_dns","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["route53:ChangeResourceRecordSets"]},"resources":{"references":["var.external_dns_hosted_zone_arns"]}},{"actions":{"constant_value":["route53:ListHostedZones","route53:ListResourceRecordSets","route53:ListTagsForResource"]},"resources":{"constant_value":["*"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_external_dns_policy"]}},{"address":"data.aws_iam_policy_document.external_secrets","mode":"data","type":"aws_iam_policy_document","name":"external_secrets","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["ssm:DescribeParameters"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ssm:GetParameter","ssm:GetParameters"]},"resources":{"references":["var.external_secrets_ssm_parameter_arns"]}},{"actions":{"constant_value":["secretsmanager:ListSecrets"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["secretsmanager:GetResourcePolicy","secretsmanager:GetSecretValue","secretsmanager:DescribeSecret","secretsmanager:ListSecretVersionIds"]},"resources":{"references":["var.external_secrets_secrets_manager_arns"]}},{"actions":{"constant_value":["kms:Decrypt"]},"resources":{"references":["var.external_secrets_kms_key_arns"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_external_secrets_policy"]}},{"address":"data.aws_iam_policy_document.fsx_lustre_csi","mode":"data","type":"aws_iam_policy_document","name":"fsx_lustre_csi","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["iam:CreateServiceLinkedRole","iam:AttachRolePolicy","iam:PutRolePolicy"]},"resources":{"references":["var.fsx_lustre_csi_service_role_arns"]}},{"actions":{"constant_value":["iam:CreateServiceLinkedRole"]},"condition":[{"test":{"constant_value":"StringLike"},"values":{"references":["local.dns_suffix"]},"variable":{"constant_value":"iam:AWSServiceName"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["s3:ListBucket","fsx:CreateFileSystem","fsx:DeleteFileSystem","fsx:DescribeFileSystems","fsx:TagResource","fsx:UpdateFileSystem"]},"resources":{"constant_value":["*"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_fsx_lustre_csi_policy"]}},{"address":"data.aws_iam_policy_document.karpenter_controller","mode":"data","type":"aws_iam_policy_document","name":"karpenter_controller","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["ec2:CreateFleet","ec2:CreateLaunchTemplate","ec2:CreateTags","ec2:DescribeAvailabilityZones","ec2:DescribeImages","ec2:DescribeInstances","ec2:DescribeInstanceTypeOfferings","ec2:DescribeInstanceTypes","ec2:DescribeLaunchTemplates","ec2:DescribeSecurityGroups","ec2:DescribeSpotPriceHistory","ec2:DescribeSubnets","pricing:GetProducts"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:TerminateInstances","ec2:DeleteLaunchTemplate"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"references":["local.karpenter_controller_cluster_name"]},"variable":{"references":["var.karpenter_tag_key"]}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:RunInstances"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"references":["local.karpenter_controller_cluster_name"]},"variable":{"references":["var.karpenter_tag_key"]}}],"resources":{"references":["local.partition","local.account_id"]}},{"actions":{"constant_value":["ec2:RunInstances"]},"resources":{"references":["local.partition","local.partition","local.account_id","local.partition","local.account_id","local.partition","local.account_id","local.partition","local.account_id","local.partition","local.account_id","local.partition","var.karpenter_subnet_account_id","local.account_id"]}},{"actions":{"constant_value":["ssm:GetParameter"]},"resources":{"references":["var.karpenter_controller_ssm_parameter_arns"]}},{"actions":{"constant_value":["iam:PassRole"]},"resources":{"references":["var.karpenter_controller_node_iam_role_arns"]}},{"actions":{"constant_value":["eks:DescribeCluster"]},"resources":{"references":["local.partition","local.region","local.account_id","local.karpenter_controller_cluster_name"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_karpenter_controller_policy"]}},{"address":"data.aws_iam_policy_document.load_balancer_controller","mode":"data","type":"aws_iam_policy_document","name":"load_balancer_controller","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["iam:CreateServiceLinkedRole"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"references":["local.dns_suffix"]},"variable":{"constant_value":"iam:AWSServiceName"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:DescribeAccountAttributes","ec2:DescribeAddresses","ec2:DescribeAvailabilityZones","ec2:DescribeInternetGateways","ec2:DescribeVpcs","ec2:DescribeVpcPeeringConnections","ec2:DescribeSubnets","ec2:DescribeSecurityGroups","ec2:DescribeInstances","ec2:DescribeNetworkInterfaces","ec2:DescribeTags","ec2:GetCoipPoolUsage","ec2:DescribeCoipPools","elasticloadbalancing:DescribeLoadBalancers","elasticloadbalancing:DescribeLoadBalancerAttributes","elasticloadbalancing:DescribeListeners","elasticloadbalancing:DescribeListenerCertificates","elasticloadbalancing:DescribeSSLPolicies","elasticloadbalancing:DescribeRules","elasticloadbalancing:DescribeTargetGroups","elasticloadbalancing:DescribeTargetGroupAttributes","elasticloadbalancing:DescribeTargetHealth","elasticloadbalancing:DescribeTags","elasticloadbalancing:DescribeTrustStores","elasticloadbalancing:DescribeListenerAttributes"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["cognito-idp:DescribeUserPoolClient","acm:ListCertificates","acm:DescribeCertificate","iam:ListServerCertificates","iam:GetServerCertificate","waf-regional:GetWebACL","waf-regional:GetWebACLForResource","waf-regional:AssociateWebACL","waf-regional:DisassociateWebACL","wafv2:GetWebACL","wafv2:GetWebACLForResource","wafv2:AssociateWebACL","wafv2:DisassociateWebACL","shield:GetSubscriptionState","shield:DescribeProtection","shield:CreateProtection","shield:DeleteProtection"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:AuthorizeSecurityGroupIngress","ec2:RevokeSecurityGroupIngress","ec2:CreateSecurityGroup"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["ec2:CreateTags"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["CreateSecurityGroup"]},"variable":{"constant_value":"ec2:CreateAction"}},{"test":{"constant_value":"Null"},"values":{"constant_value":["false"]},"variable":{"constant_value":"aws:RequestTag/elbv2.k8s.aws/cluster"}}],"resources":{"references":["local.partition"]}},{"actions":{"constant_value":["ec2:CreateTags","ec2:DeleteTags"]},"condition":[{"test":{"constant_value":"Null"},"values":{"constant_value":["true"]},"variable":{"constant_value":"aws:RequestTag/elbv2.k8s.aws/cluster"}},{"test":{"constant_value":"Null"},"values":{"constant_value":["false"]},"variable":{"constant_value":"aws:ResourceTag/elbv2.k8s.aws/cluster"}}],"resources":{"references":["local.partition"]}},{"actions":{"constant_value":["ec2:AuthorizeSecurityGroupIngress","ec2:RevokeSecurityGroupIngress","ec2:DeleteSecurityGroup"]},"condition":[{"test":{"constant_value":"Null"},"values":{"constant_value":["false"]},"variable":{"constant_value":"aws:ResourceTag/elbv2.k8s.aws/cluster"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["elasticloadbalancing:AddTags","elasticloadbalancing:CreateLoadBalancer","elasticloadbalancing:CreateTargetGroup"]},"condition":[{"test":{"constant_value":"Null"},"values":{"constant_value":["false"]},"variable":{"constant_value":"aws:RequestTag/elbv2.k8s.aws/cluster"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["elasticloadbalancing:AddTags","elasticloadbalancing:CreateListener","elasticloadbalancing:DeleteListener","elasticloadbalancing:CreateRule","elasticloadbalancing:DeleteRule"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["elasticloadbalancing:AddTags","elasticloadbalancing:RemoveTags"]},"condition":[{"test":{"constant_value":"Null"},"values":{"constant_value":["true"]},"variable":{"constant_value":"aws:RequestTag/elbv2.k8s.aws/cluster"}},{"test":{"constant_value":"Null"},"values":{"constant_value":["false"]},"variable":{"constant_value":"aws:ResourceTag/elbv2.k8s.aws/cluster"}}],"resources":{"references":["local.partition","local.partition","local.partition"]}},{"actions":{"constant_value":["elasticloadbalancing:AddTags","elasticloadbalancing:RemoveTags"]},"resources":{"references":["local.partition","local.partition","local.partition","local.partition"]}},{"actions":{"constant_value":["elasticloadbalancing:ModifyLoadBalancerAttributes","elasticloadbalancing:SetIpAddressType","elasticloadbalancing:SetSecurityGroups","elasticloadbalancing:SetSubnets","elasticloadbalancing:DeleteLoadBalancer","elasticloadbalancing:ModifyTargetGroup","elasticloadbalancing:ModifyTargetGroupAttributes","elasticloadbalancing:DeleteTargetGroup","elasticloadbalancing:ModifyListenerAttributes"]},"condition":[{"test":{"constant_value":"Null"},"values":{"constant_value":["false"]},"variable":{"constant_value":"aws:ResourceTag/elbv2.k8s.aws/cluster"}}],"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["elasticloadbalancing:AddTags"]},"condition":[{"test":{"constant_value":"StringEquals"},"values":{"constant_value":["CreateTargetGroup","CreateLoadBalancer"]},"variable":{"constant_value":"elasticloadbalancing:CreateAction"}},{"test":{"constant_value":"Null"},"values":{"constant_value":["false"]},"variable":{"constant_value":"aws:RequestTag/elbv2.k8s.aws/cluster"}}],"resources":{"references":["local.partition","local.partition","local.partition"]}},{"actions":{"constant_value":["elasticloadbalancing:RegisterTargets","elasticloadbalancing:DeregisterTargets"]},"resources":{"references":["local.partition"]}},{"actions":{"constant_value":["elasticloadbalancing:SetWebAcl","elasticloadbalancing:ModifyListener","elasticloadbalancing:AddListenerCertificates","elasticloadbalancing:RemoveListenerCertificates","elasticloadbalancing:ModifyRule"]},"resources":{"constant_value":["*"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_load_balancer_controller_policy"]}},{"address":"data.aws_iam_policy_document.load_balancer_controller_targetgroup_only","mode":"data","type":"aws_iam_policy_document","name":"load_balancer_controller_targetgroup_only","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["ec2:DescribeSecurityGroups","ec2:DescribeInstances","ec2:DescribeVpcs","ec2:AuthorizeSecurityGroupIngress","ec2:RevokeSecurityGroupIngress","elasticloadbalancing:DescribeTargetGroups","elasticloadbalancing:DescribeTargetHealth"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["elasticloadbalancing:ModifyTargetGroup","elasticloadbalancing:ModifyTargetGroupAttributes","elasticloadbalancing:RegisterTargets","elasticloadbalancing:DeregisterTargets"]},"resources":{"references":["var.load_balancer_controller_targetgroup_arns"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_load_balancer_controller_targetgroup_binding_only_policy"]}},{"address":"data.aws_iam_policy_document.mountpoint_s3_csi","mode":"data","type":"aws_iam_policy_document","name":"mountpoint_s3_csi","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["s3:ListBucket"]},"resources":{"references":["var.mountpoint_s3_csi_bucket_arns","local.partition"]},"sid":{"constant_value":"MountpointFullBucketAccess"}},{"actions":{"constant_value":["s3:GetObject","s3:PutObject","s3:AbortMultipartUpload","s3:DeleteObject"]},"resources":{"references":["var.mountpoint_s3_csi_path_arns"]},"sid":{"constant_value":"MountpointFullObjectAccess"}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_mountpoint_s3_csi_policy"]}},{"address":"data.aws_iam_policy_document.node_termination_handler","mode":"data","type":"aws_iam_policy_document","name":"node_termination_handler","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["autoscaling:CompleteLifecycleAction","autoscaling:DescribeAutoScalingInstances","autoscaling:DescribeTags","ec2:DescribeInstances"]},"resources":{"constant_value":["*"]}},{"actions":{"constant_value":["sqs:DeleteMessage","sqs:ReceiveMessage"]},"resources":{"references":["var.node_termination_handler_sqs_queue_arns"]}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_node_termination_handler_policy"]}},{"address":"data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_config_key":"aws","schema_version":0,"count_expression":{"references":["var.create_role"]}},{"address":"data.aws_iam_policy_document.velero","mode":"data","type":"aws_iam_policy_document","name":"velero","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["ec2:DescribeVolumes","ec2:DescribeSnapshots","ec2:CreateTags","ec2:CreateVolume","ec2:CreateSnapshot","ec2:DeleteSnapshot"]},"resources":{"constant_value":["*"]},"sid":{"constant_value":"Ec2ReadWrite"}},{"actions":{"constant_value":["s3:GetObject","s3:DeleteObject","s3:PutObject","s3:PutObjectTagging","s3:AbortMultipartUpload","s3:ListMultipartUploadParts"]},"resources":{"references":["var.velero_s3_bucket_arns"]},"sid":{"constant_value":"S3ReadWrite"}},{"actions":{"constant_value":["s3:ListBucket"]},"resources":{"references":["var.velero_s3_bucket_arns"]},"sid":{"constant_value":"S3List"}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_velero_policy"]}},{"address":"data.aws_iam_policy_document.vpc_cni","mode":"data","type":"aws_iam_policy_document","name":"vpc_cni","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["ec2:CreateTags"]},"resources":{"references":["local.partition"]},"sid":{"constant_value":"CreateTags"}}]},"schema_version":0,"count_expression":{"references":["var.create_role","var.attach_vpc_cni_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_region.current","mode":"data","type":"aws_region","name":"current","provider_config_key":"aws","schema_version":0}],"variables":{"allow_self_assume_role":{"default":false,"description":"Determines whether to allow the role to be [assume itself](https://aws.amazon.com/blogs/security/announcing-an-update-to-iam-role-trust-policy-behavior/)"},"amazon_managed_service_prometheus_workspace_arns":{"default":["*"],"description":"List of AMP Workspace ARNs to read and write metrics"},"assume_role_condition_test":{"default":"StringEquals","description":"Name of the [IAM condition operator](https://docs.aws.amazon.com/IAM/latest/UserGuide/reference_policies_elements_condition_operators.html) to evaluate when assuming the role"},"attach_amazon_managed_service_prometheus_policy":{"default":false,"description":"Determines whether to attach the Amazon Managed Service for Prometheus IAM policy to the role"},"attach_appmesh_controller_policy":{"default":false,"description":"Determines whether to attach the Appmesh Controller policy to the role"},"attach_appmesh_envoy_proxy_policy":{"default":false,"description":"Determines whether to attach the Appmesh envoy proxy policy to the role"},"attach_aws_gateway_controller_policy":{"default":false,"description":"Determines whether to attach the AWS Gateway Controller IAM policy to the role"},"attach_cert_manager_policy":{"default":false,"description":"Determines whether to attach the Cert Manager IAM policy to the role"},"attach_cloudwatch_observability_policy":{"default":false,"description":"Determines whether to attach the Amazon CloudWatch Observability IAM policies to the role"},"attach_cluster_autoscaler_policy":{"default":false,"description":"Determines whether to attach the Cluster Autoscaler IAM policy to the role"},"attach_ebs_csi_policy":{"default":false,"description":"Determines whether to attach the EBS CSI IAM policy to the role"},"attach_efs_csi_policy":{"default":false,"description":"Determines whether to attach the EFS CSI IAM policy to the role"},"attach_external_dns_policy":{"default":false,"description":"Determines whether to attach the External DNS IAM policy to the role"},"attach_external_secrets_policy":{"default":false,"description":"Determines whether to attach the External Secrets policy to the role"},"attach_fsx_lustre_csi_policy":{"default":false,"description":"Determines whether to attach the FSx for Lustre CSI Driver IAM policy to the role"},"attach_karpenter_controller_policy":{"default":false,"description":"Determines whether to attach the Karpenter Controller policy to the role"},"attach_load_balancer_controller_policy":{"default":false,"description":"Determines whether to attach the Load Balancer Controller policy to the role"},"attach_load_balancer_controller_targetgroup_binding_only_policy":{"default":false,"description":"Determines whether to attach the Load Balancer Controller policy for the TargetGroupBinding only"},"attach_mountpoint_s3_csi_policy":{"default":false,"description":"Determines whether to attach the Mountpoint S3 CSI IAM policy to the role"},"attach_node_termination_handler_policy":{"default":false,"description":"Determines whether to attach the Node Termination Handler policy to the role"},"attach_velero_policy":{"default":false,"description":"Determines whether to attach the Velero IAM policy to the role"},"attach_vpc_cni_policy":{"default":false,"description":"Determines whether to attach the VPC CNI IAM policy to the role"},"cert_manager_hosted_zone_arns":{"default":["arn:aws:route53:::hostedzone/*"],"description":"Route53 hosted zone ARNs to allow Cert manager to manage records"},"cluster_autoscaler_cluster_ids":{"default":[],"description":"[Deprecated - use `cluster_autoscaler_cluster_names`] List of cluster names to appropriately scope permissions within the Cluster Autoscaler IAM policy"},"cluster_autoscaler_cluster_names":{"default":[],"description":"List of cluster names to appropriately scope permissions within the Cluster Autoscaler IAM policy"},"create_role":{"default":true,"description":"Whether to create a role"},"ebs_csi_kms_cmk_ids":{"default":[],"description":"KMS CMK IDs to allow EBS CSI to manage encrypted volumes"},"enable_karpenter_instance_profile_creation":{"default":false,"description":"Determines whether Karpenter will be allowed to create the IAM instance profile (v1beta1/v0.32+)"},"external_dns_hosted_zone_arns":{"default":["arn:aws:route53:::hostedzone/*"],"description":"Route53 hosted zone ARNs to allow External DNS to manage records"},"external_secrets_kms_key_arns":{"default":["arn:aws:kms:*:*:key/*"],"description":"List of KMS Key ARNs that are used by Secrets Manager that contain secrets to mount using External Secrets"},"external_secrets_secrets_manager_arns":{"default":["arn:aws:secretsmanager:*:*:secret:*"],"description":"List of Secrets Manager ARNs that contain secrets to mount using External Secrets"},"external_secrets_secrets_manager_create_permission":{"default":false,"description":"Determins whether External Secrets may use secretsmanager:CreateSecret"},"external_secrets_ssm_parameter_arns":{"default":["arn:aws:ssm:*:*:parameter/*"],"description":"List of Systems Manager Parameter ARNs that contain secrets to mount using External Secrets"},"force_detach_policies":{"default":true,"description":"Whether policies should be detached from this role when destroying"},"fsx_lustre_csi_service_role_arns":{"default":["arn:aws:iam::*:role/aws-service-role/s3.data-source.lustre.fsx.amazonaws.com/*"],"description":"Service role ARNs to allow FSx for Lustre CSI create and manage FSX for Lustre service linked roles"},"karpenter_controller_cluster_id":{"default":"*","description":"[Deprecated - use `karpenter_controller_cluster_name`] The name of the cluster where the Karpenter controller is provisioned/managing"},"karpenter_controller_cluster_name":{"default":"*","description":"The name of the cluster where the Karpenter controller is provisioned/managing"},"karpenter_controller_node_iam_role_arns":{"default":["*"],"description":"List of node IAM role ARNs Karpenter can use to launch nodes"},"karpenter_controller_ssm_parameter_arns":{"default":["arn:aws:ssm:*:*:parameter/aws/service/*"],"description":"List of SSM Parameter ARNs that contain AMI IDs launched by Karpenter"},"karpenter_sqs_queue_arn":{"default":null,"description":"(Optional) ARN of SQS used by Karpenter when native node termination handling is enabled"},"karpenter_subnet_account_id":{"default":"","description":"Account ID of where the subnets Karpenter will utilize resides. Used when subnets are shared from another account"},"karpenter_tag_key":{"default":"karpenter.sh/discovery","description":"Tag key (`{key = value}`) applied to resources launched by Karpenter through the Karpenter provisioner"},"load_balancer_controller_targetgroup_arns":{"default":["arn:aws:elasticloadbalancing:*:*:targetgroup/*/*"],"description":"List of Target groups ARNs using Load Balancer Controller"},"max_session_duration":{"default":null,"description":"Maximum CLI/API session duration in seconds between 3600 and 43200"},"mountpoint_s3_csi_bucket_arns":{"default":[],"description":"S3 bucket ARNs to allow Mountpoint S3 CSI to list buckets"},"mountpoint_s3_csi_kms_arns":{"default":[],"description":"KMS Key ARNs to allow Mountpoint S3 CSI driver to download and upload Objects of a S3 bucket using `aws:kms` SSE"},"mountpoint_s3_csi_path_arns":{"default":[],"description":"S3 path ARNs to allow Mountpoint S3 CSI driver to manage items at the provided path(s). This is required if `attach_mountpoint_s3_csi_policy = true`"},"node_termination_handler_sqs_queue_arns":{"default":["*"],"description":"List of SQS ARNs that contain node termination events"},"oidc_providers":{"default":{},"description":"Map of OIDC providers where each provider map should contain the `provider_arn` and `namespace_service_accounts`"},"policy_name_prefix":{"default":"AmazonEKS_","description":"IAM policy name prefix"},"role_description":{"default":null,"description":"IAM Role description"},"role_name":{"default":null,"description":"Name of IAM role"},"role_name_prefix":{"default":null,"description":"IAM role name prefix"},"role_path":{"default":"/","description":"Path of IAM role"},"role_permissions_boundary_arn":{"default":null,"description":"Permissions boundary ARN to use for IAM role"},"role_policy_arns":{"default":{},"description":"ARNs of any policies to attach to the IAM role"},"tags":{"default":{},"description":"A map of tags to add the the IAM role"},"velero_s3_bucket_arns":{"default":["*"],"description":"List of S3 Bucket ARNs that Velero needs access to in order to backup and restore cluster resources"},"vpc_cni_enable_cloudwatch_logs":{"default":false,"description":"Determines whether to enable VPC CNI permission to create CloudWatch Log groups and publish network policy events"},"vpc_cni_enable_ipv4":{"default":false,"description":"Determines whether to enable IPv4 permissions for VPC CNI policy"},"vpc_cni_enable_ipv6":{"default":false,"description":"Determines whether to enable IPv6 permissions for VPC CNI policy"}}}},"eks":{"source":"terraform-aws-modules/eks/aws","expressions":{"cluster_addons":{"references":["module.ebs_csi_irsa_role.iam_role_arn","module.ebs_csi_irsa_role"]},"cluster_endpoint_private_access":{"constant_value":true},"cluster_endpoint_public_access":{"constant_value":true},"cluster_name":{"references":["local.cluster_name"]},"cluster_security_group_additional_rules":{"constant_value":{"ingress_nodes_8443_tcp":{"description":"Node groups to cluster API via port 8443","from_port":8443,"protocol":"tcp","source_node_security_group":true,"to_port":8443,"type":"ingress"}}},"cluster_version":{"constant_value":"1.23"},"create_cloudwatch_log_group":{"constant_value":false},"eks_managed_node_group_defaults":{"constant_value":{"ami_type":"AL2_x86_64"}},"eks_managed_node_groups":{"references":["var.asg_sys_instance_types"]},"node_security_group_additional_rules":{"constant_value":{"egress_all":{"cidr_blocks":["0.0.0.0/0"],"description":"Node all egress","from_port":0,"ipv6_cidr_blocks":["::/0"],"protocol":"-1","to_port":0,"type":"egress"},"ingress_self_all":{"description":"Node to node all ports/protocols","from_port":0,"protocol":"-1","self":true,"to_port":0,"type":"ingress"}}},"subnet_ids":{"references":["module.vpc.private_subnets","module.vpc"]},"tags":{"constant_value":{"Environment":"test","Terraform":"true"}},"vpc_id":{"references":["module.vpc.vpc_id","module.vpc"]}},"module":{"outputs":{"aws_auth_configmap_yaml":{"expression":{"references":["path.module","module.eks_managed_node_group","module.self_managed_node_group","module.self_managed_node_group","module.fargate_profile"]},"description":"[DEPRECATED - use `var.manage_aws_auth_configmap`] Formatted yaml output for base aws-auth configmap containing roles used in cluster node groups/fargate profiles"},"cloudwatch_log_group_arn":{"expression":{"references":["aws_cloudwatch_log_group.this[0].arn","aws_cloudwatch_log_group.this[0]","aws_cloudwatch_log_group.this"]},"description":"Arn of cloudwatch log group created"},"cloudwatch_log_group_name":{"expression":{"references":["aws_cloudwatch_log_group.this[0].name","aws_cloudwatch_log_group.this[0]","aws_cloudwatch_log_group.this"]},"description":"Name of cloudwatch log group created"},"cluster_addons":{"expression":{"references":["aws_eks_addon.this"]},"description":"Map of attribute maps for all EKS cluster addons enabled"},"cluster_arn":{"expression":{"references":["aws_eks_cluster.this[0].arn","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"description":"The Amazon Resource Name (ARN) of the cluster"},"cluster_certificate_authority_data":{"expression":{"references":["aws_eks_cluster.this[0].certificate_authority[0].data","aws_eks_cluster.this[0].certificate_authority[0]","aws_eks_cluster.this[0].certificate_authority","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"description":"Base64 encoded certificate data required to communicate with the cluster"},"cluster_endpoint":{"expression":{"references":["aws_eks_cluster.this[0].endpoint","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"description":"Endpoint for your Kubernetes API server"},"cluster_iam_role_arn":{"expression":{"references":["aws_iam_role.this[0].arn","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"IAM role ARN of the EKS cluster"},"cluster_iam_role_name":{"expression":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"IAM role name of the EKS cluster"},"cluster_iam_role_unique_id":{"expression":{"references":["aws_iam_role.this[0].unique_id","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"Stable and unique string identifying the IAM role"},"cluster_id":{"expression":{"references":["aws_eks_cluster.this[0].id","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"description":"The id of the EKS cluster. Will block on cluster creation until the cluster is really ready"},"cluster_identity_providers":{"expression":{"references":["aws_eks_identity_provider_config.this"]},"description":"Map of attribute maps for all EKS identity providers enabled"},"cluster_name":{"expression":{"references":["aws_eks_cluster.this[0].name","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"description":"The name of the EKS cluster. Will block on cluster creation until the cluster is really ready"},"cluster_oidc_issuer_url":{"expression":{"references":["aws_eks_cluster.this[0].identity[0].oidc[0].issuer","aws_eks_cluster.this[0].identity[0].oidc[0]","aws_eks_cluster.this[0].identity[0].oidc","aws_eks_cluster.this[0].identity[0]","aws_eks_cluster.this[0].identity","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"description":"The URL on the EKS cluster for the OpenID Connect identity provider"},"cluster_platform_version":{"expression":{"references":["aws_eks_cluster.this[0].platform_version","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"description":"Platform version for the cluster"},"cluster_primary_security_group_id":{"expression":{"references":["aws_eks_cluster.this[0].vpc_config[0].cluster_security_group_id","aws_eks_cluster.this[0].vpc_config[0]","aws_eks_cluster.this[0].vpc_config","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"description":"Cluster security group that was created by Amazon EKS for the cluster. Managed node groups use this security group for control-plane-to-data-plane communication. Referred to as 'Cluster security group' in the EKS console"},"cluster_security_group_arn":{"expression":{"references":["aws_security_group.cluster[0].arn","aws_security_group.cluster[0]","aws_security_group.cluster"]},"description":"Amazon Resource Name (ARN) of the cluster security group"},"cluster_security_group_id":{"expression":{"references":["aws_security_group.cluster[0].id","aws_security_group.cluster[0]","aws_security_group.cluster"]},"description":"ID of the cluster security group"},"cluster_status":{"expression":{"references":["aws_eks_cluster.this[0].status","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"description":"Status of the EKS cluster. One of `CREATING`, `ACTIVE`, `DELETING`, `FAILED`"},"cluster_tls_certificate_sha1_fingerprint":{"expression":{"references":["data.tls_certificate.this[0].certificates[0].sha1_fingerprint","data.tls_certificate.this[0].certificates[0]","data.tls_certificate.this[0].certificates","data.tls_certificate.this[0]","data.tls_certificate.this"]},"description":"The SHA1 fingerprint of the public key of the cluster's certificate"},"cluster_version":{"expression":{"references":["aws_eks_cluster.this[0].version","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"description":"The Kubernetes version for the cluster"},"eks_managed_node_groups":{"expression":{"references":["module.eks_managed_node_group"]},"description":"Map of attribute maps for all EKS managed node groups created"},"eks_managed_node_groups_autoscaling_group_names":{"expression":{"references":["module.eks_managed_node_group"]},"description":"List of the autoscaling group names created by EKS managed node groups"},"fargate_profiles":{"expression":{"references":["module.fargate_profile"]},"description":"Map of attribute maps for all EKS Fargate Profiles created"},"kms_key_arn":{"expression":{"references":["module.kms.key_arn","module.kms"]},"description":"The Amazon Resource Name (ARN) of the key"},"kms_key_id":{"expression":{"references":["module.kms.key_id","module.kms"]},"description":"The globally unique identifier for the key"},"kms_key_policy":{"expression":{"references":["module.kms.key_policy","module.kms"]},"description":"The IAM resource policy set on the key"},"node_security_group_arn":{"expression":{"references":["aws_security_group.node[0].arn","aws_security_group.node[0]","aws_security_group.node"]},"description":"Amazon Resource Name (ARN) of the node shared security group"},"node_security_group_id":{"expression":{"references":["aws_security_group.node[0].id","aws_security_group.node[0]","aws_security_group.node"]},"description":"ID of the node shared security group"},"oidc_provider":{"expression":{"references":["aws_eks_cluster.this[0].identity[0].oidc[0].issuer","aws_eks_cluster.this[0].identity[0].oidc[0]","aws_eks_cluster.this[0].identity[0].oidc","aws_eks_cluster.this[0].identity[0]","aws_eks_cluster.this[0].identity","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"description":"The OpenID Connect identity provider (issuer URL without leading `https://`)"},"oidc_provider_arn":{"expression":{"references":["aws_iam_openid_connect_provider.oidc_provider[0].arn","aws_iam_openid_connect_provider.oidc_provider[0]","aws_iam_openid_connect_provider.oidc_provider"]},"description":"The ARN of the OIDC Provider if `enable_irsa = true`"},"self_managed_node_groups":{"expression":{"references":["module.self_managed_node_group"]},"description":"Map of attribute maps for all self managed node groups created"},"self_managed_node_groups_autoscaling_group_names":{"expression":{"references":["module.self_managed_node_group"]},"description":"List of the autoscaling group names created by self-managed node groups"}},"resources":[{"address":"aws_cloudwatch_log_group.this","mode":"managed","type":"aws_cloudwatch_log_group","name":"this","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["var.cloudwatch_log_group_kms_key_id"]},"name":{"references":["var.cluster_name"]},"retention_in_days":{"references":["var.cloudwatch_log_group_retention_in_days"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["local.create","var.create_cloudwatch_log_group"]}},{"address":"aws_ec2_tag.cluster_primary_security_group","mode":"managed","type":"aws_ec2_tag","name":"cluster_primary_security_group","provider_config_key":"aws","expressions":{"key":{"references":["each.key"]},"resource_id":{"references":["aws_eks_cluster.this[0].vpc_config[0].cluster_security_group_id","aws_eks_cluster.this[0].vpc_config[0]","aws_eks_cluster.this[0].vpc_config","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"value":{"references":["each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.tags","var.cluster_tags","data.aws_default_tags.current.tags","data.aws_default_tags.current","local.create","var.create_cluster_primary_security_group_tags"]}},{"address":"aws_eks_addon.this","mode":"managed","type":"aws_eks_addon","name":"this","provider_config_key":"aws","expressions":{"addon_name":{"references":["each.value.name","each.value","each.key"]},"addon_version":{"references":["each.value"]},"cluster_name":{"references":["aws_eks_cluster.this[0].name","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"resolve_conflicts":{"references":["each.value"]},"service_account_role_arn":{"references":["each.value"]},"tags":{"references":["var.tags"]}},"schema_version":0,"for_each_expression":{"references":["var.cluster_addons","local.create"]},"depends_on":["module.fargate_profile","module.eks_managed_node_group","module.self_managed_node_group"]},{"address":"aws_eks_cluster.this","mode":"managed","type":"aws_eks_cluster","name":"this","provider_config_key":"aws","expressions":{"enabled_cluster_log_types":{"references":["var.cluster_enabled_log_types"]},"kubernetes_network_config":[{"ip_family":{"references":["var.cluster_ip_family"]},"service_ipv4_cidr":{"references":["var.cluster_service_ipv4_cidr"]}}],"name":{"references":["var.cluster_name"]},"role_arn":{"references":["local.cluster_role"]},"tags":{"references":["var.tags","var.cluster_tags"]},"timeouts":{"create":{"references":["var.cluster_timeouts"]},"delete":{"references":["var.cluster_timeouts"]},"update":{"references":["var.cluster_timeouts"]}},"version":{"references":["var.cluster_version"]},"vpc_config":[{"endpoint_private_access":{"references":["var.cluster_endpoint_private_access"]},"endpoint_public_access":{"references":["var.cluster_endpoint_public_access"]},"public_access_cidrs":{"references":["var.cluster_endpoint_public_access_cidrs"]},"security_group_ids":{"references":["var.cluster_additional_security_group_ids","local.cluster_security_group_id"]},"subnet_ids":{"references":["var.control_plane_subnet_ids","var.subnet_ids"]}}]},"schema_version":0,"count_expression":{"references":["local.create"]},"depends_on":["aws_iam_role_policy_attachment.this","aws_security_group_rule.cluster","aws_security_group_rule.node","aws_cloudwatch_log_group.this"]},{"address":"aws_eks_identity_provider_config.this","mode":"managed","type":"aws_eks_identity_provider_config","name":"this","provider_config_key":"aws","expressions":{"cluster_name":{"references":["aws_eks_cluster.this[0].name","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"oidc":[{"client_id":{"references":["each.value.client_id","each.value"]},"groups_claim":{"references":["each.value"]},"groups_prefix":{"references":["each.value"]},"identity_provider_config_name":{"references":["each.value.identity_provider_config_name","each.value","each.key"]},"issuer_url":{"references":["each.value.issuer_url","each.value","aws_eks_cluster.this[0].identity[0].oidc[0].issuer","aws_eks_cluster.this[0].identity[0].oidc[0]","aws_eks_cluster.this[0].identity[0].oidc","aws_eks_cluster.this[0].identity[0]","aws_eks_cluster.this[0].identity","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"required_claims":{"references":["each.value"]},"username_claim":{"references":["each.value"]},"username_prefix":{"references":["each.value"]}}],"tags":{"references":["var.tags"]}},"schema_version":0,"for_each_expression":{"references":["var.cluster_identity_providers","local.create"]}},{"address":"aws_iam_openid_connect_provider.oidc_provider","mode":"managed","type":"aws_iam_openid_connect_provider","name":"oidc_provider","provider_config_key":"aws","expressions":{"client_id_list":{"references":["local.dns_suffix","var.openid_connect_audiences"]},"tags":{"references":["var.cluster_name","var.tags"]},"thumbprint_list":{"references":["data.tls_certificate.this[0].certificates","data.tls_certificate.this[0]","data.tls_certificate.this","var.custom_oidc_thumbprints"]},"url":{"references":["aws_eks_cluster.this[0].identity[0].oidc[0].issuer","aws_eks_cluster.this[0].identity[0].oidc[0]","aws_eks_cluster.this[0].identity[0].oidc","aws_eks_cluster.this[0].identity[0]","aws_eks_cluster.this[0].identity","aws_eks_cluster.this[0]","aws_eks_cluster.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.enable_irsa"]}},{"address":"aws_iam_policy.cluster_encryption","mode":"managed","type":"aws_iam_policy","name":"cluster_encryption","provider_config_key":"aws","expressions":{"description":{"references":["var.cluster_encryption_policy_description"]},"name":{"references":["var.cluster_encryption_policy_use_name_prefix","local.cluster_encryption_policy_name"]},"name_prefix":{"references":["var.cluster_encryption_policy_use_name_prefix","local.cluster_encryption_policy_name"]},"path":{"references":["var.cluster_encryption_policy_path"]},"policy":{"references":["var.create_kms_key","module.kms.key_arn","module.kms","var.cluster_encryption_config"]},"tags":{"references":["var.tags","var.cluster_encryption_policy_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_iam_role","var.attach_cluster_encryption_policy","var.cluster_encryption_config"]}},{"address":"aws_iam_policy.cni_ipv6_policy","mode":"managed","type":"aws_iam_policy","name":"cni_ipv6_policy","provider_config_key":"aws","expressions":{"description":{"constant_value":"IAM policy for EKS CNI to assign IPV6 addresses"},"name":{"constant_value":"AmazonEKS_CNI_IPv6_Policy"},"policy":{"references":["data.aws_iam_policy_document.cni_ipv6_policy[0].json","data.aws_iam_policy_document.cni_ipv6_policy[0]","data.aws_iam_policy_document.cni_ipv6_policy"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_cni_ipv6_iam_policy"]}},{"address":"aws_iam_role.this","mode":"managed","type":"aws_iam_role","name":"this","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role_policy[0].json","data.aws_iam_policy_document.assume_role_policy[0]","data.aws_iam_policy_document.assume_role_policy"]},"description":{"references":["var.iam_role_description"]},"force_detach_policies":{"constant_value":true},"name":{"references":["var.iam_role_use_name_prefix","local.iam_role_name"]},"name_prefix":{"references":["var.iam_role_use_name_prefix","local.iam_role_name","var.prefix_separator"]},"path":{"references":["var.iam_role_path"]},"permissions_boundary":{"references":["var.iam_role_permissions_boundary"]},"tags":{"references":["var.tags","var.iam_role_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_iam_role"]}},{"address":"aws_iam_role_policy_attachment.cluster_encryption","mode":"managed","type":"aws_iam_role_policy_attachment","name":"cluster_encryption","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.cluster_encryption[0].arn","aws_iam_policy.cluster_encryption[0]","aws_iam_policy.cluster_encryption"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["local.create_iam_role","var.attach_cluster_encryption_policy","var.cluster_encryption_config"]}},{"address":"aws_iam_role_policy_attachment.this","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","provider_config_key":"aws","expressions":{"policy_arn":{"references":["each.value"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"for_each_expression":{"references":["local.create_iam_role","local.policy_arn_prefix","local.policy_arn_prefix","var.iam_role_additional_policies"]}},{"address":"aws_security_group.cluster","mode":"managed","type":"aws_security_group","name":"cluster","provider_config_key":"aws","expressions":{"description":{"references":["var.cluster_security_group_description"]},"name":{"references":["var.cluster_security_group_use_name_prefix","local.cluster_sg_name"]},"name_prefix":{"references":["var.cluster_security_group_use_name_prefix","local.cluster_sg_name","var.prefix_separator"]},"tags":{"references":["var.tags","local.cluster_sg_name","var.cluster_security_group_tags"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_cluster_sg"]}},{"address":"aws_security_group.node","mode":"managed","type":"aws_security_group","name":"node","provider_config_key":"aws","expressions":{"description":{"references":["var.node_security_group_description"]},"name":{"references":["var.node_security_group_use_name_prefix","local.node_sg_name"]},"name_prefix":{"references":["var.node_security_group_use_name_prefix","local.node_sg_name","var.prefix_separator"]},"tags":{"references":["var.tags","local.node_sg_name","var.cluster_name","var.node_security_group_tags"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_node_sg"]}},{"address":"aws_security_group_rule.cluster","mode":"managed","type":"aws_security_group_rule","name":"cluster","provider_config_key":"aws","expressions":{"cidr_blocks":{"references":["each.value.cidr_blocks","each.value"]},"description":{"references":["each.value.description","each.value"]},"from_port":{"references":["each.value.from_port","each.value"]},"ipv6_cidr_blocks":{"references":["each.value.ipv6_cidr_blocks","each.value"]},"prefix_list_ids":{"references":["each.value.prefix_list_ids","each.value"]},"protocol":{"references":["each.value.protocol","each.value"]},"security_group_id":{"references":["aws_security_group.cluster[0].id","aws_security_group.cluster[0]","aws_security_group.cluster"]},"self":{"references":["each.value.self","each.value"]},"source_security_group_id":{"references":["each.value.source_security_group_id","each.value","each.value.source_node_security_group","each.value","local.node_security_group_id"]},"to_port":{"references":["each.value.to_port","each.value"]},"type":{"references":["each.value.type","each.value"]}},"schema_version":2,"for_each_expression":{"references":["local.cluster_security_group_rules","var.cluster_security_group_additional_rules","local.create_cluster_sg"]}},{"address":"aws_security_group_rule.node","mode":"managed","type":"aws_security_group_rule","name":"node","provider_config_key":"aws","expressions":{"cidr_blocks":{"references":["each.value.cidr_blocks","each.value"]},"description":{"references":["each.value.description","each.value"]},"from_port":{"references":["each.value.from_port","each.value"]},"ipv6_cidr_blocks":{"references":["each.value.ipv6_cidr_blocks","each.value"]},"prefix_list_ids":{"references":["each.value.prefix_list_ids","each.value"]},"protocol":{"references":["each.value.protocol","each.value"]},"security_group_id":{"references":["aws_security_group.node[0].id","aws_security_group.node[0]","aws_security_group.node"]},"self":{"references":["each.value.self","each.value"]},"source_security_group_id":{"references":["each.value.source_security_group_id","each.value","each.value.source_cluster_security_group","each.value","local.cluster_security_group_id"]},"to_port":{"references":["each.value.to_port","each.value"]},"type":{"references":["each.value.type","each.value"]}},"schema_version":2,"for_each_expression":{"references":["local.node_security_group_rules","var.node_security_group_additional_rules","local.create_node_sg"]}},{"address":"kubernetes_config_map.aws_auth","mode":"managed","type":"kubernetes_config_map","name":"aws_auth","provider_config_key":"kubernetes","expressions":{"data":{"references":["local.aws_auth_configmap_data"]},"metadata":[{"name":{"constant_value":"aws-auth"},"namespace":{"constant_value":"kube-system"}}]},"schema_version":0,"count_expression":{"references":["var.create","var.create_aws_auth_configmap"]}},{"address":"kubernetes_config_map_v1_data.aws_auth","mode":"managed","type":"kubernetes_config_map_v1_data","name":"aws_auth","provider_config_key":"kubernetes","expressions":{"data":{"references":["local.aws_auth_configmap_data"]},"force":{"constant_value":true},"metadata":[{"name":{"constant_value":"aws-auth"},"namespace":{"constant_value":"kube-system"}}]},"schema_version":0,"count_expression":{"references":["var.create","var.manage_aws_auth_configmap"]},"depends_on":["kubernetes_config_map.aws_auth"]},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_default_tags.current","mode":"data","type":"aws_default_tags","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_iam_policy_document.assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"assume_role_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"references":["local.dns_suffix"]},"type":{"constant_value":"Service"}}],"sid":{"constant_value":"EKSClusterAssumeRole"}}]},"schema_version":0,"count_expression":{"references":["local.create","var.create_iam_role"]}},{"address":"data.aws_iam_policy_document.cni_ipv6_policy","mode":"data","type":"aws_iam_policy_document","name":"cni_ipv6_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["ec2:AssignIpv6Addresses","ec2:DescribeInstances","ec2:DescribeTags","ec2:DescribeNetworkInterfaces","ec2:DescribeInstanceTypes"]},"resources":{"constant_value":["*"]},"sid":{"constant_value":"AssignDescribe"}},{"actions":{"constant_value":["ec2:CreateTags"]},"resources":{"references":["data.aws_partition.current.partition","data.aws_partition.current"]},"sid":{"constant_value":"CreateTags"}}]},"schema_version":0,"count_expression":{"references":["var.create","var.create_cni_ipv6_iam_policy"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.tls_certificate.this","mode":"data","type":"tls_certificate","name":"this","provider_config_key":"module.eks:tls","expressions":{"url":{"references":["aws_eks_cluster.this[0].identity[0].oidc[0].issuer","aws_eks_cluster.this[0].identity[0].oidc[0]","aws_eks_cluster.this[0].identity[0].oidc","aws_eks_cluster.this[0].identity[0]","aws_eks_cluster.this[0].identity","aws_eks_cluster.this[0]","aws_eks_cluster.this"]}},"schema_version":0,"count_expression":{"references":["local.create","var.enable_irsa"]}}],"module_calls":{"eks_managed_node_group":{"source":"./modules/eks-managed-node-group","expressions":{"ami_id":{"references":["each.value.ami_id","each.value","var.eks_managed_node_group_defaults.ami_id","var.eks_managed_node_group_defaults"]},"ami_release_version":{"references":["each.value.ami_release_version","each.value","var.eks_managed_node_group_defaults.ami_release_version","var.eks_managed_node_group_defaults"]},"ami_type":{"references":["each.value.ami_type","each.value","var.eks_managed_node_group_defaults.ami_type","var.eks_managed_node_group_defaults"]},"block_device_mappings":{"references":["each.value.block_device_mappings","each.value","var.eks_managed_node_group_defaults.block_device_mappings","var.eks_managed_node_group_defaults"]},"bootstrap_extra_args":{"references":["each.value.bootstrap_extra_args","each.value","var.eks_managed_node_group_defaults.bootstrap_extra_args","var.eks_managed_node_group_defaults"]},"capacity_reservation_specification":{"references":["each.value.capacity_reservation_specification","each.value","var.eks_managed_node_group_defaults.capacity_reservation_specification","var.eks_managed_node_group_defaults"]},"capacity_type":{"references":["each.value.capacity_type","each.value","var.eks_managed_node_group_defaults.capacity_type","var.eks_managed_node_group_defaults"]},"cluster_auth_base64":{"references":["aws_eks_cluster.this[0].certificate_authority[0].data","aws_eks_cluster.this[0].certificate_authority[0]","aws_eks_cluster.this[0].certificate_authority","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"cluster_endpoint":{"references":["aws_eks_cluster.this[0].endpoint","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"cluster_ip_family":{"references":["var.cluster_ip_family"]},"cluster_name":{"references":["aws_eks_cluster.this[0].name","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"cluster_primary_security_group_id":{"references":["each.value.attach_cluster_primary_security_group","each.value","var.eks_managed_node_group_defaults.attach_cluster_primary_security_group","var.eks_managed_node_group_defaults","aws_eks_cluster.this[0].vpc_config[0].cluster_security_group_id","aws_eks_cluster.this[0].vpc_config[0]","aws_eks_cluster.this[0].vpc_config","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"cluster_security_group_id":{"references":["local.cluster_security_group_id"]},"cluster_service_ipv4_cidr":{"references":["var.cluster_service_ipv4_cidr"]},"cluster_version":{"references":["each.value.cluster_version","each.value","var.eks_managed_node_group_defaults.cluster_version","var.eks_managed_node_group_defaults","aws_eks_cluster.this[0].version","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"cpu_options":{"references":["each.value.cpu_options","each.value","var.eks_managed_node_group_defaults.cpu_options","var.eks_managed_node_group_defaults"]},"create":{"references":["each.value.create","each.value"]},"create_iam_role":{"references":["each.value.create_iam_role","each.value","var.eks_managed_node_group_defaults.create_iam_role","var.eks_managed_node_group_defaults"]},"create_launch_template":{"references":["each.value.create_launch_template","each.value","var.eks_managed_node_group_defaults.create_launch_template","var.eks_managed_node_group_defaults"]},"create_security_group":{"references":["each.value.create_security_group","each.value","var.eks_managed_node_group_defaults.create_security_group","var.eks_managed_node_group_defaults"]},"credit_specification":{"references":["each.value.credit_specification","each.value","var.eks_managed_node_group_defaults.credit_specification","var.eks_managed_node_group_defaults"]},"desired_size":{"references":["each.value.desired_size","each.value","var.eks_managed_node_group_defaults.desired_size","var.eks_managed_node_group_defaults"]},"disable_api_termination":{"references":["each.value.disable_api_termination","each.value","var.eks_managed_node_group_defaults.disable_api_termination","var.eks_managed_node_group_defaults"]},"disk_size":{"references":["each.value.disk_size","each.value","var.eks_managed_node_group_defaults.disk_size","var.eks_managed_node_group_defaults"]},"ebs_optimized":{"references":["each.value.ebs_optimized","each.value","var.eks_managed_node_group_defaults.ebs_optimized","var.eks_managed_node_group_defaults"]},"elastic_gpu_specifications":{"references":["each.value.elastic_gpu_specifications","each.value","var.eks_managed_node_group_defaults.elastic_gpu_specifications","var.eks_managed_node_group_defaults"]},"elastic_inference_accelerator":{"references":["each.value.elastic_inference_accelerator","each.value","var.eks_managed_node_group_defaults.elastic_inference_accelerator","var.eks_managed_node_group_defaults"]},"enable_bootstrap_user_data":{"references":["each.value.enable_bootstrap_user_data","each.value","var.eks_managed_node_group_defaults.enable_bootstrap_user_data","var.eks_managed_node_group_defaults"]},"enable_monitoring":{"references":["each.value.enable_monitoring","each.value","var.eks_managed_node_group_defaults.enable_monitoring","var.eks_managed_node_group_defaults"]},"enclave_options":{"references":["each.value.enclave_options","each.value","var.eks_managed_node_group_defaults.enclave_options","var.eks_managed_node_group_defaults"]},"force_update_version":{"references":["each.value.force_update_version","each.value","var.eks_managed_node_group_defaults.force_update_version","var.eks_managed_node_group_defaults"]},"iam_role_additional_policies":{"references":["each.value.iam_role_additional_policies","each.value","var.eks_managed_node_group_defaults.iam_role_additional_policies","var.eks_managed_node_group_defaults"]},"iam_role_arn":{"references":["each.value.iam_role_arn","each.value","var.eks_managed_node_group_defaults.iam_role_arn","var.eks_managed_node_group_defaults"]},"iam_role_attach_cni_policy":{"references":["each.value.iam_role_attach_cni_policy","each.value","var.eks_managed_node_group_defaults.iam_role_attach_cni_policy","var.eks_managed_node_group_defaults"]},"iam_role_description":{"references":["each.value.iam_role_description","each.value","var.eks_managed_node_group_defaults.iam_role_description","var.eks_managed_node_group_defaults"]},"iam_role_name":{"references":["each.value.iam_role_name","each.value","var.eks_managed_node_group_defaults.iam_role_name","var.eks_managed_node_group_defaults"]},"iam_role_path":{"references":["each.value.iam_role_path","each.value","var.eks_managed_node_group_defaults.iam_role_path","var.eks_managed_node_group_defaults"]},"iam_role_permissions_boundary":{"references":["each.value.iam_role_permissions_boundary","each.value","var.eks_managed_node_group_defaults.iam_role_permissions_boundary","var.eks_managed_node_group_defaults"]},"iam_role_tags":{"references":["each.value.iam_role_tags","each.value","var.eks_managed_node_group_defaults.iam_role_tags","var.eks_managed_node_group_defaults"]},"iam_role_use_name_prefix":{"references":["each.value.iam_role_use_name_prefix","each.value","var.eks_managed_node_group_defaults.iam_role_use_name_prefix","var.eks_managed_node_group_defaults"]},"instance_market_options":{"references":["each.value.instance_market_options","each.value","var.eks_managed_node_group_defaults.instance_market_options","var.eks_managed_node_group_defaults"]},"instance_types":{"references":["each.value.instance_types","each.value","var.eks_managed_node_group_defaults.instance_types","var.eks_managed_node_group_defaults"]},"kernel_id":{"references":["each.value.kernel_id","each.value","var.eks_managed_node_group_defaults.kernel_id","var.eks_managed_node_group_defaults"]},"key_name":{"references":["each.value.key_name","each.value","var.eks_managed_node_group_defaults.key_name","var.eks_managed_node_group_defaults"]},"labels":{"references":["each.value.labels","each.value","var.eks_managed_node_group_defaults.labels","var.eks_managed_node_group_defaults"]},"launch_template_default_version":{"references":["each.value.launch_template_default_version","each.value","var.eks_managed_node_group_defaults.launch_template_default_version","var.eks_managed_node_group_defaults"]},"launch_template_description":{"references":["each.value.launch_template_description","each.value","var.eks_managed_node_group_defaults.launch_template_description","var.eks_managed_node_group_defaults","each.value.name","each.value","each.key"]},"launch_template_name":{"references":["each.value.launch_template_name","each.value","var.eks_managed_node_group_defaults.launch_template_name","var.eks_managed_node_group_defaults","each.key"]},"launch_template_tags":{"references":["each.value.launch_template_tags","each.value","var.eks_managed_node_group_defaults.launch_template_tags","var.eks_managed_node_group_defaults"]},"launch_template_use_name_prefix":{"references":["each.value.launch_template_use_name_prefix","each.value","var.eks_managed_node_group_defaults.launch_template_use_name_prefix","var.eks_managed_node_group_defaults"]},"launch_template_version":{"references":["each.value.launch_template_version","each.value","var.eks_managed_node_group_defaults.launch_template_version","var.eks_managed_node_group_defaults"]},"license_specifications":{"references":["each.value.license_specifications","each.value","var.eks_managed_node_group_defaults.license_specifications","var.eks_managed_node_group_defaults"]},"max_size":{"references":["each.value.max_size","each.value","var.eks_managed_node_group_defaults.max_size","var.eks_managed_node_group_defaults"]},"metadata_options":{"references":["each.value.metadata_options","each.value","var.eks_managed_node_group_defaults.metadata_options","var.eks_managed_node_group_defaults","local.metadata_options"]},"min_size":{"references":["each.value.min_size","each.value","var.eks_managed_node_group_defaults.min_size","var.eks_managed_node_group_defaults"]},"name":{"references":["each.value.name","each.value","each.key"]},"network_interfaces":{"references":["each.value.network_interfaces","each.value","var.eks_managed_node_group_defaults.network_interfaces","var.eks_managed_node_group_defaults"]},"placement":{"references":["each.value.placement","each.value","var.eks_managed_node_group_defaults.placement","var.eks_managed_node_group_defaults"]},"platform":{"references":["each.value.platform","each.value","var.eks_managed_node_group_defaults.platform","var.eks_managed_node_group_defaults"]},"post_bootstrap_user_data":{"references":["each.value.post_bootstrap_user_data","each.value","var.eks_managed_node_group_defaults.post_bootstrap_user_data","var.eks_managed_node_group_defaults"]},"pre_bootstrap_user_data":{"references":["each.value.pre_bootstrap_user_data","each.value","var.eks_managed_node_group_defaults.pre_bootstrap_user_data","var.eks_managed_node_group_defaults"]},"ram_disk_id":{"references":["each.value.ram_disk_id","each.value","var.eks_managed_node_group_defaults.ram_disk_id","var.eks_managed_node_group_defaults"]},"remote_access":{"references":["each.value.remote_access","each.value","var.eks_managed_node_group_defaults.remote_access","var.eks_managed_node_group_defaults"]},"security_group_description":{"references":["each.value.security_group_description","each.value","var.eks_managed_node_group_defaults.security_group_description","var.eks_managed_node_group_defaults"]},"security_group_name":{"references":["each.value.security_group_name","each.value","var.eks_managed_node_group_defaults.security_group_name","var.eks_managed_node_group_defaults"]},"security_group_rules":{"references":["each.value.security_group_rules","each.value","var.eks_managed_node_group_defaults.security_group_rules","var.eks_managed_node_group_defaults"]},"security_group_tags":{"references":["each.value.security_group_tags","each.value","var.eks_managed_node_group_defaults.security_group_tags","var.eks_managed_node_group_defaults"]},"security_group_use_name_prefix":{"references":["each.value.security_group_use_name_prefix","each.value","var.eks_managed_node_group_defaults.security_group_use_name_prefix","var.eks_managed_node_group_defaults"]},"subnet_ids":{"references":["each.value.subnet_ids","each.value","var.eks_managed_node_group_defaults.subnet_ids","var.eks_managed_node_group_defaults","var.subnet_ids"]},"tags":{"references":["var.tags","each.value.tags","each.value","var.eks_managed_node_group_defaults.tags","var.eks_managed_node_group_defaults"]},"taints":{"references":["each.value.taints","each.value","var.eks_managed_node_group_defaults.taints","var.eks_managed_node_group_defaults"]},"timeouts":{"references":["each.value.timeouts","each.value","var.eks_managed_node_group_defaults.timeouts","var.eks_managed_node_group_defaults"]},"update_config":{"references":["each.value.update_config","each.value","var.eks_managed_node_group_defaults.update_config","var.eks_managed_node_group_defaults"]},"update_launch_template_default_version":{"references":["each.value.update_launch_template_default_version","each.value","var.eks_managed_node_group_defaults.update_launch_template_default_version","var.eks_managed_node_group_defaults"]},"use_name_prefix":{"references":["each.value.use_name_prefix","each.value","var.eks_managed_node_group_defaults.use_name_prefix","var.eks_managed_node_group_defaults"]},"user_data_template_path":{"references":["each.value.user_data_template_path","each.value","var.eks_managed_node_group_defaults.user_data_template_path","var.eks_managed_node_group_defaults"]},"vpc_id":{"references":["each.value.vpc_id","each.value","var.eks_managed_node_group_defaults.vpc_id","var.eks_managed_node_group_defaults","var.vpc_id"]},"vpc_security_group_ids":{"references":["local.node_security_group_id","each.value.vpc_security_group_ids","each.value","var.eks_managed_node_group_defaults.vpc_security_group_ids","var.eks_managed_node_group_defaults"]}},"for_each_expression":{"references":["var.eks_managed_node_groups","var.create"]},"module":{"outputs":{"iam_role_arn":{"expression":{"references":["aws_iam_role.this[0].arn","aws_iam_role.this[0]","aws_iam_role.this","var.iam_role_arn"]},"description":"The Amazon Resource Name (ARN) specifying the IAM role"},"iam_role_name":{"expression":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"The name of the IAM role"},"iam_role_unique_id":{"expression":{"references":["aws_iam_role.this[0].unique_id","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"Stable and unique string identifying the IAM role"},"launch_template_arn":{"expression":{"references":["aws_launch_template.this[0].arn","aws_launch_template.this[0]","aws_launch_template.this"]},"description":"The ARN of the launch template"},"launch_template_id":{"expression":{"references":["aws_launch_template.this[0].id","aws_launch_template.this[0]","aws_launch_template.this"]},"description":"The ID of the launch template"},"launch_template_latest_version":{"expression":{"references":["aws_launch_template.this[0].latest_version","aws_launch_template.this[0]","aws_launch_template.this"]},"description":"The latest version of the launch template"},"launch_template_name":{"expression":{"references":["aws_launch_template.this[0].name","aws_launch_template.this[0]","aws_launch_template.this"]},"description":"The name of the launch template"},"node_group_arn":{"expression":{"references":["aws_eks_node_group.this[0].arn","aws_eks_node_group.this[0]","aws_eks_node_group.this"]},"description":"Amazon Resource Name (ARN) of the EKS Node Group"},"node_group_autoscaling_group_names":{"expression":{"references":["aws_eks_node_group.this[0].resources","aws_eks_node_group.this[0]","aws_eks_node_group.this"]},"description":"List of the autoscaling group names"},"node_group_id":{"expression":{"references":["aws_eks_node_group.this[0].id","aws_eks_node_group.this[0]","aws_eks_node_group.this"]},"description":"EKS Cluster name and EKS Node Group name separated by a colon (`:`)"},"node_group_labels":{"expression":{"references":["aws_eks_node_group.this[0].labels","aws_eks_node_group.this[0]","aws_eks_node_group.this"]},"description":"Map of labels applied to the node group"},"node_group_resources":{"expression":{"references":["aws_eks_node_group.this[0].resources","aws_eks_node_group.this[0]","aws_eks_node_group.this"]},"description":"List of objects containing information about underlying resources"},"node_group_status":{"expression":{"references":["aws_eks_node_group.this[0].arn","aws_eks_node_group.this[0]","aws_eks_node_group.this"]},"description":"Status of the EKS Node Group"},"node_group_taints":{"expression":{"references":["aws_eks_node_group.this[0].taint","aws_eks_node_group.this[0]","aws_eks_node_group.this"]},"description":"List of objects containing information about taints applied to the node group"},"security_group_arn":{"expression":{"references":["aws_security_group.this[0].arn","aws_security_group.this[0]","aws_security_group.this"]},"description":"Amazon Resource Name (ARN) of the security group"},"security_group_id":{"expression":{"references":["aws_security_group.this[0].id","aws_security_group.this[0]","aws_security_group.this"]},"description":"ID of the security group"}},"resources":[{"address":"aws_eks_node_group.this","mode":"managed","type":"aws_eks_node_group","name":"this","provider_config_key":"aws","expressions":{"ami_type":{"references":["var.ami_id","var.ami_type"]},"capacity_type":{"references":["var.capacity_type"]},"cluster_name":{"references":["var.cluster_name"]},"disk_size":{"references":["local.use_custom_launch_template","var.disk_size"]},"force_update_version":{"references":["var.force_update_version"]},"instance_types":{"references":["var.instance_types"]},"labels":{"references":["var.labels"]},"node_group_name":{"references":["var.use_name_prefix","var.name"]},"node_group_name_prefix":{"references":["var.use_name_prefix","var.name"]},"node_role_arn":{"references":["var.create_iam_role","aws_iam_role.this[0].arn","aws_iam_role.this[0]","aws_iam_role.this","var.iam_role_arn"]},"release_version":{"references":["var.ami_id","var.ami_release_version"]},"scaling_config":[{"desired_size":{"references":["var.desired_size"]},"max_size":{"references":["var.max_size"]},"min_size":{"references":["var.min_size"]}}],"subnet_ids":{"references":["var.subnet_ids"]},"tags":{"references":["var.tags","var.name"]},"timeouts":{"create":{"references":["var.timeouts"]},"delete":{"references":["var.timeouts"]},"update":{"references":["var.timeouts"]}},"version":{"references":["var.ami_id","var.cluster_version"]}},"schema_version":0,"count_expression":{"references":["var.create"]}},{"address":"aws_iam_role.this","mode":"managed","type":"aws_iam_role","name":"this","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role_policy[0].json","data.aws_iam_policy_document.assume_role_policy[0]","data.aws_iam_policy_document.assume_role_policy"]},"description":{"references":["var.iam_role_description"]},"force_detach_policies":{"constant_value":true},"name":{"references":["var.iam_role_use_name_prefix","local.iam_role_name"]},"name_prefix":{"references":["var.iam_role_use_name_prefix","local.iam_role_name"]},"path":{"references":["var.iam_role_path"]},"permissions_boundary":{"references":["var.iam_role_permissions_boundary"]},"tags":{"references":["var.tags","var.iam_role_tags"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_iam_role"]}},{"address":"aws_iam_role_policy_attachment.this","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","provider_config_key":"aws","expressions":{"policy_arn":{"references":["each.value"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"for_each_expression":{"references":["var.create","var.create_iam_role","local.iam_role_policy_prefix","local.iam_role_policy_prefix","var.iam_role_attach_cni_policy","local.cni_policy","var.iam_role_additional_policies"]}},{"address":"aws_launch_template.this","mode":"managed","type":"aws_launch_template","name":"this","provider_config_key":"aws","expressions":{"default_version":{"references":["var.launch_template_default_version"]},"description":{"references":["var.launch_template_description"]},"disable_api_termination":{"references":["var.disable_api_termination"]},"ebs_optimized":{"references":["var.ebs_optimized"]},"image_id":{"references":["var.ami_id"]},"kernel_id":{"references":["var.kernel_id"]},"key_name":{"references":["var.key_name"]},"name":{"references":["var.launch_template_use_name_prefix","local.launch_template_name_int"]},"name_prefix":{"references":["var.launch_template_use_name_prefix","local.launch_template_name_int"]},"ram_disk_id":{"references":["var.ram_disk_id"]},"tags":{"references":["var.tags"]},"update_default_version":{"references":["var.update_launch_template_default_version"]},"user_data":{"references":["module.user_data.user_data","module.user_data"]},"vpc_security_group_ids":{"references":["var.network_interfaces","local.security_group_ids"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_launch_template"]},"depends_on":["aws_security_group_rule.this","aws_iam_role_policy_attachment.this"]},{"address":"aws_security_group.this","mode":"managed","type":"aws_security_group","name":"this","provider_config_key":"aws","expressions":{"description":{"references":["var.security_group_description"]},"name":{"references":["var.security_group_use_name_prefix","local.security_group_name"]},"name_prefix":{"references":["var.security_group_use_name_prefix","local.security_group_name"]},"tags":{"references":["var.tags","local.security_group_name","var.security_group_tags"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_security_group"]}},{"address":"aws_security_group_rule.this","mode":"managed","type":"aws_security_group_rule","name":"this","provider_config_key":"aws","expressions":{"cidr_blocks":{"references":["each.value.cidr_blocks","each.value"]},"description":{"references":["each.value.description","each.value"]},"from_port":{"references":["each.value.from_port","each.value"]},"ipv6_cidr_blocks":{"references":["each.value.ipv6_cidr_blocks","each.value"]},"prefix_list_ids":{"references":["each.value.prefix_list_ids","each.value"]},"protocol":{"references":["each.value.protocol","each.value"]},"security_group_id":{"references":["aws_security_group.this[0].id","aws_security_group.this[0]","aws_security_group.this"]},"self":{"references":["each.value.self","each.value"]},"source_security_group_id":{"references":["each.value.source_security_group_id","each.value","each.value.source_cluster_security_group","each.value","var.cluster_security_group_id"]},"to_port":{"references":["each.value.to_port","each.value"]},"type":{"references":["each.value.type","each.value"]}},"schema_version":2,"for_each_expression":{"references":["var.security_group_rules","local.create_security_group"]}},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_iam_policy_document.assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"assume_role_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"references":["data.aws_partition.current.dns_suffix","data.aws_partition.current"]},"type":{"constant_value":"Service"}}],"sid":{"constant_value":"EKSNodeAssumeRole"}}]},"schema_version":0,"count_expression":{"references":["var.create","var.create_iam_role"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0}],"module_calls":{"user_data":{"source":"../_user_data","expressions":{"bootstrap_extra_args":{"references":["var.bootstrap_extra_args"]},"cluster_auth_base64":{"references":["var.cluster_auth_base64"]},"cluster_endpoint":{"references":["var.cluster_endpoint"]},"cluster_name":{"references":["var.cluster_name"]},"cluster_service_ipv4_cidr":{"references":["var.cluster_service_ipv4_cidr"]},"create":{"references":["var.create"]},"enable_bootstrap_user_data":{"references":["var.enable_bootstrap_user_data"]},"platform":{"references":["var.platform"]},"post_bootstrap_user_data":{"references":["var.post_bootstrap_user_data"]},"pre_bootstrap_user_data":{"references":["var.pre_bootstrap_user_data"]},"user_data_template_path":{"references":["var.user_data_template_path"]}},"module":{"outputs":{"user_data":{"expression":{"references":["local.platform","var.platform"]},"description":"Base64 encoded user data rendered for the provided inputs"}},"resources":[{"address":"data.cloudinit_config.linux_eks_managed_node_group","mode":"data","type":"cloudinit_config","name":"linux_eks_managed_node_group","provider_config_key":"module.eks.module.eks_managed_node_group.module.user_data:cloudinit","expressions":{"base64_encode":{"constant_value":true},"boundary":{"constant_value":"//"},"gzip":{"constant_value":false},"part":[{"content":{"references":["var.pre_bootstrap_user_data"]},"content_type":{"constant_value":"text/x-shellscript"}}]},"schema_version":0,"count_expression":{"references":["var.create","var.platform","var.is_eks_managed_node_group","var.enable_bootstrap_user_data","var.pre_bootstrap_user_data","var.user_data_template_path"]}}],"variables":{"bootstrap_extra_args":{"default":"","description":"Additional arguments passed to the bootstrap script. When `platform` = `bottlerocket`; these are additional [settings](https://github.com/bottlerocket-os/bottlerocket#settings) that are provided to the Bottlerocket user data"},"cluster_auth_base64":{"default":"","description":"Base64 encoded CA of associated EKS cluster"},"cluster_endpoint":{"default":"","description":"Endpoint of associated EKS cluster"},"cluster_name":{"default":"","description":"Name of the EKS cluster"},"cluster_service_ipv4_cidr":{"default":null,"description":"The CIDR block to assign Kubernetes service IP addresses from. If you don't specify a block, Kubernetes assigns addresses from either the 10.100.0.0/16 or 172.20.0.0/16 CIDR blocks"},"create":{"default":true,"description":"Determines whether to create user-data or not"},"enable_bootstrap_user_data":{"default":false,"description":"Determines whether the bootstrap configurations are populated within the user data template"},"is_eks_managed_node_group":{"default":true,"description":"Determines whether the user data is used on nodes in an EKS managed node group. Used to determine if user data will be appended or not"},"platform":{"default":"linux","description":"Identifies if the OS platform is `bottlerocket`, `linux`, or `windows` based"},"post_bootstrap_user_data":{"default":"","description":"User data that is appended to the user data script after of the EKS bootstrap script. Not used when `platform` = `bottlerocket`"},"pre_bootstrap_user_data":{"default":"","description":"User data that is injected into the user data script ahead of the EKS bootstrap script. Not used when `platform` = `bottlerocket`"},"user_data_template_path":{"default":"","description":"Path to a local, custom user data template file to use when rendering user data"}}}}},"variables":{"ami_id":{"default":"","description":"The AMI from which to launch the instance. If not supplied, EKS will use its own default image"},"ami_release_version":{"default":null,"description":"AMI version of the EKS Node Group. Defaults to latest version for Kubernetes version"},"ami_type":{"default":null,"description":"Type of Amazon Machine Image (AMI) associated with the EKS Node Group. Valid values are `AL2_x86_64`, `AL2_x86_64_GPU`, `AL2_ARM_64`, `CUSTOM`, `BOTTLEROCKET_ARM_64`, `BOTTLEROCKET_x86_64`"},"block_device_mappings":{"default":{},"description":"Specify volumes to attach to the instance besides the volumes specified by the AMI"},"bootstrap_extra_args":{"default":"","description":"Additional arguments passed to the bootstrap script. When `platform` = `bottlerocket`; these are additional [settings](https://github.com/bottlerocket-os/bottlerocket#settings) that are provided to the Bottlerocket user data"},"capacity_reservation_specification":{"default":{},"description":"Targeting for EC2 capacity reservations"},"capacity_type":{"default":"ON_DEMAND","description":"Type of capacity associated with the EKS Node Group. Valid values: `ON_DEMAND`, `SPOT`"},"cluster_auth_base64":{"default":"","description":"Base64 encoded CA of associated EKS cluster"},"cluster_endpoint":{"default":"","description":"Endpoint of associated EKS cluster"},"cluster_ip_family":{"default":null,"description":"The IP family used to assign Kubernetes pod and service addresses. Valid values are `ipv4` (default) and `ipv6`"},"cluster_name":{"default":null,"description":"Name of associated EKS cluster"},"cluster_primary_security_group_id":{"default":null,"description":"The ID of the EKS cluster primary security group to associate with the instance(s). This is the security group that is automatically created by the EKS service"},"cluster_security_group_id":{"default":null,"description":"Cluster control plane security group ID"},"cluster_service_ipv4_cidr":{"default":null,"description":"The CIDR block to assign Kubernetes service IP addresses from. If you don't specify a block, Kubernetes assigns addresses from either the 10.100.0.0/16 or 172.20.0.0/16 CIDR blocks"},"cluster_version":{"default":null,"description":"Kubernetes version. Defaults to EKS Cluster Kubernetes version"},"cpu_options":{"default":{},"description":"The CPU options for the instance"},"create":{"default":true,"description":"Determines whether to create EKS managed node group or not"},"create_iam_role":{"default":true,"description":"Determines whether an IAM role is created or to use an existing IAM role"},"create_launch_template":{"default":true,"description":"Determines whether to create a launch template or not. If set to `false`, EKS will use its own default launch template"},"create_security_group":{"default":true,"description":"Determines whether to create a security group"},"credit_specification":{"default":{},"description":"Customize the credit specification of the instance"},"desired_size":{"default":1,"description":"Desired number of instances/nodes"},"disable_api_termination":{"default":null,"description":"If true, enables EC2 instance termination protection"},"disk_size":{"default":null,"description":"Disk size in GiB for nodes. Defaults to `20`"},"ebs_optimized":{"default":null,"description":"If true, the launched EC2 instance(s) will be EBS-optimized"},"elastic_gpu_specifications":{"default":{},"description":"The elastic GPU to attach to the instance"},"elastic_inference_accelerator":{"default":{},"description":"Configuration block containing an Elastic Inference Accelerator to attach to the instance"},"enable_bootstrap_user_data":{"default":false,"description":"Determines whether the bootstrap configurations are populated within the user data template. Only valid when using a custom AMI via `ami_id`"},"enable_monitoring":{"default":true,"description":"Enables/disables detailed monitoring"},"enclave_options":{"default":{},"description":"Enable Nitro Enclaves on launched instances"},"force_update_version":{"default":null,"description":"Force version update if existing pods are unable to be drained due to a pod disruption budget issue"},"iam_role_additional_policies":{"default":[],"description":"Additional policies to be added to the IAM role"},"iam_role_arn":{"default":null,"description":"Existing IAM role ARN for the node group. Required if `create_iam_role` is set to `false`"},"iam_role_attach_cni_policy":{"default":true,"description":"Whether to attach the `AmazonEKS_CNI_Policy`/`AmazonEKS_CNI_IPv6_Policy` IAM policy to the IAM IAM role. WARNING: If set `false` the permissions must be assigned to the `aws-node` DaemonSet pods via another method or nodes will not be able to join the cluster"},"iam_role_description":{"default":null,"description":"Description of the role"},"iam_role_name":{"default":null,"description":"Name to use on IAM role created"},"iam_role_path":{"default":null,"description":"IAM role path"},"iam_role_permissions_boundary":{"default":null,"description":"ARN of the policy that is used to set the permissions boundary for the IAM role"},"iam_role_tags":{"default":{},"description":"A map of additional tags to add to the IAM role created"},"iam_role_use_name_prefix":{"default":true,"description":"Determines whether the IAM role name (`iam_role_name`) is used as a prefix"},"instance_market_options":{"default":{},"description":"The market (purchasing) option for the instance"},"instance_types":{"default":null,"description":"Set of instance types associated with the EKS Node Group. Defaults to `[\"t3.medium\"]`"},"kernel_id":{"default":null,"description":"The kernel ID"},"key_name":{"default":null,"description":"The key name that should be used for the instance(s)"},"labels":{"default":null,"description":"Key-value map of Kubernetes labels. Only labels that are applied with the EKS API are managed by this argument. Other Kubernetes labels applied to the EKS Node Group will not be managed"},"launch_template_default_version":{"default":null,"description":"Default version of the launch template"},"launch_template_description":{"default":null,"description":"Description of the launch template"},"launch_template_name":{"default":"","description":"Launch template name - either to be created (`var.create_launch_template` = `true`) or existing (`var.create_launch_template` = `false`)"},"launch_template_tags":{"default":{},"description":"A map of additional tags to add to the tag_specifications of launch template created"},"launch_template_use_name_prefix":{"default":true,"description":"Determines whether to use `launch_template_name` as is or create a unique name beginning with the `launch_template_name` as the prefix"},"launch_template_version":{"default":null,"description":"Launch template version number. The default is `$Default`"},"license_specifications":{"default":{},"description":"A list of license specifications to associate with"},"max_size":{"default":3,"description":"Maximum number of instances/nodes"},"metadata_options":{"default":{"http_endpoint":"enabled","http_put_response_hop_limit":"2","http_tokens":"required"},"description":"Customize the metadata options for the instance"},"min_size":{"default":0,"description":"Minimum number of instances/nodes"},"name":{"default":"","description":"Name of the EKS managed node group"},"network_interfaces":{"default":[],"description":"Customize network interfaces to be attached at instance boot time"},"placement":{"default":{},"description":"The placement of the instance"},"platform":{"default":"linux","description":"Identifies if the OS platform is `bottlerocket` or `linux` based; `windows` is not supported"},"post_bootstrap_user_data":{"default":"","description":"User data that is appended to the user data script after of the EKS bootstrap script. Not used when `platform` = `bottlerocket`"},"pre_bootstrap_user_data":{"default":"","description":"User data that is injected into the user data script ahead of the EKS bootstrap script. Not used when `platform` = `bottlerocket`"},"ram_disk_id":{"default":null,"description":"The ID of the ram disk"},"remote_access":{"default":{},"description":"Configuration block with remote access settings"},"security_group_description":{"default":"EKS managed node group security group","description":"Description for the security group created"},"security_group_name":{"default":null,"description":"Name to use on security group created"},"security_group_rules":{"default":{},"description":"List of security group rules to add to the security group created"},"security_group_tags":{"default":{},"description":"A map of additional tags to add to the security group created"},"security_group_use_name_prefix":{"default":true,"description":"Determines whether the security group name (`security_group_name`) is used as a prefix"},"subnet_ids":{"default":null,"description":"Identifiers of EC2 Subnets to associate with the EKS Node Group. These subnets must have the following resource tag: `kubernetes.io/cluster/CLUSTER_NAME`"},"tags":{"default":{},"description":"A map of tags to add to all resources"},"taints":{"default":{},"description":"The Kubernetes taints to be applied to the nodes in the node group. Maximum of 50 taints per node group"},"timeouts":{"default":{},"description":"Create, update, and delete timeout configurations for the node group"},"update_config":{"default":{},"description":"Configuration block of settings for max unavailable resources during node group updates"},"update_launch_template_default_version":{"default":true,"description":"Whether to update the launch templates default version on each update. Conflicts with `launch_template_default_version`"},"use_name_prefix":{"default":true,"description":"Determines whether to use `name` as is or create a unique name beginning with the `name` as the prefix"},"user_data_template_path":{"default":"","description":"Path to a local, custom user data template file to use when rendering user data"},"vpc_id":{"default":null,"description":"ID of the VPC where the security group/nodes will be provisioned"},"vpc_security_group_ids":{"default":[],"description":"A list of security group IDs to associate"}}}},"fargate_profile":{"source":"./modules/fargate-profile","expressions":{"cluster_ip_family":{"references":["var.cluster_ip_family"]},"cluster_name":{"references":["aws_eks_cluster.this[0].name","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"create":{"references":["each.value.create","each.value"]},"create_iam_role":{"references":["each.value.create_iam_role","each.value","var.fargate_profile_defaults.create_iam_role","var.fargate_profile_defaults"]},"iam_role_additional_policies":{"references":["each.value.iam_role_additional_policies","each.value","var.fargate_profile_defaults.iam_role_additional_policies","var.fargate_profile_defaults"]},"iam_role_arn":{"references":["each.value.iam_role_arn","each.value","var.fargate_profile_defaults.iam_role_arn","var.fargate_profile_defaults"]},"iam_role_attach_cni_policy":{"references":["each.value.iam_role_attach_cni_policy","each.value","var.fargate_profile_defaults.iam_role_attach_cni_policy","var.fargate_profile_defaults"]},"iam_role_description":{"references":["each.value.iam_role_description","each.value","var.fargate_profile_defaults.iam_role_description","var.fargate_profile_defaults"]},"iam_role_name":{"references":["each.value.iam_role_name","each.value","var.fargate_profile_defaults.iam_role_name","var.fargate_profile_defaults"]},"iam_role_path":{"references":["each.value.iam_role_path","each.value","var.fargate_profile_defaults.iam_role_path","var.fargate_profile_defaults"]},"iam_role_permissions_boundary":{"references":["each.value.iam_role_permissions_boundary","each.value","var.fargate_profile_defaults.iam_role_permissions_boundary","var.fargate_profile_defaults"]},"iam_role_tags":{"references":["each.value.iam_role_tags","each.value","var.fargate_profile_defaults.iam_role_tags","var.fargate_profile_defaults"]},"iam_role_use_name_prefix":{"references":["each.value.iam_role_use_name_prefix","each.value","var.fargate_profile_defaults.iam_role_use_name_prefix","var.fargate_profile_defaults"]},"name":{"references":["each.value.name","each.value","each.key"]},"selectors":{"references":["each.value.selectors","each.value","var.fargate_profile_defaults.selectors","var.fargate_profile_defaults"]},"subnet_ids":{"references":["each.value.subnet_ids","each.value","var.fargate_profile_defaults.subnet_ids","var.fargate_profile_defaults","var.subnet_ids"]},"tags":{"references":["var.tags","each.value.tags","each.value","var.fargate_profile_defaults.tags","var.fargate_profile_defaults"]},"timeouts":{"references":["each.value.timeouts","each.value","var.fargate_profile_defaults.timeouts","var.fargate_profile_defaults"]}},"for_each_expression":{"references":["var.fargate_profiles","var.create"]},"module":{"outputs":{"fargate_profile_arn":{"expression":{"references":["aws_eks_fargate_profile.this[0].arn","aws_eks_fargate_profile.this[0]","aws_eks_fargate_profile.this"]},"description":"Amazon Resource Name (ARN) of the EKS Fargate Profile"},"fargate_profile_id":{"expression":{"references":["aws_eks_fargate_profile.this[0].id","aws_eks_fargate_profile.this[0]","aws_eks_fargate_profile.this"]},"description":"EKS Cluster name and EKS Fargate Profile name separated by a colon (`:`)"},"fargate_profile_pod_execution_role_arn":{"expression":{"references":["aws_eks_fargate_profile.this[0].pod_execution_role_arn","aws_eks_fargate_profile.this[0]","aws_eks_fargate_profile.this"]},"description":"Amazon Resource Name (ARN) of the EKS Fargate Profile Pod execution role ARN"},"fargate_profile_status":{"expression":{"references":["aws_eks_fargate_profile.this[0].status","aws_eks_fargate_profile.this[0]","aws_eks_fargate_profile.this"]},"description":"Status of the EKS Fargate Profile"},"iam_role_arn":{"expression":{"references":["aws_iam_role.this[0].arn","aws_iam_role.this[0]","aws_iam_role.this","var.iam_role_arn"]},"description":"The Amazon Resource Name (ARN) specifying the IAM role"},"iam_role_name":{"expression":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"The name of the IAM role"},"iam_role_unique_id":{"expression":{"references":["aws_iam_role.this[0].unique_id","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"Stable and unique string identifying the IAM role"}},"resources":[{"address":"aws_eks_fargate_profile.this","mode":"managed","type":"aws_eks_fargate_profile","name":"this","provider_config_key":"aws","expressions":{"cluster_name":{"references":["var.cluster_name"]},"fargate_profile_name":{"references":["var.name"]},"pod_execution_role_arn":{"references":["var.create_iam_role","aws_iam_role.this[0].arn","aws_iam_role.this[0]","aws_iam_role.this","var.iam_role_arn"]},"subnet_ids":{"references":["var.subnet_ids"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create"]}},{"address":"aws_iam_role.this","mode":"managed","type":"aws_iam_role","name":"this","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role_policy[0].json","data.aws_iam_policy_document.assume_role_policy[0]","data.aws_iam_policy_document.assume_role_policy"]},"description":{"references":["var.iam_role_description"]},"force_detach_policies":{"constant_value":true},"name":{"references":["var.iam_role_use_name_prefix","local.iam_role_name"]},"name_prefix":{"references":["var.iam_role_use_name_prefix","local.iam_role_name"]},"path":{"references":["var.iam_role_path"]},"permissions_boundary":{"references":["var.iam_role_permissions_boundary"]},"tags":{"references":["var.tags","var.iam_role_tags"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_iam_role"]}},{"address":"aws_iam_role_policy_attachment.this","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","provider_config_key":"aws","expressions":{"policy_arn":{"references":["each.value"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"for_each_expression":{"references":["var.create","var.create_iam_role","local.iam_role_policy_prefix","var.iam_role_attach_cni_policy","local.cni_policy","var.iam_role_additional_policies"]}},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_iam_policy_document.assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"assume_role_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["eks-fargate-pods.amazonaws.com"]},"type":{"constant_value":"Service"}}]}]},"schema_version":0,"count_expression":{"references":["var.create","var.create_iam_role"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0}],"variables":{"cluster_ip_family":{"default":null,"description":"The IP family used to assign Kubernetes pod and service addresses. Valid values are `ipv4` (default) and `ipv6`"},"cluster_name":{"default":null,"description":"Name of the EKS cluster"},"create":{"default":true,"description":"Determines whether to create Fargate profile or not"},"create_iam_role":{"default":true,"description":"Determines whether an IAM role is created or to use an existing IAM role"},"iam_role_additional_policies":{"default":[],"description":"Additional policies to be added to the IAM role"},"iam_role_arn":{"default":null,"description":"Existing IAM role ARN for the Fargate profile. Required if `create_iam_role` is set to `false`"},"iam_role_attach_cni_policy":{"default":true,"description":"Whether to attach the `AmazonEKS_CNI_Policy`/`AmazonEKS_CNI_IPv6_Policy` IAM policy to the IAM IAM role. WARNING: If set `false` the permissions must be assigned to the `aws-node` DaemonSet pods via another method or nodes will not be able to join the cluster"},"iam_role_description":{"default":null,"description":"Description of the role"},"iam_role_name":{"default":"","description":"Name to use on IAM role created"},"iam_role_path":{"default":null,"description":"IAM role path"},"iam_role_permissions_boundary":{"default":null,"description":"ARN of the policy that is used to set the permissions boundary for the IAM role"},"iam_role_tags":{"default":{},"description":"A map of additional tags to add to the IAM role created"},"iam_role_use_name_prefix":{"default":true,"description":"Determines whether the IAM role name (`iam_role_name`) is used as a prefix"},"name":{"default":"","description":"Name of the EKS Fargate Profile"},"selectors":{"default":[],"description":"Configuration block(s) for selecting Kubernetes Pods to execute with this Fargate Profile"},"subnet_ids":{"default":[],"description":"A list of subnet IDs for the EKS Fargate Profile"},"tags":{"default":{},"description":"A map of tags to add to all resources"},"timeouts":{"default":{},"description":"Create and delete timeout configurations for the Fargate Profile"}}}},"kms":{"source":"terraform-aws-modules/kms/aws","expressions":{"aliases":{"references":["var.cluster_name","var.kms_key_aliases"]},"create":{"references":["local.create","var.create_kms_key"]},"deletion_window_in_days":{"references":["var.kms_key_deletion_window_in_days"]},"description":{"references":["var.kms_key_description","var.cluster_name"]},"enable_default_policy":{"references":["var.kms_key_enable_default_policy"]},"enable_key_rotation":{"references":["var.enable_kms_key_rotation"]},"key_administrators":{"references":["var.kms_key_administrators","data.aws_caller_identity.current.arn","data.aws_caller_identity.current"]},"key_owners":{"references":["var.kms_key_owners"]},"key_service_users":{"references":["var.kms_key_service_users"]},"key_usage":{"constant_value":"ENCRYPT_DECRYPT"},"key_users":{"references":["local.cluster_role","var.kms_key_users"]},"override_policy_documents":{"references":["var.kms_key_override_policy_documents"]},"source_policy_documents":{"references":["var.kms_key_source_policy_documents"]},"tags":{"references":["var.tags"]}},"module":{"outputs":{"aliases":{"expression":{"references":["aws_kms_alias.this"]},"description":"A map of aliases created and their attributes"},"external_key_expiration_model":{"expression":{"references":["aws_kms_external_key.this[0].expiration_model","aws_kms_external_key.this[0]","aws_kms_external_key.this"]},"description":"Whether the key material expires. Empty when pending key material import, otherwise `KEY_MATERIAL_EXPIRES` or `KEY_MATERIAL_DOES_NOT_EXPIRE`"},"external_key_state":{"expression":{"references":["aws_kms_external_key.this[0].key_state","aws_kms_external_key.this[0]","aws_kms_external_key.this"]},"description":"The state of the CMK"},"external_key_usage":{"expression":{"references":["aws_kms_external_key.this[0].key_usage","aws_kms_external_key.this[0]","aws_kms_external_key.this"]},"description":"The cryptographic operations for which you can use the CMK"},"grants":{"expression":{"references":["aws_kms_grant.this"]},"description":"A map of grants created and their attributes"},"key_arn":{"expression":{"references":["aws_kms_key.this[0].arn","aws_kms_key.this[0]","aws_kms_key.this","aws_kms_external_key.this[0].arn","aws_kms_external_key.this[0]","aws_kms_external_key.this"]},"description":"The Amazon Resource Name (ARN) of the key"},"key_id":{"expression":{"references":["aws_kms_key.this[0].key_id","aws_kms_key.this[0]","aws_kms_key.this","aws_kms_external_key.this[0].id","aws_kms_external_key.this[0]","aws_kms_external_key.this"]},"description":"The globally unique identifier for the key"},"key_policy":{"expression":{"references":["aws_kms_key.this[0].policy","aws_kms_key.this[0]","aws_kms_key.this","aws_kms_external_key.this[0].policy","aws_kms_external_key.this[0]","aws_kms_external_key.this"]},"description":"The IAM resource policy set on the key"}},"resources":[{"address":"aws_kms_alias.this","mode":"managed","type":"aws_kms_alias","name":"this","provider_config_key":"aws","expressions":{"name":{"references":["var.aliases_use_name_prefix","each.value"]},"name_prefix":{"references":["var.aliases_use_name_prefix","each.value"]},"target_key_id":{"references":["aws_kms_key.this[0].id","aws_kms_key.this[0]","aws_kms_key.this"]}},"schema_version":0,"for_each_expression":{"references":["var.aliases","var.create"]}},{"address":"aws_kms_external_key.this","mode":"managed","type":"aws_kms_external_key","name":"this","provider_config_key":"aws","expressions":{"bypass_policy_lockout_safety_check":{"references":["var.bypass_policy_lockout_safety_check"]},"deletion_window_in_days":{"references":["var.deletion_window_in_days"]},"description":{"references":["var.description"]},"enabled":{"references":["var.is_enabled"]},"key_material_base64":{"references":["var.key_material_base64"]},"multi_region":{"references":["var.multi_region"]},"policy":{"references":["var.policy","data.aws_iam_policy_document.this[0].json","data.aws_iam_policy_document.this[0]","data.aws_iam_policy_document.this"]},"tags":{"references":["var.tags"]},"valid_to":{"references":["var.valid_to"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_external"]}},{"address":"aws_kms_grant.this","mode":"managed","type":"aws_kms_grant","name":"this","provider_config_key":"aws","expressions":{"grant_creation_tokens":{"references":["each.value.grant_creation_tokens","each.value"]},"grantee_principal":{"references":["each.value.grantee_principal","each.value"]},"key_id":{"references":["aws_kms_key.this[0].key_id","aws_kms_key.this[0]","aws_kms_key.this"]},"name":{"references":["each.value.name","each.value","each.key"]},"operations":{"references":["each.value.operations","each.value"]},"retire_on_delete":{"references":["each.value.retire_on_delete","each.value"]},"retiring_principal":{"references":["each.value.retiring_principal","each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.grants","var.create"]}},{"address":"aws_kms_key.this","mode":"managed","type":"aws_kms_key","name":"this","provider_config_key":"aws","expressions":{"bypass_policy_lockout_safety_check":{"references":["var.bypass_policy_lockout_safety_check"]},"customer_master_key_spec":{"references":["var.customer_master_key_spec"]},"deletion_window_in_days":{"references":["var.deletion_window_in_days"]},"description":{"references":["var.description"]},"enable_key_rotation":{"references":["var.enable_key_rotation"]},"is_enabled":{"references":["var.is_enabled"]},"key_usage":{"references":["var.key_usage"]},"multi_region":{"references":["var.multi_region"]},"policy":{"references":["var.policy","data.aws_iam_policy_document.this[0].json","data.aws_iam_policy_document.this[0]","data.aws_iam_policy_document.this"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_external"]}},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_iam_policy_document.this","mode":"data","type":"aws_iam_policy_document","name":"this","provider_config_key":"aws","expressions":{"override_policy_documents":{"references":["var.override_policy_documents"]},"source_policy_documents":{"references":["var.source_policy_documents"]}},"schema_version":0,"count_expression":{"references":["var.create"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0}],"variables":{"aliases":{"default":[],"description":"A list of aliases to create. Note - due to the use of `toset()`, values must be static strings and not computed values"},"aliases_use_name_prefix":{"default":false,"description":"Determines whether the alias name is used as a prefix"},"bypass_policy_lockout_safety_check":{"default":null,"description":"A flag to indicate whether to bypass the key policy lockout safety check. Setting this value to true increases the risk that the KMS key becomes unmanageable"},"create":{"default":true,"description":"Determines whether resources will be created (affects all resources)"},"create_external":{"default":false,"description":"Determines whether an external CMK (externally provided material) will be created or a standard CMK (AWS provided material)"},"customer_master_key_spec":{"default":null,"description":"Specifies whether the key contains a symmetric key or an asymmetric key pair and the encryption algorithms or signing algorithms that the key supports. Valid values: `SYMMETRIC_DEFAULT`, `RSA_2048`, `RSA_3072`, `RSA_4096`, `HMAC_256`, `ECC_NIST_P256`, `ECC_NIST_P384`, `ECC_NIST_P521`, or `ECC_SECG_P256K1`. Defaults to `SYMMETRIC_DEFAULT`"},"deletion_window_in_days":{"default":null,"description":"The waiting period, specified in number of days. After the waiting period ends, AWS KMS deletes the KMS key. If you specify a value, it must be between `7` and `30`, inclusive. If you do not specify a value, it defaults to `30`"},"description":{"default":null,"description":"The description of the key as viewed in AWS console"},"enable_default_policy":{"default":true,"description":"Specifies whether to enable the default key policy. Defaults to `true`"},"enable_key_rotation":{"default":true,"description":"Specifies whether key rotation is enabled. Defaults to `true`"},"grants":{"default":{},"description":"A map of grant definitions to create"},"is_enabled":{"default":null,"description":"Specifies whether the key is enabled. Defaults to `true`"},"key_administrators":{"default":[],"description":"A list of IAM ARNs for [key administrators](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-default-allow-administrators)"},"key_asymmetric_public_encryption_users":{"default":[],"description":"A list of IAM ARNs for [key asymmetric public encryption users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-users-crypto)"},"key_asymmetric_sign_verify_users":{"default":[],"description":"A list of IAM ARNs for [key asymmetric sign and verify users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-users-crypto)"},"key_hmac_users":{"default":[],"description":"A list of IAM ARNs for [key HMAC users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-users-crypto)"},"key_material_base64":{"default":null,"description":"Base64 encoded 256-bit symmetric encryption key material to import. The CMK is permanently associated with this key material. External key only"},"key_owners":{"default":[],"description":"A list of IAM ARNs for those who will have full key permissions (`kms:*`)"},"key_service_users":{"default":[],"description":"A list of IAM ARNs for [key service users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-service-integration)"},"key_symmetric_encryption_users":{"default":[],"description":"A list of IAM ARNs for [key symmetric encryption users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-users-crypto)"},"key_usage":{"default":null,"description":"Specifies the intended use of the key. Valid values: `ENCRYPT_DECRYPT` or `SIGN_VERIFY`. Defaults to `ENCRYPT_DECRYPT`"},"key_users":{"default":[],"description":"A list of IAM ARNs for [key users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-default-allow-users)"},"multi_region":{"default":false,"description":"Indicates whether the KMS key is a multi-Region (`true`) or regional (`false`) key. Defaults to `false`"},"override_policy_documents":{"default":[],"description":"List of IAM policy documents that are merged together into the exported document. In merging, statements with non-blank `sid`s will override statements with the same `sid`"},"policy":{"default":null,"description":"A valid policy JSON document. Although this is a key policy, not an IAM policy, an `aws_iam_policy_document`, in the form that designates a principal, can be used"},"source_policy_documents":{"default":[],"description":"List of IAM policy documents that are merged together into the exported document. Statements must have unique `sid`s"},"tags":{"default":{},"description":"A map of tags to add to all resources"},"valid_to":{"default":null,"description":"Time at which the imported key material expires. When the key material expires, AWS KMS deletes the key material and the CMK becomes unusable. If not specified, key material does not expire"}}},"version_constraint":"1.0.2"},"self_managed_node_group":{"source":"./modules/self-managed-node-group","expressions":{"ami_id":{"references":["each.value.ami_id","each.value","var.self_managed_node_group_defaults.ami_id","var.self_managed_node_group_defaults"]},"autoscaling_group_tags":{"references":["each.value.autoscaling_group_tags","each.value","var.self_managed_node_group_defaults.autoscaling_group_tags","var.self_managed_node_group_defaults"]},"availability_zones":{"references":["each.value.availability_zones","each.value","var.self_managed_node_group_defaults.availability_zones","var.self_managed_node_group_defaults"]},"block_device_mappings":{"references":["each.value.block_device_mappings","each.value","var.self_managed_node_group_defaults.block_device_mappings","var.self_managed_node_group_defaults"]},"bootstrap_extra_args":{"references":["each.value.bootstrap_extra_args","each.value","var.self_managed_node_group_defaults.bootstrap_extra_args","var.self_managed_node_group_defaults"]},"capacity_rebalance":{"references":["each.value.capacity_rebalance","each.value","var.self_managed_node_group_defaults.capacity_rebalance","var.self_managed_node_group_defaults"]},"capacity_reservation_specification":{"references":["each.value.capacity_reservation_specification","each.value","var.self_managed_node_group_defaults.capacity_reservation_specification","var.self_managed_node_group_defaults"]},"cluster_auth_base64":{"references":["aws_eks_cluster.this[0].certificate_authority[0].data","aws_eks_cluster.this[0].certificate_authority[0]","aws_eks_cluster.this[0].certificate_authority","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"cluster_endpoint":{"references":["aws_eks_cluster.this[0].endpoint","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"cluster_ip_family":{"references":["var.cluster_ip_family"]},"cluster_name":{"references":["aws_eks_cluster.this[0].name","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"cluster_primary_security_group_id":{"references":["each.value.attach_cluster_primary_security_group","each.value","var.self_managed_node_group_defaults.attach_cluster_primary_security_group","var.self_managed_node_group_defaults","aws_eks_cluster.this[0].vpc_config[0].cluster_security_group_id","aws_eks_cluster.this[0].vpc_config[0]","aws_eks_cluster.this[0].vpc_config","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"cluster_security_group_id":{"references":["local.cluster_security_group_id"]},"cluster_version":{"references":["each.value.cluster_version","each.value","var.self_managed_node_group_defaults.cluster_version","var.self_managed_node_group_defaults","aws_eks_cluster.this[0].version","aws_eks_cluster.this[0]","aws_eks_cluster.this"]},"cpu_options":{"references":["each.value.cpu_options","each.value","var.self_managed_node_group_defaults.cpu_options","var.self_managed_node_group_defaults"]},"create":{"references":["each.value.create","each.value"]},"create_autoscaling_group":{"references":["each.value.create_autoscaling_group","each.value","var.self_managed_node_group_defaults.create_autoscaling_group","var.self_managed_node_group_defaults"]},"create_iam_instance_profile":{"references":["each.value.create_iam_instance_profile","each.value","var.self_managed_node_group_defaults.create_iam_instance_profile","var.self_managed_node_group_defaults"]},"create_launch_template":{"references":["each.value.create_launch_template","each.value","var.self_managed_node_group_defaults.create_launch_template","var.self_managed_node_group_defaults"]},"create_schedule":{"references":["each.value.create_schedule","each.value","var.self_managed_node_group_defaults.create_schedule","var.self_managed_node_group_defaults"]},"create_security_group":{"references":["each.value.create_security_group","each.value","var.self_managed_node_group_defaults.create_security_group","var.self_managed_node_group_defaults"]},"credit_specification":{"references":["each.value.credit_specification","each.value","var.self_managed_node_group_defaults.credit_specification","var.self_managed_node_group_defaults"]},"default_cooldown":{"references":["each.value.default_cooldown","each.value","var.self_managed_node_group_defaults.default_cooldown","var.self_managed_node_group_defaults"]},"delete_timeout":{"references":["each.value.delete_timeout","each.value","var.self_managed_node_group_defaults.delete_timeout","var.self_managed_node_group_defaults"]},"desired_size":{"references":["each.value.desired_size","each.value","var.self_managed_node_group_defaults.desired_size","var.self_managed_node_group_defaults"]},"disable_api_termination":{"references":["each.value.disable_api_termination","each.value","var.self_managed_node_group_defaults.disable_api_termination","var.self_managed_node_group_defaults"]},"ebs_optimized":{"references":["each.value.ebs_optimized","each.value","var.self_managed_node_group_defaults.ebs_optimized","var.self_managed_node_group_defaults"]},"elastic_gpu_specifications":{"references":["each.value.elastic_gpu_specifications","each.value","var.self_managed_node_group_defaults.elastic_gpu_specifications","var.self_managed_node_group_defaults"]},"elastic_inference_accelerator":{"references":["each.value.elastic_inference_accelerator","each.value","var.self_managed_node_group_defaults.elastic_inference_accelerator","var.self_managed_node_group_defaults"]},"enable_monitoring":{"references":["each.value.enable_monitoring","each.value","var.self_managed_node_group_defaults.enable_monitoring","var.self_managed_node_group_defaults"]},"enabled_metrics":{"references":["each.value.enabled_metrics","each.value","var.self_managed_node_group_defaults.enabled_metrics","var.self_managed_node_group_defaults"]},"enclave_options":{"references":["each.value.enclave_options","each.value","var.self_managed_node_group_defaults.enclave_options","var.self_managed_node_group_defaults"]},"force_delete":{"references":["each.value.force_delete","each.value","var.self_managed_node_group_defaults.force_delete","var.self_managed_node_group_defaults"]},"health_check_grace_period":{"references":["each.value.health_check_grace_period","each.value","var.self_managed_node_group_defaults.health_check_grace_period","var.self_managed_node_group_defaults"]},"health_check_type":{"references":["each.value.health_check_type","each.value","var.self_managed_node_group_defaults.health_check_type","var.self_managed_node_group_defaults"]},"hibernation_options":{"references":["each.value.hibernation_options","each.value","var.self_managed_node_group_defaults.hibernation_options","var.self_managed_node_group_defaults"]},"iam_instance_profile_arn":{"references":["each.value.iam_instance_profile_arn","each.value","var.self_managed_node_group_defaults.iam_instance_profile_arn","var.self_managed_node_group_defaults"]},"iam_role_additional_policies":{"references":["each.value.iam_role_additional_policies","each.value","var.self_managed_node_group_defaults.iam_role_additional_policies","var.self_managed_node_group_defaults"]},"iam_role_attach_cni_policy":{"references":["each.value.iam_role_attach_cni_policy","each.value","var.self_managed_node_group_defaults.iam_role_attach_cni_policy","var.self_managed_node_group_defaults"]},"iam_role_description":{"references":["each.value.iam_role_description","each.value","var.self_managed_node_group_defaults.iam_role_description","var.self_managed_node_group_defaults"]},"iam_role_name":{"references":["each.value.iam_role_name","each.value","var.self_managed_node_group_defaults.iam_role_name","var.self_managed_node_group_defaults"]},"iam_role_path":{"references":["each.value.iam_role_path","each.value","var.self_managed_node_group_defaults.iam_role_path","var.self_managed_node_group_defaults"]},"iam_role_permissions_boundary":{"references":["each.value.iam_role_permissions_boundary","each.value","var.self_managed_node_group_defaults.iam_role_permissions_boundary","var.self_managed_node_group_defaults"]},"iam_role_tags":{"references":["each.value.iam_role_tags","each.value","var.self_managed_node_group_defaults.iam_role_tags","var.self_managed_node_group_defaults"]},"iam_role_use_name_prefix":{"references":["each.value.iam_role_use_name_prefix","each.value","var.self_managed_node_group_defaults.iam_role_use_name_prefix","var.self_managed_node_group_defaults"]},"initial_lifecycle_hooks":{"references":["each.value.initial_lifecycle_hooks","each.value","var.self_managed_node_group_defaults.initial_lifecycle_hooks","var.self_managed_node_group_defaults"]},"instance_initiated_shutdown_behavior":{"references":["each.value.instance_initiated_shutdown_behavior","each.value","var.self_managed_node_group_defaults.instance_initiated_shutdown_behavior","var.self_managed_node_group_defaults"]},"instance_market_options":{"references":["each.value.instance_market_options","each.value","var.self_managed_node_group_defaults.instance_market_options","var.self_managed_node_group_defaults"]},"instance_refresh":{"references":["each.value.instance_refresh","each.value","var.self_managed_node_group_defaults.instance_refresh","var.self_managed_node_group_defaults"]},"instance_type":{"references":["each.value.instance_type","each.value","var.self_managed_node_group_defaults.instance_type","var.self_managed_node_group_defaults"]},"kernel_id":{"references":["each.value.kernel_id","each.value","var.self_managed_node_group_defaults.kernel_id","var.self_managed_node_group_defaults"]},"key_name":{"references":["each.value.key_name","each.value","var.self_managed_node_group_defaults.key_name","var.self_managed_node_group_defaults"]},"launch_template_default_version":{"references":["each.value.launch_template_default_version","each.value","var.self_managed_node_group_defaults.launch_template_default_version","var.self_managed_node_group_defaults"]},"launch_template_description":{"references":["each.value.launch_template_description","each.value","var.self_managed_node_group_defaults.launch_template_description","var.self_managed_node_group_defaults","each.value.name","each.value","each.key"]},"launch_template_name":{"references":["each.value.launch_template_name","each.value","var.self_managed_node_group_defaults.launch_template_name","var.self_managed_node_group_defaults","each.key"]},"launch_template_tags":{"references":["each.value.launch_template_tags","each.value","var.self_managed_node_group_defaults.launch_template_tags","var.self_managed_node_group_defaults"]},"launch_template_use_name_prefix":{"references":["each.value.launch_template_use_name_prefix","each.value","var.self_managed_node_group_defaults.launch_template_use_name_prefix","var.self_managed_node_group_defaults"]},"launch_template_version":{"references":["each.value.launch_template_version","each.value","var.self_managed_node_group_defaults.launch_template_version","var.self_managed_node_group_defaults"]},"license_specifications":{"references":["each.value.license_specifications","each.value","var.self_managed_node_group_defaults.license_specifications","var.self_managed_node_group_defaults"]},"max_instance_lifetime":{"references":["each.value.max_instance_lifetime","each.value","var.self_managed_node_group_defaults.max_instance_lifetime","var.self_managed_node_group_defaults"]},"max_size":{"references":["each.value.max_size","each.value","var.self_managed_node_group_defaults.max_size","var.self_managed_node_group_defaults"]},"metadata_options":{"references":["each.value.metadata_options","each.value","var.self_managed_node_group_defaults.metadata_options","var.self_managed_node_group_defaults","local.metadata_options"]},"metrics_granularity":{"references":["each.value.metrics_granularity","each.value","var.self_managed_node_group_defaults.metrics_granularity","var.self_managed_node_group_defaults"]},"min_elb_capacity":{"references":["each.value.min_elb_capacity","each.value","var.self_managed_node_group_defaults.min_elb_capacity","var.self_managed_node_group_defaults"]},"min_size":{"references":["each.value.min_size","each.value","var.self_managed_node_group_defaults.min_size","var.self_managed_node_group_defaults"]},"mixed_instances_policy":{"references":["each.value.mixed_instances_policy","each.value","var.self_managed_node_group_defaults.mixed_instances_policy","var.self_managed_node_group_defaults"]},"name":{"references":["each.value.name","each.value","each.key"]},"network_interfaces":{"references":["each.value.network_interfaces","each.value","var.self_managed_node_group_defaults.network_interfaces","var.self_managed_node_group_defaults"]},"placement":{"references":["each.value.placement","each.value","var.self_managed_node_group_defaults.placement","var.self_managed_node_group_defaults"]},"placement_group":{"references":["each.value.placement_group","each.value","var.self_managed_node_group_defaults.placement_group","var.self_managed_node_group_defaults"]},"platform":{"references":["each.value.platform","each.value","var.self_managed_node_group_defaults.platform","var.self_managed_node_group_defaults"]},"post_bootstrap_user_data":{"references":["each.value.post_bootstrap_user_data","each.value","var.self_managed_node_group_defaults.post_bootstrap_user_data","var.self_managed_node_group_defaults"]},"pre_bootstrap_user_data":{"references":["each.value.pre_bootstrap_user_data","each.value","var.self_managed_node_group_defaults.pre_bootstrap_user_data","var.self_managed_node_group_defaults"]},"protect_from_scale_in":{"references":["each.value.protect_from_scale_in","each.value","var.self_managed_node_group_defaults.protect_from_scale_in","var.self_managed_node_group_defaults"]},"ram_disk_id":{"references":["each.value.ram_disk_id","each.value","var.self_managed_node_group_defaults.ram_disk_id","var.self_managed_node_group_defaults"]},"schedules":{"references":["each.value.schedules","each.value","var.self_managed_node_group_defaults.schedules","var.self_managed_node_group_defaults"]},"security_group_description":{"references":["each.value.security_group_description","each.value","var.self_managed_node_group_defaults.security_group_description","var.self_managed_node_group_defaults"]},"security_group_name":{"references":["each.value.security_group_name","each.value","var.self_managed_node_group_defaults.security_group_name","var.self_managed_node_group_defaults"]},"security_group_rules":{"references":["each.value.security_group_rules","each.value","var.self_managed_node_group_defaults.security_group_rules","var.self_managed_node_group_defaults"]},"security_group_tags":{"references":["each.value.security_group_tags","each.value","var.self_managed_node_group_defaults.security_group_tags","var.self_managed_node_group_defaults"]},"security_group_use_name_prefix":{"references":["each.value.security_group_use_name_prefix","each.value","var.self_managed_node_group_defaults.security_group_use_name_prefix","var.self_managed_node_group_defaults"]},"service_linked_role_arn":{"references":["each.value.service_linked_role_arn","each.value","var.self_managed_node_group_defaults.service_linked_role_arn","var.self_managed_node_group_defaults"]},"subnet_ids":{"references":["each.value.subnet_ids","each.value","var.self_managed_node_group_defaults.subnet_ids","var.self_managed_node_group_defaults","var.subnet_ids"]},"suspended_processes":{"references":["each.value.suspended_processes","each.value","var.self_managed_node_group_defaults.suspended_processes","var.self_managed_node_group_defaults"]},"tags":{"references":["var.tags","each.value.tags","each.value","var.self_managed_node_group_defaults.tags","var.self_managed_node_group_defaults"]},"target_group_arns":{"references":["each.value.target_group_arns","each.value","var.self_managed_node_group_defaults.target_group_arns","var.self_managed_node_group_defaults"]},"termination_policies":{"references":["each.value.termination_policies","each.value","var.self_managed_node_group_defaults.termination_policies","var.self_managed_node_group_defaults"]},"update_launch_template_default_version":{"references":["each.value.update_launch_template_default_version","each.value","var.self_managed_node_group_defaults.update_launch_template_default_version","var.self_managed_node_group_defaults"]},"use_default_tags":{"references":["each.value.use_default_tags","each.value","var.self_managed_node_group_defaults.use_default_tags","var.self_managed_node_group_defaults"]},"use_mixed_instances_policy":{"references":["each.value.use_mixed_instances_policy","each.value","var.self_managed_node_group_defaults.use_mixed_instances_policy","var.self_managed_node_group_defaults"]},"use_name_prefix":{"references":["each.value.use_name_prefix","each.value","var.self_managed_node_group_defaults.use_name_prefix","var.self_managed_node_group_defaults"]},"user_data_template_path":{"references":["each.value.user_data_template_path","each.value","var.self_managed_node_group_defaults.user_data_template_path","var.self_managed_node_group_defaults"]},"vpc_id":{"references":["each.value.vpc_id","each.value","var.self_managed_node_group_defaults.vpc_id","var.self_managed_node_group_defaults","var.vpc_id"]},"vpc_security_group_ids":{"references":["local.node_security_group_id","each.value.vpc_security_group_ids","each.value","var.self_managed_node_group_defaults.vpc_security_group_ids","var.self_managed_node_group_defaults"]},"wait_for_capacity_timeout":{"references":["each.value.wait_for_capacity_timeout","each.value","var.self_managed_node_group_defaults.wait_for_capacity_timeout","var.self_managed_node_group_defaults"]},"wait_for_elb_capacity":{"references":["each.value.wait_for_elb_capacity","each.value","var.self_managed_node_group_defaults.wait_for_elb_capacity","var.self_managed_node_group_defaults"]},"warm_pool":{"references":["each.value.warm_pool","each.value","var.self_managed_node_group_defaults.warm_pool","var.self_managed_node_group_defaults"]}},"for_each_expression":{"references":["var.self_managed_node_groups","var.create"]},"module":{"outputs":{"autoscaling_group_arn":{"expression":{"references":["aws_autoscaling_group.this[0].arn","aws_autoscaling_group.this[0]","aws_autoscaling_group.this"]},"description":"The ARN for this autoscaling group"},"autoscaling_group_availability_zones":{"expression":{"references":["aws_autoscaling_group.this[0].availability_zones","aws_autoscaling_group.this[0]","aws_autoscaling_group.this"]},"description":"The availability zones of the autoscaling group"},"autoscaling_group_default_cooldown":{"expression":{"references":["aws_autoscaling_group.this[0].default_cooldown","aws_autoscaling_group.this[0]","aws_autoscaling_group.this"]},"description":"Time between a scaling activity and the succeeding scaling activity"},"autoscaling_group_desired_capacity":{"expression":{"references":["aws_autoscaling_group.this[0].desired_capacity","aws_autoscaling_group.this[0]","aws_autoscaling_group.this"]},"description":"The number of Amazon EC2 instances that should be running in the group"},"autoscaling_group_health_check_grace_period":{"expression":{"references":["aws_autoscaling_group.this[0].health_check_grace_period","aws_autoscaling_group.this[0]","aws_autoscaling_group.this"]},"description":"Time after instance comes into service before checking health"},"autoscaling_group_health_check_type":{"expression":{"references":["aws_autoscaling_group.this[0].health_check_type","aws_autoscaling_group.this[0]","aws_autoscaling_group.this"]},"description":"EC2 or ELB. Controls how health checking is done"},"autoscaling_group_id":{"expression":{"references":["aws_autoscaling_group.this[0].id","aws_autoscaling_group.this[0]","aws_autoscaling_group.this"]},"description":"The autoscaling group id"},"autoscaling_group_max_size":{"expression":{"references":["aws_autoscaling_group.this[0].max_size","aws_autoscaling_group.this[0]","aws_autoscaling_group.this"]},"description":"The maximum size of the autoscaling group"},"autoscaling_group_min_size":{"expression":{"references":["aws_autoscaling_group.this[0].min_size","aws_autoscaling_group.this[0]","aws_autoscaling_group.this"]},"description":"The minimum size of the autoscaling group"},"autoscaling_group_name":{"expression":{"references":["aws_autoscaling_group.this[0].name","aws_autoscaling_group.this[0]","aws_autoscaling_group.this"]},"description":"The autoscaling group name"},"autoscaling_group_schedule_arns":{"expression":{"references":["aws_autoscaling_schedule.this"]},"description":"ARNs of autoscaling group schedules"},"autoscaling_group_vpc_zone_identifier":{"expression":{"references":["aws_autoscaling_group.this[0].vpc_zone_identifier","aws_autoscaling_group.this[0]","aws_autoscaling_group.this"]},"description":"The VPC zone identifier"},"iam_instance_profile_arn":{"expression":{"references":["aws_iam_instance_profile.this[0].arn","aws_iam_instance_profile.this[0]","aws_iam_instance_profile.this","var.iam_instance_profile_arn"]},"description":"ARN assigned by AWS to the instance profile"},"iam_instance_profile_id":{"expression":{"references":["aws_iam_instance_profile.this[0].id","aws_iam_instance_profile.this[0]","aws_iam_instance_profile.this"]},"description":"Instance profile's ID"},"iam_instance_profile_unique":{"expression":{"references":["aws_iam_instance_profile.this[0].unique_id","aws_iam_instance_profile.this[0]","aws_iam_instance_profile.this"]},"description":"Stable and unique string identifying the IAM instance profile"},"iam_role_arn":{"expression":{"references":["aws_iam_role.this[0].arn","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"The Amazon Resource Name (ARN) specifying the IAM role"},"iam_role_name":{"expression":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"The name of the IAM role"},"iam_role_unique_id":{"expression":{"references":["aws_iam_role.this[0].unique_id","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"Stable and unique string identifying the IAM role"},"image_id":{"expression":{"references":["aws_launch_template.this[0].image_id","aws_launch_template.this[0]","aws_launch_template.this"]},"description":"ID of the image"},"launch_template_arn":{"expression":{"references":["aws_launch_template.this[0].arn","aws_launch_template.this[0]","aws_launch_template.this"]},"description":"The ARN of the launch template"},"launch_template_id":{"expression":{"references":["aws_launch_template.this[0].id","aws_launch_template.this[0]","aws_launch_template.this"]},"description":"The ID of the launch template"},"launch_template_latest_version":{"expression":{"references":["aws_launch_template.this[0].latest_version","aws_launch_template.this[0]","aws_launch_template.this"]},"description":"The latest version of the launch template"},"launch_template_name":{"expression":{"references":["aws_launch_template.this[0].name","aws_launch_template.this[0]","aws_launch_template.this"]},"description":"The name of the launch template"},"platform":{"expression":{"references":["var.platform"]},"description":"Identifies if the OS platform is `bottlerocket`, `linux`, or `windows` based"},"security_group_arn":{"expression":{"references":["aws_security_group.this[0].arn","aws_security_group.this[0]","aws_security_group.this"]},"description":"Amazon Resource Name (ARN) of the security group"},"security_group_id":{"expression":{"references":["aws_security_group.this[0].id","aws_security_group.this[0]","aws_security_group.this"]},"description":"ID of the security group"},"user_data":{"expression":{"references":["module.user_data.user_data","module.user_data"]},"description":"Base64 encoded user data"}},"resources":[{"address":"aws_autoscaling_group.this","mode":"managed","type":"aws_autoscaling_group","name":"this","provider_config_key":"aws","expressions":{"availability_zones":{"references":["var.availability_zones"]},"capacity_rebalance":{"references":["var.capacity_rebalance"]},"default_cooldown":{"references":["var.default_cooldown"]},"desired_capacity":{"references":["var.desired_size"]},"enabled_metrics":{"references":["var.enabled_metrics"]},"force_delete":{"references":["var.force_delete"]},"health_check_grace_period":{"references":["var.health_check_grace_period"]},"health_check_type":{"references":["var.health_check_type"]},"max_instance_lifetime":{"references":["var.max_instance_lifetime"]},"max_size":{"references":["var.max_size"]},"metrics_granularity":{"references":["var.metrics_granularity"]},"min_elb_capacity":{"references":["var.min_elb_capacity"]},"min_size":{"references":["var.min_size"]},"name":{"references":["var.use_name_prefix","var.name"]},"name_prefix":{"references":["var.use_name_prefix","var.name"]},"placement_group":{"references":["var.placement_group"]},"protect_from_scale_in":{"references":["var.protect_from_scale_in"]},"service_linked_role_arn":{"references":["var.service_linked_role_arn"]},"suspended_processes":{"references":["var.suspended_processes"]},"target_group_arns":{"references":["var.target_group_arns"]},"termination_policies":{"references":["var.termination_policies"]},"timeouts":{"delete":{"references":["var.delete_timeout"]}},"vpc_zone_identifier":{"references":["var.subnet_ids"]},"wait_for_capacity_timeout":{"references":["var.wait_for_capacity_timeout"]},"wait_for_elb_capacity":{"references":["var.wait_for_elb_capacity"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_autoscaling_group"]}},{"address":"aws_autoscaling_schedule.this","mode":"managed","type":"aws_autoscaling_schedule","name":"this","provider_config_key":"aws","expressions":{"autoscaling_group_name":{"references":["aws_autoscaling_group.this[0].name","aws_autoscaling_group.this[0]","aws_autoscaling_group.this"]},"desired_capacity":{"references":["each.value"]},"end_time":{"references":["each.value"]},"max_size":{"references":["each.value"]},"min_size":{"references":["each.value"]},"recurrence":{"references":["each.value"]},"scheduled_action_name":{"references":["each.key"]},"start_time":{"references":["each.value"]},"time_zone":{"references":["each.value"]}},"schema_version":0,"for_each_expression":{"references":["var.create","var.create_schedule","var.schedules"]}},{"address":"aws_iam_instance_profile.this","mode":"managed","type":"aws_iam_instance_profile","name":"this","provider_config_key":"aws","expressions":{"name":{"references":["var.iam_role_use_name_prefix","local.iam_role_name"]},"name_prefix":{"references":["var.iam_role_use_name_prefix","local.iam_role_name"]},"path":{"references":["var.iam_role_path"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]},"tags":{"references":["var.tags","var.iam_role_tags"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_iam_instance_profile"]}},{"address":"aws_iam_role.this","mode":"managed","type":"aws_iam_role","name":"this","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role_policy[0].json","data.aws_iam_policy_document.assume_role_policy[0]","data.aws_iam_policy_document.assume_role_policy"]},"description":{"references":["var.iam_role_description"]},"force_detach_policies":{"constant_value":true},"name":{"references":["var.iam_role_use_name_prefix","local.iam_role_name"]},"name_prefix":{"references":["var.iam_role_use_name_prefix","local.iam_role_name"]},"path":{"references":["var.iam_role_path"]},"permissions_boundary":{"references":["var.iam_role_permissions_boundary"]},"tags":{"references":["var.tags","var.iam_role_tags"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_iam_instance_profile"]}},{"address":"aws_iam_role_policy_attachment.this","mode":"managed","type":"aws_iam_role_policy_attachment","name":"this","provider_config_key":"aws","expressions":{"policy_arn":{"references":["each.value"]},"role":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]}},"schema_version":0,"for_each_expression":{"references":["var.create","var.create_iam_instance_profile","local.iam_role_policy_prefix","local.iam_role_policy_prefix","var.iam_role_attach_cni_policy","local.cni_policy","var.iam_role_additional_policies"]}},{"address":"aws_launch_template.this","mode":"managed","type":"aws_launch_template","name":"this","provider_config_key":"aws","expressions":{"default_version":{"references":["var.launch_template_default_version"]},"description":{"references":["var.launch_template_description"]},"disable_api_termination":{"references":["var.disable_api_termination"]},"ebs_optimized":{"references":["var.ebs_optimized"]},"iam_instance_profile":[{"arn":{"references":["var.create_iam_instance_profile","aws_iam_instance_profile.this[0].arn","aws_iam_instance_profile.this[0]","aws_iam_instance_profile.this","var.iam_instance_profile_arn"]}}],"image_id":{"references":["var.ami_id","data.aws_ami.eks_default[0].image_id","data.aws_ami.eks_default[0]","data.aws_ami.eks_default"]},"instance_initiated_shutdown_behavior":{"references":["var.instance_initiated_shutdown_behavior"]},"instance_type":{"references":["var.instance_type"]},"kernel_id":{"references":["var.kernel_id"]},"key_name":{"references":["var.key_name"]},"name":{"references":["var.launch_template_use_name_prefix","local.launch_template_name_int"]},"name_prefix":{"references":["var.launch_template_use_name_prefix","local.launch_template_name_int"]},"ram_disk_id":{"references":["var.ram_disk_id"]},"tags":{"references":["var.tags"]},"update_default_version":{"references":["var.update_launch_template_default_version"]},"user_data":{"references":["module.user_data.user_data","module.user_data"]},"vpc_security_group_ids":{"references":["var.network_interfaces","local.security_group_ids"]}},"schema_version":0,"count_expression":{"references":["var.create","var.create_launch_template"]},"depends_on":["aws_security_group_rule.this","aws_iam_role_policy_attachment.this"]},{"address":"aws_security_group.this","mode":"managed","type":"aws_security_group","name":"this","provider_config_key":"aws","expressions":{"description":{"references":["var.security_group_description"]},"name":{"references":["var.security_group_use_name_prefix","local.security_group_name"]},"name_prefix":{"references":["var.security_group_use_name_prefix","local.security_group_name"]},"tags":{"references":["var.tags","local.security_group_name","var.security_group_tags"]},"vpc_id":{"references":["var.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_security_group"]}},{"address":"aws_security_group_rule.this","mode":"managed","type":"aws_security_group_rule","name":"this","provider_config_key":"aws","expressions":{"cidr_blocks":{"references":["each.value.cidr_blocks","each.value"]},"description":{"references":["each.value.description","each.value"]},"from_port":{"references":["each.value.from_port","each.value"]},"ipv6_cidr_blocks":{"references":["each.value.ipv6_cidr_blocks","each.value"]},"prefix_list_ids":{"references":["each.value.prefix_list_ids","each.value"]},"protocol":{"references":["each.value.protocol","each.value"]},"security_group_id":{"references":["aws_security_group.this[0].id","aws_security_group.this[0]","aws_security_group.this"]},"self":{"references":["each.value.self","each.value"]},"source_security_group_id":{"references":["each.value.source_security_group_id","each.value","each.value.source_cluster_security_group","each.value","var.cluster_security_group_id"]},"to_port":{"references":["each.value.to_port","each.value"]},"type":{"references":["each.value.type","each.value"]}},"schema_version":2,"for_each_expression":{"references":["var.security_group_rules","local.create_security_group"]}},{"address":"data.aws_ami.eks_default","mode":"data","type":"aws_ami","name":"eks_default","provider_config_key":"aws","expressions":{"filter":[{"name":{"constant_value":"name"},"values":{"references":["var.cluster_version"]}}],"most_recent":{"constant_value":true},"owners":{"constant_value":["amazon"]}},"schema_version":0,"count_expression":{"references":["var.create"]}},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_default_tags.current","mode":"data","type":"aws_default_tags","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_iam_policy_document.assume_role_policy","mode":"data","type":"aws_iam_policy_document","name":"assume_role_policy","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"principals":[{"identifiers":{"references":["data.aws_partition.current.dns_suffix","data.aws_partition.current"]},"type":{"constant_value":"Service"}}],"sid":{"constant_value":"EKSNodeAssumeRole"}}]},"schema_version":0,"count_expression":{"references":["var.create","var.create_iam_instance_profile"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0}],"module_calls":{"user_data":{"source":"../_user_data","expressions":{"bootstrap_extra_args":{"references":["var.bootstrap_extra_args"]},"cluster_auth_base64":{"references":["var.cluster_auth_base64"]},"cluster_endpoint":{"references":["var.cluster_endpoint"]},"cluster_name":{"references":["var.cluster_name"]},"create":{"references":["var.create"]},"enable_bootstrap_user_data":{"constant_value":true},"is_eks_managed_node_group":{"constant_value":false},"platform":{"references":["var.platform"]},"post_bootstrap_user_data":{"references":["var.post_bootstrap_user_data"]},"pre_bootstrap_user_data":{"references":["var.pre_bootstrap_user_data"]},"user_data_template_path":{"references":["var.user_data_template_path"]}},"module":{"outputs":{"user_data":{"expression":{"references":["local.platform","var.platform"]},"description":"Base64 encoded user data rendered for the provided inputs"}},"resources":[{"address":"data.cloudinit_config.linux_eks_managed_node_group","mode":"data","type":"cloudinit_config","name":"linux_eks_managed_node_group","provider_config_key":"module.eks.module.self_managed_node_group.module.user_data:cloudinit","expressions":{"base64_encode":{"constant_value":true},"boundary":{"constant_value":"//"},"gzip":{"constant_value":false},"part":[{"content":{"references":["var.pre_bootstrap_user_data"]},"content_type":{"constant_value":"text/x-shellscript"}}]},"schema_version":0,"count_expression":{"references":["var.create","var.platform","var.is_eks_managed_node_group","var.enable_bootstrap_user_data","var.pre_bootstrap_user_data","var.user_data_template_path"]}}],"variables":{"bootstrap_extra_args":{"default":"","description":"Additional arguments passed to the bootstrap script. When `platform` = `bottlerocket`; these are additional [settings](https://github.com/bottlerocket-os/bottlerocket#settings) that are provided to the Bottlerocket user data"},"cluster_auth_base64":{"default":"","description":"Base64 encoded CA of associated EKS cluster"},"cluster_endpoint":{"default":"","description":"Endpoint of associated EKS cluster"},"cluster_name":{"default":"","description":"Name of the EKS cluster"},"cluster_service_ipv4_cidr":{"default":null,"description":"The CIDR block to assign Kubernetes service IP addresses from. If you don't specify a block, Kubernetes assigns addresses from either the 10.100.0.0/16 or 172.20.0.0/16 CIDR blocks"},"create":{"default":true,"description":"Determines whether to create user-data or not"},"enable_bootstrap_user_data":{"default":false,"description":"Determines whether the bootstrap configurations are populated within the user data template"},"is_eks_managed_node_group":{"default":true,"description":"Determines whether the user data is used on nodes in an EKS managed node group. Used to determine if user data will be appended or not"},"platform":{"default":"linux","description":"Identifies if the OS platform is `bottlerocket`, `linux`, or `windows` based"},"post_bootstrap_user_data":{"default":"","description":"User data that is appended to the user data script after of the EKS bootstrap script. Not used when `platform` = `bottlerocket`"},"pre_bootstrap_user_data":{"default":"","description":"User data that is injected into the user data script ahead of the EKS bootstrap script. Not used when `platform` = `bottlerocket`"},"user_data_template_path":{"default":"","description":"Path to a local, custom user data template file to use when rendering user data"}}}}},"variables":{"ami_id":{"default":"","description":"The AMI from which to launch the instance"},"autoscaling_group_tags":{"default":{},"description":"A map of additional tags to add to the autoscaling group created. Tags are applied to the autoscaling group only and are NOT propagated to instances"},"availability_zones":{"default":null,"description":"A list of one or more availability zones for the group. Used for EC2-Classic and default subnets when not specified with `subnet_ids` argument. Conflicts with `subnet_ids`"},"block_device_mappings":{"default":{},"description":"Specify volumes to attach to the instance besides the volumes specified by the AMI"},"bootstrap_extra_args":{"default":"","description":"Additional arguments passed to the bootstrap script. When `platform` = `bottlerocket`; these are additional [settings](https://github.com/bottlerocket-os/bottlerocket#settings) that are provided to the Bottlerocket user data"},"capacity_rebalance":{"default":null,"description":"Indicates whether capacity rebalance is enabled"},"capacity_reservation_specification":{"default":{},"description":"Targeting for EC2 capacity reservations"},"cluster_auth_base64":{"default":"","description":"Base64 encoded CA of associated EKS cluster"},"cluster_endpoint":{"default":"","description":"Endpoint of associated EKS cluster"},"cluster_ip_family":{"default":null,"description":"The IP family used to assign Kubernetes pod and service addresses. Valid values are `ipv4` (default) and `ipv6`"},"cluster_name":{"default":"","description":"Name of associated EKS cluster"},"cluster_primary_security_group_id":{"default":null,"description":"The ID of the EKS cluster primary security group to associate with the instance(s). This is the security group that is automatically created by the EKS service"},"cluster_security_group_id":{"default":null,"description":"Cluster control plane security group ID"},"cluster_version":{"default":null,"description":"Kubernetes cluster version - used to lookup default AMI ID if one is not provided"},"cpu_options":{"default":{},"description":"The CPU options for the instance"},"create":{"default":true,"description":"Determines whether to create self managed node group or not"},"create_autoscaling_group":{"default":true,"description":"Determines whether to create autoscaling group or not"},"create_iam_instance_profile":{"default":true,"description":"Determines whether an IAM instance profile is created or to use an existing IAM instance profile"},"create_launch_template":{"default":true,"description":"Determines whether to create launch template or not"},"create_schedule":{"default":true,"description":"Determines whether to create autoscaling group schedule or not"},"create_security_group":{"default":true,"description":"Determines whether to create a security group"},"credit_specification":{"default":{},"description":"Customize the credit specification of the instance"},"default_cooldown":{"default":null,"description":"The amount of time, in seconds, after a scaling activity completes before another scaling activity can start"},"delete_timeout":{"default":null,"description":"Delete timeout to wait for destroying autoscaling group"},"desired_size":{"default":1,"description":"The number of Amazon EC2 instances that should be running in the autoscaling group"},"disable_api_termination":{"default":null,"description":"If true, enables EC2 instance termination protection"},"ebs_optimized":{"default":null,"description":"If true, the launched EC2 instance will be EBS-optimized"},"elastic_gpu_specifications":{"default":{},"description":"The elastic GPU to attach to the instance"},"elastic_inference_accelerator":{"default":{},"description":"Configuration block containing an Elastic Inference Accelerator to attach to the instance"},"enable_monitoring":{"default":true,"description":"Enables/disables detailed monitoring"},"enabled_metrics":{"default":[],"description":"A list of metrics to collect. The allowed values are `GroupDesiredCapacity`, `GroupInServiceCapacity`, `GroupPendingCapacity`, `GroupMinSize`, `GroupMaxSize`, `GroupInServiceInstances`, `GroupPendingInstances`, `GroupStandbyInstances`, `GroupStandbyCapacity`, `GroupTerminatingCapacity`, `GroupTerminatingInstances`, `GroupTotalCapacity`, `GroupTotalInstances`"},"enclave_options":{"default":{},"description":"Enable Nitro Enclaves on launched instances"},"force_delete":{"default":null,"description":"Allows deleting the Auto Scaling Group without waiting for all instances in the pool to terminate. You can force an Auto Scaling Group to delete even if it's in the process of scaling a resource. Normally, Terraform drains all the instances before deleting the group. This bypasses that behavior and potentially leaves resources dangling"},"health_check_grace_period":{"default":null,"description":"Time (in seconds) after instance comes into service before checking health"},"health_check_type":{"default":null,"description":"`EC2` or `ELB`. Controls how health checking is done"},"hibernation_options":{"default":{},"description":"The hibernation options for the instance"},"iam_instance_profile_arn":{"default":null,"description":"Amazon Resource Name (ARN) of an existing IAM instance profile that provides permissions for the node group. Required if `create_iam_instance_profile` = `false`"},"iam_role_additional_policies":{"default":[],"description":"Additional policies to be added to the IAM role"},"iam_role_attach_cni_policy":{"default":true,"description":"Whether to attach the `AmazonEKS_CNI_Policy`/`AmazonEKS_CNI_IPv6_Policy` IAM policy to the IAM IAM role. WARNING: If set `false` the permissions must be assigned to the `aws-node` DaemonSet pods via another method or nodes will not be able to join the cluster"},"iam_role_description":{"default":null,"description":"Description of the role"},"iam_role_name":{"default":null,"description":"Name to use on IAM role created"},"iam_role_path":{"default":null,"description":"IAM role path"},"iam_role_permissions_boundary":{"default":null,"description":"ARN of the policy that is used to set the permissions boundary for the IAM role"},"iam_role_tags":{"default":{},"description":"A map of additional tags to add to the IAM role created"},"iam_role_use_name_prefix":{"default":true,"description":"Determines whether cluster IAM role name (`iam_role_name`) is used as a prefix"},"initial_lifecycle_hooks":{"default":[],"description":"One or more Lifecycle Hooks to attach to the Auto Scaling Group before instances are launched. The syntax is exactly the same as the separate `aws_autoscaling_lifecycle_hook` resource, without the `autoscaling_group_name` attribute. Please note that this will only work when creating a new Auto Scaling Group. For all other use-cases, please use `aws_autoscaling_lifecycle_hook` resource"},"instance_initiated_shutdown_behavior":{"default":null,"description":"Shutdown behavior for the instance. Can be `stop` or `terminate`. (Default: `stop`)"},"instance_market_options":{"default":{},"description":"The market (purchasing) option for the instance"},"instance_refresh":{"default":{},"description":"If this block is configured, start an Instance Refresh when this Auto Scaling Group is updated"},"instance_type":{"default":"","description":"The type of the instance to launch"},"kernel_id":{"default":null,"description":"The kernel ID"},"key_name":{"default":null,"description":"The key name that should be used for the instance"},"launch_template_default_version":{"default":null,"description":"Default Version of the launch template"},"launch_template_description":{"default":null,"description":"Description of the launch template"},"launch_template_name":{"default":null,"description":"Launch template name - either to be created (`var.create_launch_template` = `true`) or existing (`var.create_launch_template` = `false`)"},"launch_template_tags":{"default":{},"description":"A map of additional tags to add to the tag_specifications of launch template created"},"launch_template_use_name_prefix":{"default":true,"description":"Determines whether to use `launch_template_name` as is or create a unique name beginning with the `launch_template_name` as the prefix"},"launch_template_version":{"default":null,"description":"Launch template version. Can be version number, `$Latest`, or `$Default`"},"license_specifications":{"default":{},"description":"A list of license specifications to associate with"},"max_instance_lifetime":{"default":null,"description":"The maximum amount of time, in seconds, that an instance can be in service, values must be either equal to 0 or between 604800 and 31536000 seconds"},"max_size":{"default":3,"description":"The maximum size of the autoscaling group"},"metadata_options":{"default":{"http_endpoint":"enabled","http_put_response_hop_limit":"2","http_tokens":"required"},"description":"Customize the metadata options for the instance"},"metrics_granularity":{"default":null,"description":"The granularity to associate with the metrics to collect. The only valid value is `1Minute`"},"min_elb_capacity":{"default":null,"description":"Setting this causes Terraform to wait for this number of instances to show up healthy in the ELB only on creation. Updates will not wait on ELB instance number changes"},"min_size":{"default":0,"description":"The minimum size of the autoscaling group"},"mixed_instances_policy":{"default":null,"description":"Configuration block containing settings to define launch targets for Auto Scaling groups"},"name":{"default":"","description":"Name of the Self managed Node Group"},"network_interfaces":{"default":[],"description":"Customize network interfaces to be attached at instance boot time"},"placement":{"default":{},"description":"The placement of the instance"},"placement_group":{"default":null,"description":"The name of the placement group into which you'll launch your instances, if any"},"platform":{"default":"linux","description":"Identifies if the OS platform is `bottlerocket`, `linux`, or `windows` based"},"post_bootstrap_user_data":{"default":"","description":"User data that is appended to the user data script after of the EKS bootstrap script. Not used when `platform` = `bottlerocket`"},"pre_bootstrap_user_data":{"default":"","description":"User data that is injected into the user data script ahead of the EKS bootstrap script. Not used when `platform` = `bottlerocket`"},"protect_from_scale_in":{"default":false,"description":"Allows setting instance protection. The autoscaling group will not select instances with this setting for termination during scale in events."},"ram_disk_id":{"default":null,"description":"The ID of the ram disk"},"schedules":{"default":{},"description":"Map of autoscaling group schedule to create"},"security_group_description":{"default":"EKS self-managed node group security group","description":"Description for the security group created"},"security_group_name":{"default":null,"description":"Name to use on security group created"},"security_group_rules":{"default":{},"description":"List of security group rules to add to the security group created"},"security_group_tags":{"default":{},"description":"A map of additional tags to add to the security group created"},"security_group_use_name_prefix":{"default":true,"description":"Determines whether the security group name (`security_group_name`) is used as a prefix"},"service_linked_role_arn":{"default":null,"description":"The ARN of the service-linked role that the ASG will use to call other AWS services"},"subnet_ids":{"default":null,"description":"A list of subnet IDs to launch resources in. Subnets automatically determine which availability zones the group will reside. Conflicts with `availability_zones`"},"suspended_processes":{"default":[],"description":"A list of processes to suspend for the Auto Scaling Group. The allowed values are `Launch`, `Terminate`, `HealthCheck`, `ReplaceUnhealthy`, `AZRebalance`, `AlarmNotification`, `ScheduledActions`, `AddToLoadBalancer`. Note that if you suspend either the `Launch` or `Terminate` process types, it can prevent your Auto Scaling Group from functioning properly"},"tags":{"default":{},"description":"A map of tags to add to all resources"},"target_group_arns":{"default":[],"description":"A set of `aws_alb_target_group` ARNs, for use with Application or Network Load Balancing"},"termination_policies":{"default":[],"description":"A list of policies to decide how the instances in the Auto Scaling Group should be terminated. The allowed values are `OldestInstance`, `NewestInstance`, `OldestLaunchConfiguration`, `ClosestToNextInstanceHour`, `OldestLaunchTemplate`, `AllocationStrategy`, `Default`"},"update_launch_template_default_version":{"default":true,"description":"Whether to update Default Version each update. Conflicts with `launch_template_default_version`"},"use_default_tags":{"default":false,"description":"Enables/disables the use of provider default tags in the tag_specifications of the Auto Scaling group"},"use_mixed_instances_policy":{"default":false,"description":"Determines whether to use a mixed instances policy in the autoscaling group or not"},"use_name_prefix":{"default":true,"description":"Determines whether to use `name` as is or create a unique name beginning with the `name` as the prefix"},"user_data_template_path":{"default":"","description":"Path to a local, custom user data template file to use when rendering user data"},"vpc_id":{"default":null,"description":"ID of the VPC where the security group/nodes will be provisioned"},"vpc_security_group_ids":{"default":[],"description":"A list of security group IDs to associate"},"wait_for_capacity_timeout":{"default":null,"description":"A maximum duration that Terraform should wait for ASG instances to be healthy before timing out. (See also Waiting for Capacity below.) Setting this to '0' causes Terraform to skip all Capacity Waiting behavior."},"wait_for_elb_capacity":{"default":null,"description":"Setting this will cause Terraform to wait for exactly this number of healthy instances in all attached load balancers on both create and update operations. Takes precedence over `min_elb_capacity` behavior."},"warm_pool":{"default":{},"description":"If this block is configured, add a Warm Pool to the specified Auto Scaling group"}}}}},"variables":{"attach_cluster_encryption_policy":{"default":true,"description":"Indicates whether or not to attach an additional policy for the cluster IAM role to utilize the encryption key provided"},"aws_auth_accounts":{"default":[],"description":"List of account maps to add to the aws-auth configmap"},"aws_auth_fargate_profile_pod_execution_role_arns":{"default":[],"description":"List of Fargate profile pod execution role ARNs to add to the aws-auth configmap"},"aws_auth_node_iam_role_arns_non_windows":{"default":[],"description":"List of non-Windows based node IAM role ARNs to add to the aws-auth configmap"},"aws_auth_node_iam_role_arns_windows":{"default":[],"description":"List of Windows based node IAM role ARNs to add to the aws-auth configmap"},"aws_auth_roles":{"default":[],"description":"List of role maps to add to the aws-auth configmap"},"aws_auth_users":{"default":[],"description":"List of user maps to add to the aws-auth configmap"},"cloudwatch_log_group_kms_key_id":{"default":null,"description":"If a KMS Key ARN is set, this key will be used to encrypt the corresponding log group. Please be sure that the KMS Key has an appropriate key policy (https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/encrypt-log-data-kms.html)"},"cloudwatch_log_group_retention_in_days":{"default":90,"description":"Number of days to retain log events. Default retention - 90 days"},"cluster_additional_security_group_ids":{"default":[],"description":"List of additional, externally created security group IDs to attach to the cluster control plane"},"cluster_addons":{"default":{},"description":"Map of cluster addon configurations to enable for the cluster. Addon name can be the map keys or set with `name`"},"cluster_enabled_log_types":{"default":["audit","api","authenticator"],"description":"A list of the desired control plane logs to enable. For more information, see Amazon EKS Control Plane Logging documentation (https://docs.aws.amazon.com/eks/latest/userguide/control-plane-logs.html)"},"cluster_encryption_config":{"default":[],"description":"Configuration block with encryption configuration for the cluster"},"cluster_encryption_policy_description":{"default":"Cluster encryption policy to allow cluster role to utilize CMK provided","description":"Description of the cluster encryption policy created"},"cluster_encryption_policy_name":{"default":null,"description":"Name to use on cluster encryption policy created"},"cluster_encryption_policy_path":{"default":null,"description":"Cluster encryption policy path"},"cluster_encryption_policy_tags":{"default":{},"description":"A map of additional tags to add to the cluster encryption policy created"},"cluster_encryption_policy_use_name_prefix":{"default":true,"description":"Determines whether cluster encryption policy name (`cluster_encryption_policy_name`) is used as a prefix"},"cluster_endpoint_private_access":{"default":false,"description":"Indicates whether or not the Amazon EKS private API server endpoint is enabled"},"cluster_endpoint_public_access":{"default":true,"description":"Indicates whether or not the Amazon EKS public API server endpoint is enabled"},"cluster_endpoint_public_access_cidrs":{"default":["0.0.0.0/0"],"description":"List of CIDR blocks which can access the Amazon EKS public API server endpoint"},"cluster_iam_role_dns_suffix":{"default":null,"description":"Base DNS domain name for the current partition (e.g., amazonaws.com in AWS Commercial, amazonaws.com.cn in AWS China)"},"cluster_identity_providers":{"default":{},"description":"Map of cluster identity provider configurations to enable for the cluster. Note - this is different/separate from IRSA"},"cluster_ip_family":{"default":null,"description":"The IP family used to assign Kubernetes pod and service addresses. Valid values are `ipv4` (default) and `ipv6`. You can only specify an IP family when you create a cluster, changing this value will force a new cluster to be created"},"cluster_name":{"default":"","description":"Name of the EKS cluster"},"cluster_security_group_additional_rules":{"default":{},"description":"List of additional security group rules to add to the cluster security group created. Set `source_node_security_group = true` inside rules to set the `node_security_group` as source"},"cluster_security_group_description":{"default":"EKS cluster security group","description":"Description of the cluster security group created"},"cluster_security_group_id":{"default":"","description":"Existing security group ID to be attached to the cluster. Required if `create_cluster_security_group` = `false`"},"cluster_security_group_name":{"default":null,"description":"Name to use on cluster security group created"},"cluster_security_group_tags":{"default":{},"description":"A map of additional tags to add to the cluster security group created"},"cluster_security_group_use_name_prefix":{"default":true,"description":"Determines whether cluster security group name (`cluster_security_group_name`) is used as a prefix"},"cluster_service_ipv4_cidr":{"default":null,"description":"The CIDR block to assign Kubernetes service IP addresses from. If you don't specify a block, Kubernetes assigns addresses from either the 10.100.0.0/16 or 172.20.0.0/16 CIDR blocks"},"cluster_tags":{"default":{},"description":"A map of additional tags to add to the cluster"},"cluster_timeouts":{"default":{},"description":"Create, update, and delete timeout configurations for the cluster"},"cluster_version":{"default":null,"description":"Kubernetes `\u003cmajor\u003e.\u003cminor\u003e` version to use for the EKS cluster (i.e.: `1.24`)"},"control_plane_subnet_ids":{"default":[],"description":"A list of subnet IDs where the EKS cluster control plane (ENIs) will be provisioned. Used for expanding the pool of subnets used by nodes/node groups without replacing the EKS control plane"},"create":{"default":true,"description":"Controls if EKS resources should be created (affects nearly all resources)"},"create_aws_auth_configmap":{"default":false,"description":"Determines whether to create the aws-auth configmap. NOTE - this is only intended for scenarios where the configmap does not exist (i.e. - when using only self-managed node groups). Most users should use `manage_aws_auth_configmap`"},"create_cloudwatch_log_group":{"default":true,"description":"Determines whether a log group is created by this module for the cluster logs. If not, AWS will automatically create one if logging is enabled"},"create_cluster_primary_security_group_tags":{"default":true,"description":"Indicates whether or not to tag the cluster's primary security group. This security group is created by the EKS service, not the module, and therefore tagging is handled after cluster creation"},"create_cluster_security_group":{"default":true,"description":"Determines if a security group is created for the cluster or use the existing `cluster_security_group_id`"},"create_cni_ipv6_iam_policy":{"default":false,"description":"Determines whether to create an [`AmazonEKS_CNI_IPv6_Policy`](https://docs.aws.amazon.com/eks/latest/userguide/cni-iam-role.html#cni-iam-role-create-ipv6-policy)"},"create_iam_role":{"default":true,"description":"Determines whether a an IAM role is created or to use an existing IAM role"},"create_kms_key":{"default":false,"description":"Controls if a KMS key for cluster encryption should be created"},"create_node_security_group":{"default":true,"description":"Determines whether to create a security group for the node groups or use the existing `node_security_group_id`"},"custom_oidc_thumbprints":{"default":[],"description":"Additional list of server certificate thumbprints for the OpenID Connect (OIDC) identity provider's server certificate(s)"},"eks_managed_node_group_defaults":{"default":{},"description":"Map of EKS managed node group default configurations"},"eks_managed_node_groups":{"default":{},"description":"Map of EKS managed node group definitions to create"},"enable_irsa":{"default":true,"description":"Determines whether to create an OpenID Connect Provider for EKS to enable IRSA"},"enable_kms_key_rotation":{"default":true,"description":"Specifies whether key rotation is enabled. Defaults to `true`"},"fargate_profile_defaults":{"default":{},"description":"Map of Fargate Profile default configurations"},"fargate_profiles":{"default":{},"description":"Map of Fargate Profile definitions to create"},"iam_role_additional_policies":{"default":[],"description":"Additional policies to be added to the IAM role"},"iam_role_arn":{"default":null,"description":"Existing IAM role ARN for the cluster. Required if `create_iam_role` is set to `false`"},"iam_role_description":{"default":null,"description":"Description of the role"},"iam_role_name":{"default":null,"description":"Name to use on IAM role created"},"iam_role_path":{"default":null,"description":"Cluster IAM role path"},"iam_role_permissions_boundary":{"default":null,"description":"ARN of the policy that is used to set the permissions boundary for the IAM role"},"iam_role_tags":{"default":{},"description":"A map of additional tags to add to the IAM role created"},"iam_role_use_name_prefix":{"default":true,"description":"Determines whether the IAM role name (`iam_role_name`) is used as a prefix"},"kms_key_administrators":{"default":[],"description":"A list of IAM ARNs for [key administrators](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-default-allow-administrators). If no value is provided, the current caller identity is used to ensure at least one key admin is available"},"kms_key_aliases":{"default":[],"description":"A list of aliases to create. Note - due to the use of `toset()`, values must be static strings and not computed values"},"kms_key_deletion_window_in_days":{"default":null,"description":"The waiting period, specified in number of days. After the waiting period ends, AWS KMS deletes the KMS key. If you specify a value, it must be between `7` and `30`, inclusive. If you do not specify a value, it defaults to `30`"},"kms_key_description":{"default":null,"description":"The description of the key as viewed in AWS console"},"kms_key_enable_default_policy":{"default":false,"description":"Specifies whether to enable the default key policy. Defaults to `false`"},"kms_key_override_policy_documents":{"default":[],"description":"List of IAM policy documents that are merged together into the exported document. In merging, statements with non-blank `sid`s will override statements with the same `sid`"},"kms_key_owners":{"default":[],"description":"A list of IAM ARNs for those who will have full key permissions (`kms:*`)"},"kms_key_service_users":{"default":[],"description":"A list of IAM ARNs for [key service users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-service-integration)"},"kms_key_source_policy_documents":{"default":[],"description":"List of IAM policy documents that are merged together into the exported document. Statements must have unique `sid`s"},"kms_key_users":{"default":[],"description":"A list of IAM ARNs for [key users](https://docs.aws.amazon.com/kms/latest/developerguide/key-policy-default.html#key-policy-default-allow-users)"},"manage_aws_auth_configmap":{"default":false,"description":"Determines whether to manage the aws-auth configmap"},"node_security_group_additional_rules":{"default":{},"description":"List of additional security group rules to add to the node security group created. Set `source_cluster_security_group = true` inside rules to set the `cluster_security_group` as source"},"node_security_group_description":{"default":"EKS node shared security group","description":"Description of the node security group created"},"node_security_group_id":{"default":"","description":"ID of an existing security group to attach to the node groups created"},"node_security_group_name":{"default":null,"description":"Name to use on node security group created"},"node_security_group_ntp_ipv4_cidr_block":{"default":["0.0.0.0/0"],"description":"IPv4 CIDR block to allow NTP egress. Default is public IP space, but [Amazon Time Sync Service](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/set-time.html) can be used as well with `[\"169.254.169.123/32\"]`"},"node_security_group_ntp_ipv6_cidr_block":{"default":["::/0"],"description":"IPv4 CIDR block to allow NTP egress. Default is public IP space, but [Amazon Time Sync Service](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/set-time.html) can be used as well with `[\"fd00:ec2::123/128\"]`"},"node_security_group_tags":{"default":{},"description":"A map of additional tags to add to the node security group created"},"node_security_group_use_name_prefix":{"default":true,"description":"Determines whether node security group name (`node_security_group_name`) is used as a prefix"},"openid_connect_audiences":{"default":[],"description":"List of OpenID Connect audience client IDs to add to the IRSA provider"},"prefix_separator":{"default":"-","description":"The separator to use between the prefix and the generated timestamp for resource names"},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"self_managed_node_group_defaults":{"default":{},"description":"Map of self-managed node group default configurations"},"self_managed_node_groups":{"default":{},"description":"Map of self-managed node group definitions to create"},"subnet_ids":{"default":[],"description":"A list of subnet IDs where the nodes/node groups will be provisioned. If `control_plane_subnet_ids` is not provided, the EKS cluster control plane (ENIs) will be provisioned in these subnets"},"tags":{"default":{},"description":"A map of tags to add to all resources"},"vpc_id":{"default":null,"description":"ID of the VPC where the cluster and its nodes will be provisioned"}}},"version_constraint":"~\u003e 18.0"},"eks_auth":{"source":"aidanmelen/eks-auth/aws","expressions":{"eks":{"references":["module.eks"]},"map_users":{"references":["local.admin_user_map_users","local.developer_user_map_users"]}},"module":{"outputs":{"aws_auth_configmap_yaml":{"expression":{"references":["local.aws_auth_configmap_yaml"]},"description":"Formatted yaml output for aws-auth configmap."},"map_accounts":{"expression":{"references":["var.map_accounts"]},"description":"The aws-auth map accounts."},"map_roles":{"expression":{"references":["local.merged_map_roles"]},"description":"The aws-auth map roles merged with the eks managed node group, self managed node groups and fargate profile roles."},"map_users":{"expression":{"references":["var.map_users"]},"description":"The aws-auth map users."}},"resources":[{"address":"kubernetes_config_map_v1.aws_auth","mode":"managed","type":"kubernetes_config_map_v1","name":"aws_auth","provider_config_key":"kubernetes","expressions":{"data":{"references":["local.merged_map_roles","var.map_users","var.map_accounts"]},"metadata":[{"name":{"constant_value":"aws-auth"},"namespace":{"constant_value":"kube-system"}}]},"schema_version":0,"count_expression":{"references":["local.create_aws_auth_configmap"]},"depends_on":["data.http.wait_for_cluster"]},{"address":"kubernetes_config_map_v1_data.aws_auth","mode":"managed","type":"kubernetes_config_map_v1_data","name":"aws_auth","provider_config_key":"kubernetes","expressions":{"data":{"references":["local.merged_map_roles","var.map_users","var.map_accounts"]},"force":{"constant_value":true},"metadata":[{"name":{"constant_value":"aws-auth"},"namespace":{"constant_value":"kube-system"}}]},"schema_version":0,"count_expression":{"references":["local.patch_aws_auth_configmap"]},"depends_on":["data.http.wait_for_cluster"]},{"address":"data.http.wait_for_cluster","mode":"data","type":"http","name":"wait_for_cluster","provider_config_key":"module.eks_auth:http","expressions":{"ca_certificate":{"references":["var.eks.cluster_certificate_authority_data","var.eks"]},"timeout":{"references":["var.wait_for_cluster_timeout"]},"url":{"references":["var.eks.cluster_endpoint","var.eks"]}},"schema_version":0}],"variables":{"eks":{"description":"The outputs from the `terraform-aws-modules/terraform-aws-eks` module."},"map_accounts":{"default":[],"description":"Additional AWS account numbers to add to the aws-auth configmap."},"map_roles":{"default":[],"description":"Additional IAM roles to add to the aws-auth configmap."},"map_users":{"default":[],"description":"Additional IAM users to add to the aws-auth configmap."},"wait_for_cluster_timeout":{"default":300,"description":"A timeout (in seconds) to wait for cluster to be available."}}}},"iam_assumable_role_admin":{"source":"terraform-aws-modules/iam/aws//modules/iam-assumable-role-with-oidc","expressions":{"create_role":{"constant_value":true},"oidc_fully_qualified_subjects":{"references":["local.autoscaler_service_account_namespace","local.autoscaler_service_account_name"]},"provider_url":{"references":["module.eks.cluster_oidc_issuer_url","module.eks"]},"role_name":{"references":["local.cluster_name"]},"role_policy_arns":{"references":["aws_iam_policy.cluster_autoscaler.arn","aws_iam_policy.cluster_autoscaler"]},"tags":{"references":["data.aws_caller_identity.current.arn","data.aws_caller_identity.current","data.aws_caller_identity.current.arn","data.aws_caller_identity.current"]}},"module":{"outputs":{"iam_role_arn":{"expression":{"references":["aws_iam_role.this[0].arn","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"ARN of IAM role"},"iam_role_name":{"expression":{"references":["aws_iam_role.this[0].name","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"Name of IAM role"},"iam_role_path":{"expression":{"references":["aws_iam_role.this[0].path","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"Path of IAM role"},"iam_role_unique_id":{"expression":{"references":["aws_iam_role.this[0].unique_id","aws_iam_role.this[0]","aws_iam_role.this"]},"description":"Unique ID of IAM role"}},"resources":[{"address":"aws_iam_role.this","mode":"managed","type":"aws_iam_role","name":"this","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.assume_role_with_oidc"]},"description":{"references":["var.role_description"]},"force_detach_policies":{"references":["var.force_detach_policies"]},"max_session_duration":{"references":["var.max_session_duration"]},"name":{"references":["var.role_name"]},"name_prefix":{"references":["var.role_name_prefix"]},"path":{"references":["var.role_path"]},"permissions_boundary":{"references":["var.role_permissions_boundary_arn"]},"tags":{"references":["var.tags"]}},"schema_version":0,"count_expression":{"references":["var.create_role"]}},{"address":"aws_iam_role_policy_attachment.custom","mode":"managed","type":"aws_iam_role_policy_attachment","name":"custom","provider_config_key":"aws","expressions":{"policy_arn":{"references":["var.role_policy_arns","count.index"]},"role":{"references":["aws_iam_role.this"]}},"schema_version":0,"count_expression":{"references":["var.create_role","local.number_of_role_policy_arns"]}},{"address":"data.aws_caller_identity.current","mode":"data","type":"aws_caller_identity","name":"current","provider_config_key":"aws","schema_version":0},{"address":"data.aws_iam_policy_document.assume_role_with_oidc","mode":"data","type":"aws_iam_policy_document","name":"assume_role_with_oidc","provider_config_key":"aws","schema_version":0,"count_expression":{"references":["var.create_role"]}},{"address":"data.aws_partition.current","mode":"data","type":"aws_partition","name":"current","provider_config_key":"aws","schema_version":0}],"variables":{"aws_account_id":{"default":"","description":"The AWS account ID where the OIDC provider lives, leave empty to use the account for the AWS provider"},"create_role":{"default":false,"description":"Whether to create a role"},"force_detach_policies":{"default":false,"description":"Whether policies should be detached from this role when destroying"},"max_session_duration":{"default":3600,"description":"Maximum CLI/API session duration in seconds between 3600 and 43200"},"number_of_role_policy_arns":{"default":null,"description":"Number of IAM policies to attach to IAM role"},"oidc_fully_qualified_audiences":{"default":[],"description":"The audience to be added to the role policy. Set to sts.amazonaws.com for cross-account assumable role. Leave empty otherwise."},"oidc_fully_qualified_subjects":{"default":[],"description":"The fully qualified OIDC subjects to be added to the role policy"},"oidc_subjects_with_wildcards":{"default":[],"description":"The OIDC subject using wildcards to be added to the role policy"},"provider_url":{"default":"","description":"URL of the OIDC Provider. Use provider_urls to specify several URLs."},"provider_urls":{"default":[],"description":"List of URLs of the OIDC Providers"},"role_description":{"default":"","description":"IAM Role description"},"role_name":{"default":null,"description":"IAM role name"},"role_name_prefix":{"default":null,"description":"IAM role name prefix"},"role_path":{"default":"/","description":"Path of IAM role"},"role_permissions_boundary_arn":{"default":"","description":"Permissions boundary ARN to use for IAM role"},"role_policy_arns":{"default":[],"description":"List of ARNs of IAM policies to attach to IAM role"},"tags":{"default":{},"description":"A map of tags to add to IAM role resources"}}},"version_constraint":"~\u003e 4.0"},"vpc":{"source":"terraform-aws-modules/vpc/aws","expressions":{"azs":{"references":["data.aws_availability_zones.available.names","data.aws_availability_zones.available"]},"cidr":{"references":["var.main_network_block"]},"create_database_subnet_group":{"constant_value":false},"enable_dns_hostnames":{"constant_value":true},"enable_nat_gateway":{"constant_value":true},"external_nat_ip_ids":{"references":["aws_eip.nat_gw_elastic_ip.id","aws_eip.nat_gw_elastic_ip"]},"name":{"references":["local.cluster_name"]},"one_nat_gateway_per_az":{"constant_value":false},"private_subnet_tags":{"references":["local.cluster_name"]},"private_subnets":{"constant_value":["10.0.0.0/20","10.0.16.0/20"]},"public_subnet_tags":{"references":["local.cluster_name"]},"public_subnets":{"constant_value":["10.0.128.0/20","10.0.144.0/20"]},"reuse_nat_ips":{"constant_value":true},"single_nat_gateway":{"constant_value":true},"tags":{"constant_value":{"Environment":"test","Terraform":"true"}}},"module":{"outputs":{"azs":{"expression":{"references":["var.azs"]},"description":"A list of availability zones specified as argument to this module"},"cgw_arns":{"expression":{"references":["aws_customer_gateway.this"]},"description":"List of ARNs of Customer Gateway"},"cgw_ids":{"expression":{"references":["aws_customer_gateway.this"]},"description":"List of IDs of Customer Gateway"},"database_internet_gateway_route_id":{"expression":{"references":["aws_route.database_internet_gateway[0].id","aws_route.database_internet_gateway[0]","aws_route.database_internet_gateway"]},"description":"ID of the database internet gateway route"},"database_ipv6_egress_route_id":{"expression":{"references":["aws_route.database_ipv6_egress[0].id","aws_route.database_ipv6_egress[0]","aws_route.database_ipv6_egress"]},"description":"ID of the database IPv6 egress route"},"database_nat_gateway_route_ids":{"expression":{"references":["aws_route.database_nat_gateway"]},"description":"List of IDs of the database nat gateway route"},"database_network_acl_arn":{"expression":{"references":["aws_network_acl.database[0].arn","aws_network_acl.database[0]","aws_network_acl.database"]},"description":"ARN of the database network ACL"},"database_network_acl_id":{"expression":{"references":["aws_network_acl.database[0].id","aws_network_acl.database[0]","aws_network_acl.database"]},"description":"ID of the database network ACL"},"database_route_table_association_ids":{"expression":{"references":["aws_route_table_association.database"]},"description":"List of IDs of the database route table association"},"database_route_table_ids":{"expression":{"references":["aws_route_table.database","aws_route_table.private"]},"description":"List of IDs of database route tables"},"database_subnet_arns":{"expression":{"references":["aws_subnet.database"]},"description":"List of ARNs of database subnets"},"database_subnet_group":{"expression":{"references":["aws_db_subnet_group.database[0].id","aws_db_subnet_group.database[0]","aws_db_subnet_group.database"]},"description":"ID of database subnet group"},"database_subnet_group_name":{"expression":{"references":["aws_db_subnet_group.database[0].name","aws_db_subnet_group.database[0]","aws_db_subnet_group.database"]},"description":"Name of database subnet group"},"database_subnets":{"expression":{"references":["aws_subnet.database"]},"description":"List of IDs of database subnets"},"database_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.database"]},"description":"List of cidr_blocks of database subnets"},"database_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.database"]},"description":"List of IPv6 cidr_blocks of database subnets in an IPv6 enabled VPC"},"default_network_acl_id":{"expression":{"references":["aws_vpc.this[0].default_network_acl_id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ID of the default network ACL"},"default_route_table_id":{"expression":{"references":["aws_vpc.this[0].default_route_table_id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ID of the default route table"},"default_security_group_id":{"expression":{"references":["aws_vpc.this[0].default_security_group_id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ID of the security group created by default on VPC creation"},"default_vpc_arn":{"expression":{"references":["aws_default_vpc.this[0].arn","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The ARN of the Default VPC"},"default_vpc_cidr_block":{"expression":{"references":["aws_default_vpc.this[0].cidr_block","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The CIDR block of the Default VPC"},"default_vpc_default_network_acl_id":{"expression":{"references":["aws_default_vpc.this[0].default_network_acl_id","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The ID of the default network ACL of the Default VPC"},"default_vpc_default_route_table_id":{"expression":{"references":["aws_default_vpc.this[0].default_route_table_id","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The ID of the default route table of the Default VPC"},"default_vpc_default_security_group_id":{"expression":{"references":["aws_default_vpc.this[0].default_security_group_id","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The ID of the security group created by default on Default VPC creation"},"default_vpc_enable_dns_hostnames":{"expression":{"references":["aws_default_vpc.this[0].enable_dns_hostnames","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"Whether or not the Default VPC has DNS hostname support"},"default_vpc_enable_dns_support":{"expression":{"references":["aws_default_vpc.this[0].enable_dns_support","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"Whether or not the Default VPC has DNS support"},"default_vpc_id":{"expression":{"references":["aws_default_vpc.this[0].id","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The ID of the Default VPC"},"default_vpc_instance_tenancy":{"expression":{"references":["aws_default_vpc.this[0].instance_tenancy","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"Tenancy of instances spin up within Default VPC"},"default_vpc_main_route_table_id":{"expression":{"references":["aws_default_vpc.this[0].main_route_table_id","aws_default_vpc.this[0]","aws_default_vpc.this"]},"description":"The ID of the main route table associated with the Default VPC"},"dhcp_options_id":{"expression":{"references":["aws_vpc_dhcp_options.this[0].id","aws_vpc_dhcp_options.this[0]","aws_vpc_dhcp_options.this"]},"description":"The ID of the DHCP options"},"egress_only_internet_gateway_id":{"expression":{"references":["aws_egress_only_internet_gateway.this[0].id","aws_egress_only_internet_gateway.this[0]","aws_egress_only_internet_gateway.this"]},"description":"The ID of the egress only Internet Gateway"},"elasticache_network_acl_arn":{"expression":{"references":["aws_network_acl.elasticache[0].arn","aws_network_acl.elasticache[0]","aws_network_acl.elasticache"]},"description":"ARN of the elasticache network ACL"},"elasticache_network_acl_id":{"expression":{"references":["aws_network_acl.elasticache[0].id","aws_network_acl.elasticache[0]","aws_network_acl.elasticache"]},"description":"ID of the elasticache network ACL"},"elasticache_route_table_association_ids":{"expression":{"references":["aws_route_table_association.elasticache"]},"description":"List of IDs of the elasticache route table association"},"elasticache_route_table_ids":{"expression":{"references":["aws_route_table.elasticache","aws_route_table.private"]},"description":"List of IDs of elasticache route tables"},"elasticache_subnet_arns":{"expression":{"references":["aws_subnet.elasticache"]},"description":"List of ARNs of elasticache subnets"},"elasticache_subnet_group":{"expression":{"references":["aws_elasticache_subnet_group.elasticache[0].id","aws_elasticache_subnet_group.elasticache[0]","aws_elasticache_subnet_group.elasticache"]},"description":"ID of elasticache subnet group"},"elasticache_subnet_group_name":{"expression":{"references":["aws_elasticache_subnet_group.elasticache[0].name","aws_elasticache_subnet_group.elasticache[0]","aws_elasticache_subnet_group.elasticache"]},"description":"Name of elasticache subnet group"},"elasticache_subnets":{"expression":{"references":["aws_subnet.elasticache"]},"description":"List of IDs of elasticache subnets"},"elasticache_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.elasticache"]},"description":"List of cidr_blocks of elasticache subnets"},"elasticache_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.elasticache"]},"description":"List of IPv6 cidr_blocks of elasticache subnets in an IPv6 enabled VPC"},"igw_arn":{"expression":{"references":["aws_internet_gateway.this[0].arn","aws_internet_gateway.this[0]","aws_internet_gateway.this"]},"description":"The ARN of the Internet Gateway"},"igw_id":{"expression":{"references":["aws_internet_gateway.this[0].id","aws_internet_gateway.this[0]","aws_internet_gateway.this"]},"description":"The ID of the Internet Gateway"},"intra_network_acl_arn":{"expression":{"references":["aws_network_acl.intra[0].arn","aws_network_acl.intra[0]","aws_network_acl.intra"]},"description":"ARN of the intra network ACL"},"intra_network_acl_id":{"expression":{"references":["aws_network_acl.intra[0].id","aws_network_acl.intra[0]","aws_network_acl.intra"]},"description":"ID of the intra network ACL"},"intra_route_table_association_ids":{"expression":{"references":["aws_route_table_association.intra"]},"description":"List of IDs of the intra route table association"},"intra_route_table_ids":{"expression":{"references":["aws_route_table.intra"]},"description":"List of IDs of intra route tables"},"intra_subnet_arns":{"expression":{"references":["aws_subnet.intra"]},"description":"List of ARNs of intra subnets"},"intra_subnets":{"expression":{"references":["aws_subnet.intra"]},"description":"List of IDs of intra subnets"},"intra_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.intra"]},"description":"List of cidr_blocks of intra subnets"},"intra_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.intra"]},"description":"List of IPv6 cidr_blocks of intra subnets in an IPv6 enabled VPC"},"name":{"expression":{"references":["var.name"]},"description":"The name of the VPC specified as argument to this module"},"nat_ids":{"expression":{"references":["aws_eip.nat"]},"description":"List of allocation ID of Elastic IPs created for AWS NAT Gateway"},"nat_public_ips":{"expression":{"references":["var.reuse_nat_ips","var.external_nat_ips","aws_eip.nat"]},"description":"List of public Elastic IPs created for AWS NAT Gateway"},"natgw_ids":{"expression":{"references":["aws_nat_gateway.this"]},"description":"List of NAT Gateway IDs"},"outpost_network_acl_arn":{"expression":{"references":["aws_network_acl.outpost[0].arn","aws_network_acl.outpost[0]","aws_network_acl.outpost"]},"description":"ARN of the outpost network ACL"},"outpost_network_acl_id":{"expression":{"references":["aws_network_acl.outpost[0].id","aws_network_acl.outpost[0]","aws_network_acl.outpost"]},"description":"ID of the outpost network ACL"},"outpost_subnet_arns":{"expression":{"references":["aws_subnet.outpost"]},"description":"List of ARNs of outpost subnets"},"outpost_subnets":{"expression":{"references":["aws_subnet.outpost"]},"description":"List of IDs of outpost subnets"},"outpost_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.outpost"]},"description":"List of cidr_blocks of outpost subnets"},"outpost_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.outpost"]},"description":"List of IPv6 cidr_blocks of outpost subnets in an IPv6 enabled VPC"},"private_ipv6_egress_route_ids":{"expression":{"references":["aws_route.private_ipv6_egress"]},"description":"List of IDs of the ipv6 egress route"},"private_nat_gateway_route_ids":{"expression":{"references":["aws_route.private_nat_gateway"]},"description":"List of IDs of the private nat gateway route"},"private_network_acl_arn":{"expression":{"references":["aws_network_acl.private[0].arn","aws_network_acl.private[0]","aws_network_acl.private"]},"description":"ARN of the private network ACL"},"private_network_acl_id":{"expression":{"references":["aws_network_acl.private[0].id","aws_network_acl.private[0]","aws_network_acl.private"]},"description":"ID of the private network ACL"},"private_route_table_association_ids":{"expression":{"references":["aws_route_table_association.private"]},"description":"List of IDs of the private route table association"},"private_route_table_ids":{"expression":{"references":["aws_route_table.private"]},"description":"List of IDs of private route tables"},"private_subnet_arns":{"expression":{"references":["aws_subnet.private"]},"description":"List of ARNs of private subnets"},"private_subnets":{"expression":{"references":["aws_subnet.private"]},"description":"List of IDs of private subnets"},"private_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.private"]},"description":"List of cidr_blocks of private subnets"},"private_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.private"]},"description":"List of IPv6 cidr_blocks of private subnets in an IPv6 enabled VPC"},"public_internet_gateway_ipv6_route_id":{"expression":{"references":["aws_route.public_internet_gateway_ipv6[0].id","aws_route.public_internet_gateway_ipv6[0]","aws_route.public_internet_gateway_ipv6"]},"description":"ID of the IPv6 internet gateway route"},"public_internet_gateway_route_id":{"expression":{"references":["aws_route.public_internet_gateway[0].id","aws_route.public_internet_gateway[0]","aws_route.public_internet_gateway"]},"description":"ID of the internet gateway route"},"public_network_acl_arn":{"expression":{"references":["aws_network_acl.public[0].arn","aws_network_acl.public[0]","aws_network_acl.public"]},"description":"ARN of the public network ACL"},"public_network_acl_id":{"expression":{"references":["aws_network_acl.public[0].id","aws_network_acl.public[0]","aws_network_acl.public"]},"description":"ID of the public network ACL"},"public_route_table_association_ids":{"expression":{"references":["aws_route_table_association.public"]},"description":"List of IDs of the public route table association"},"public_route_table_ids":{"expression":{"references":["aws_route_table.public"]},"description":"List of IDs of public route tables"},"public_subnet_arns":{"expression":{"references":["aws_subnet.public"]},"description":"List of ARNs of public subnets"},"public_subnets":{"expression":{"references":["aws_subnet.public"]},"description":"List of IDs of public subnets"},"public_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.public"]},"description":"List of cidr_blocks of public subnets"},"public_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.public"]},"description":"List of IPv6 cidr_blocks of public subnets in an IPv6 enabled VPC"},"redshift_network_acl_arn":{"expression":{"references":["aws_network_acl.redshift[0].arn","aws_network_acl.redshift[0]","aws_network_acl.redshift"]},"description":"ARN of the redshift network ACL"},"redshift_network_acl_id":{"expression":{"references":["aws_network_acl.redshift[0].id","aws_network_acl.redshift[0]","aws_network_acl.redshift"]},"description":"ID of the redshift network ACL"},"redshift_public_route_table_association_ids":{"expression":{"references":["aws_route_table_association.redshift_public"]},"description":"List of IDs of the public redshift route table association"},"redshift_route_table_association_ids":{"expression":{"references":["aws_route_table_association.redshift"]},"description":"List of IDs of the redshift route table association"},"redshift_route_table_ids":{"expression":{"references":["aws_route_table.redshift","aws_route_table.redshift","var.enable_public_redshift","aws_route_table.public","aws_route_table.private"]},"description":"List of IDs of redshift route tables"},"redshift_subnet_arns":{"expression":{"references":["aws_subnet.redshift"]},"description":"List of ARNs of redshift subnets"},"redshift_subnet_group":{"expression":{"references":["aws_redshift_subnet_group.redshift[0].id","aws_redshift_subnet_group.redshift[0]","aws_redshift_subnet_group.redshift"]},"description":"ID of redshift subnet group"},"redshift_subnets":{"expression":{"references":["aws_subnet.redshift"]},"description":"List of IDs of redshift subnets"},"redshift_subnets_cidr_blocks":{"expression":{"references":["aws_subnet.redshift"]},"description":"List of cidr_blocks of redshift subnets"},"redshift_subnets_ipv6_cidr_blocks":{"expression":{"references":["aws_subnet.redshift"]},"description":"List of IPv6 cidr_blocks of redshift subnets in an IPv6 enabled VPC"},"this_customer_gateway":{"expression":{"references":["aws_customer_gateway.this"]},"description":"Map of Customer Gateway attributes"},"vgw_arn":{"expression":{"references":["aws_vpn_gateway.this[0].arn","aws_vpn_gateway.this[0]","aws_vpn_gateway.this"]},"description":"The ARN of the VPN Gateway"},"vgw_id":{"expression":{"references":["aws_vpn_gateway.this[0].id","aws_vpn_gateway.this[0]","aws_vpn_gateway.this","aws_vpn_gateway_attachment.this[0].vpn_gateway_id","aws_vpn_gateway_attachment.this[0]","aws_vpn_gateway_attachment.this"]},"description":"The ID of the VPN Gateway"},"vpc_arn":{"expression":{"references":["aws_vpc.this[0].arn","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ARN of the VPC"},"vpc_cidr_block":{"expression":{"references":["aws_vpc.this[0].cidr_block","aws_vpc.this[0]","aws_vpc.this"]},"description":"The CIDR block of the VPC"},"vpc_enable_dns_hostnames":{"expression":{"references":["aws_vpc.this[0].enable_dns_hostnames","aws_vpc.this[0]","aws_vpc.this"]},"description":"Whether or not the VPC has DNS hostname support"},"vpc_enable_dns_support":{"expression":{"references":["aws_vpc.this[0].enable_dns_support","aws_vpc.this[0]","aws_vpc.this"]},"description":"Whether or not the VPC has DNS support"},"vpc_flow_log_cloudwatch_iam_role_arn":{"expression":{"references":["local.flow_log_iam_role_arn"]},"description":"The ARN of the IAM role used when pushing logs to Cloudwatch log group"},"vpc_flow_log_destination_arn":{"expression":{"references":["local.flow_log_destination_arn"]},"description":"The ARN of the destination for VPC Flow Logs"},"vpc_flow_log_destination_type":{"expression":{"references":["var.flow_log_destination_type"]},"description":"The type of the destination for VPC Flow Logs"},"vpc_flow_log_id":{"expression":{"references":["aws_flow_log.this[0].id","aws_flow_log.this[0]","aws_flow_log.this"]},"description":"The ID of the Flow Log resource"},"vpc_id":{"expression":{"references":["aws_vpc.this[0].id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ID of the VPC"},"vpc_instance_tenancy":{"expression":{"references":["aws_vpc.this[0].instance_tenancy","aws_vpc.this[0]","aws_vpc.this"]},"description":"Tenancy of instances spin up within VPC"},"vpc_ipv6_association_id":{"expression":{"references":["aws_vpc.this[0].ipv6_association_id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The association ID for the IPv6 CIDR block"},"vpc_ipv6_cidr_block":{"expression":{"references":["aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this"]},"description":"The IPv6 CIDR block"},"vpc_main_route_table_id":{"expression":{"references":["aws_vpc.this[0].main_route_table_id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ID of the main route table associated with this VPC"},"vpc_owner_id":{"expression":{"references":["aws_vpc.this[0].owner_id","aws_vpc.this[0]","aws_vpc.this"]},"description":"The ID of the AWS account that owns the VPC"},"vpc_secondary_cidr_blocks":{"expression":{"references":["aws_vpc_ipv4_cidr_block_association.this"]},"description":"List of secondary CIDR blocks of the VPC"}},"resources":[{"address":"aws_cloudwatch_log_group.flow_log","mode":"managed","type":"aws_cloudwatch_log_group","name":"flow_log","provider_config_key":"aws","expressions":{"kms_key_id":{"references":["var.flow_log_cloudwatch_log_group_kms_key_id"]},"name":{"references":["var.flow_log_cloudwatch_log_group_name_prefix","local.flow_log_cloudwatch_log_group_name_suffix"]},"retention_in_days":{"references":["var.flow_log_cloudwatch_log_group_retention_in_days"]},"tags":{"references":["var.tags","var.vpc_flow_log_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_flow_log_cloudwatch_log_group"]}},{"address":"aws_customer_gateway.this","mode":"managed","type":"aws_customer_gateway","name":"this","provider_config_key":"aws","expressions":{"bgp_asn":{"references":["each.value[\"bgp_asn\"]","each.value"]},"device_name":{"references":["each.value"]},"ip_address":{"references":["each.value[\"ip_address\"]","each.value"]},"tags":{"references":["var.name","each.key","var.tags","var.customer_gateway_tags"]},"type":{"constant_value":"ipsec.1"}},"schema_version":0,"for_each_expression":{"references":["var.customer_gateways"]}},{"address":"aws_db_subnet_group.database","mode":"managed","type":"aws_db_subnet_group","name":"database","provider_config_key":"aws","expressions":{"description":{"references":["var.name"]},"name":{"references":["var.database_subnet_group_name","var.name"]},"subnet_ids":{"references":["aws_subnet.database"]},"tags":{"references":["var.database_subnet_group_name","var.name","var.tags","var.database_subnet_group_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.database_subnets","var.create_database_subnet_group"]}},{"address":"aws_default_network_acl.this","mode":"managed","type":"aws_default_network_acl","name":"this","provider_config_key":"aws","expressions":{"default_network_acl_id":{"references":["aws_vpc.this[0].default_network_acl_id","aws_vpc.this[0]","aws_vpc.this"]},"subnet_ids":{"constant_value":null},"tags":{"references":["var.default_network_acl_name","var.name","var.tags","var.default_network_acl_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.manage_default_network_acl"]}},{"address":"aws_default_route_table.default","mode":"managed","type":"aws_default_route_table","name":"default","provider_config_key":"aws","expressions":{"default_route_table_id":{"references":["aws_vpc.this[0].default_route_table_id","aws_vpc.this[0]","aws_vpc.this"]},"propagating_vgws":{"references":["var.default_route_table_propagating_vgws"]},"tags":{"references":["var.default_route_table_name","var.name","var.tags","var.default_route_table_tags"]},"timeouts":{"create":{"constant_value":"5m"},"update":{"constant_value":"5m"}}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.manage_default_route_table"]}},{"address":"aws_default_security_group.this","mode":"managed","type":"aws_default_security_group","name":"this","provider_config_key":"aws","expressions":{"tags":{"references":["var.default_security_group_name","var.name","var.tags","var.default_security_group_tags"]},"vpc_id":{"references":["aws_vpc.this[0].id","aws_vpc.this[0]","aws_vpc.this"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.manage_default_security_group"]}},{"address":"aws_default_vpc.this","mode":"managed","type":"aws_default_vpc","name":"this","provider_config_key":"aws","expressions":{"enable_classiclink":{"constant_value":null},"enable_dns_hostnames":{"references":["var.default_vpc_enable_dns_hostnames"]},"enable_dns_support":{"references":["var.default_vpc_enable_dns_support"]},"tags":{"references":["var.default_vpc_name","var.tags","var.default_vpc_tags"]}},"schema_version":1,"count_expression":{"references":["var.manage_default_vpc"]}},{"address":"aws_egress_only_internet_gateway.this","mode":"managed","type":"aws_egress_only_internet_gateway","name":"this","provider_config_key":"aws","expressions":{"tags":{"references":["var.name","var.tags","var.igw_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_egress_only_igw","var.enable_ipv6","local.max_subnet_length"]}},{"address":"aws_eip.nat","mode":"managed","type":"aws_eip","name":"nat","provider_config_key":"aws","expressions":{"tags":{"references":["var.name","var.azs","var.single_nat_gateway","count.index","var.tags","var.nat_eip_tags"]},"vpc":{"constant_value":true}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.enable_nat_gateway","var.reuse_nat_ips","local.nat_gateway_count"]}},{"address":"aws_elasticache_subnet_group.elasticache","mode":"managed","type":"aws_elasticache_subnet_group","name":"elasticache","provider_config_key":"aws","expressions":{"description":{"references":["var.name"]},"name":{"references":["var.elasticache_subnet_group_name","var.name"]},"subnet_ids":{"references":["aws_subnet.elasticache"]},"tags":{"references":["var.elasticache_subnet_group_name","var.name","var.tags","var.elasticache_subnet_group_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.elasticache_subnets","var.create_elasticache_subnet_group"]}},{"address":"aws_flow_log.this","mode":"managed","type":"aws_flow_log","name":"this","provider_config_key":"aws","expressions":{"iam_role_arn":{"references":["local.flow_log_iam_role_arn"]},"log_destination":{"references":["local.flow_log_destination_arn"]},"log_destination_type":{"references":["var.flow_log_destination_type"]},"log_format":{"references":["var.flow_log_log_format"]},"max_aggregation_interval":{"references":["var.flow_log_max_aggregation_interval"]},"tags":{"references":["var.tags","var.vpc_flow_log_tags"]},"traffic_type":{"references":["var.flow_log_traffic_type"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.enable_flow_log"]}},{"address":"aws_iam_policy.vpc_flow_log_cloudwatch","mode":"managed","type":"aws_iam_policy","name":"vpc_flow_log_cloudwatch","provider_config_key":"aws","expressions":{"name_prefix":{"constant_value":"vpc-flow-log-to-cloudwatch-"},"policy":{"references":["data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0].json","data.aws_iam_policy_document.vpc_flow_log_cloudwatch[0]","data.aws_iam_policy_document.vpc_flow_log_cloudwatch"]},"tags":{"references":["var.tags","var.vpc_flow_log_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_flow_log_cloudwatch_iam_role"]}},{"address":"aws_iam_role.vpc_flow_log_cloudwatch","mode":"managed","type":"aws_iam_role","name":"vpc_flow_log_cloudwatch","provider_config_key":"aws","expressions":{"assume_role_policy":{"references":["data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0].json","data.aws_iam_policy_document.flow_log_cloudwatch_assume_role[0]","data.aws_iam_policy_document.flow_log_cloudwatch_assume_role"]},"name_prefix":{"constant_value":"vpc-flow-log-role-"},"permissions_boundary":{"references":["var.vpc_flow_log_permissions_boundary"]},"tags":{"references":["var.tags","var.vpc_flow_log_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_flow_log_cloudwatch_iam_role"]}},{"address":"aws_iam_role_policy_attachment.vpc_flow_log_cloudwatch","mode":"managed","type":"aws_iam_role_policy_attachment","name":"vpc_flow_log_cloudwatch","provider_config_key":"aws","expressions":{"policy_arn":{"references":["aws_iam_policy.vpc_flow_log_cloudwatch[0].arn","aws_iam_policy.vpc_flow_log_cloudwatch[0]","aws_iam_policy.vpc_flow_log_cloudwatch"]},"role":{"references":["aws_iam_role.vpc_flow_log_cloudwatch[0].name","aws_iam_role.vpc_flow_log_cloudwatch[0]","aws_iam_role.vpc_flow_log_cloudwatch"]}},"schema_version":0,"count_expression":{"references":["local.create_flow_log_cloudwatch_iam_role"]}},{"address":"aws_internet_gateway.this","mode":"managed","type":"aws_internet_gateway","name":"this","provider_config_key":"aws","expressions":{"tags":{"references":["var.name","var.tags","var.igw_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_igw","var.public_subnets"]}},{"address":"aws_nat_gateway.this","mode":"managed","type":"aws_nat_gateway","name":"this","provider_config_key":"aws","expressions":{"allocation_id":{"references":["local.nat_gateway_ips","var.single_nat_gateway","count.index"]},"subnet_id":{"references":["aws_subnet.public","var.single_nat_gateway","count.index"]},"tags":{"references":["var.name","var.azs","var.single_nat_gateway","count.index","var.tags","var.nat_gateway_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.enable_nat_gateway","local.nat_gateway_count"]},"depends_on":["aws_internet_gateway.this"]},{"address":"aws_network_acl.database","mode":"managed","type":"aws_network_acl","name":"database","provider_config_key":"aws","expressions":{"subnet_ids":{"references":["aws_subnet.database"]},"tags":{"references":["var.name","var.database_subnet_suffix","var.tags","var.database_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.database_dedicated_network_acl","var.database_subnets"]}},{"address":"aws_network_acl.elasticache","mode":"managed","type":"aws_network_acl","name":"elasticache","provider_config_key":"aws","expressions":{"subnet_ids":{"references":["aws_subnet.elasticache"]},"tags":{"references":["var.name","var.elasticache_subnet_suffix","var.tags","var.elasticache_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.elasticache_dedicated_network_acl","var.elasticache_subnets"]}},{"address":"aws_network_acl.intra","mode":"managed","type":"aws_network_acl","name":"intra","provider_config_key":"aws","expressions":{"subnet_ids":{"references":["aws_subnet.intra"]},"tags":{"references":["var.name","var.intra_subnet_suffix","var.tags","var.intra_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.intra_dedicated_network_acl","var.intra_subnets"]}},{"address":"aws_network_acl.outpost","mode":"managed","type":"aws_network_acl","name":"outpost","provider_config_key":"aws","expressions":{"subnet_ids":{"references":["aws_subnet.outpost"]},"tags":{"references":["var.name","var.outpost_subnet_suffix","var.tags","var.outpost_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.outpost_dedicated_network_acl","var.outpost_subnets"]}},{"address":"aws_network_acl.private","mode":"managed","type":"aws_network_acl","name":"private","provider_config_key":"aws","expressions":{"subnet_ids":{"references":["aws_subnet.private"]},"tags":{"references":["var.name","var.private_subnet_suffix","var.tags","var.private_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.private_dedicated_network_acl","var.private_subnets"]}},{"address":"aws_network_acl.public","mode":"managed","type":"aws_network_acl","name":"public","provider_config_key":"aws","expressions":{"subnet_ids":{"references":["aws_subnet.public"]},"tags":{"references":["var.name","var.public_subnet_suffix","var.tags","var.public_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.public_dedicated_network_acl","var.public_subnets"]}},{"address":"aws_network_acl.redshift","mode":"managed","type":"aws_network_acl","name":"redshift","provider_config_key":"aws","expressions":{"subnet_ids":{"references":["aws_subnet.redshift"]},"tags":{"references":["var.name","var.redshift_subnet_suffix","var.tags","var.redshift_acl_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.redshift_dedicated_network_acl","var.redshift_subnets"]}},{"address":"aws_network_acl_rule.database_inbound","mode":"managed","type":"aws_network_acl_rule","name":"database_inbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.database_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.database_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.database_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.database_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.database_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.database[0].id","aws_network_acl.database[0]","aws_network_acl.database"]},"protocol":{"references":["var.database_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.database_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.database_inbound_acl_rules","count.index"]},"to_port":{"references":["var.database_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.database_dedicated_network_acl","var.database_subnets","var.database_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.database_outbound","mode":"managed","type":"aws_network_acl_rule","name":"database_outbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.database_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.database_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.database_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.database_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.database_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.database[0].id","aws_network_acl.database[0]","aws_network_acl.database"]},"protocol":{"references":["var.database_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.database_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.database_outbound_acl_rules","count.index"]},"to_port":{"references":["var.database_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.database_dedicated_network_acl","var.database_subnets","var.database_outbound_acl_rules"]}},{"address":"aws_network_acl_rule.elasticache_inbound","mode":"managed","type":"aws_network_acl_rule","name":"elasticache_inbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.elasticache[0].id","aws_network_acl.elasticache[0]","aws_network_acl.elasticache"]},"protocol":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.elasticache_inbound_acl_rules","count.index"]},"to_port":{"references":["var.elasticache_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.elasticache_dedicated_network_acl","var.elasticache_subnets","var.elasticache_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.elasticache_outbound","mode":"managed","type":"aws_network_acl_rule","name":"elasticache_outbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.elasticache[0].id","aws_network_acl.elasticache[0]","aws_network_acl.elasticache"]},"protocol":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.elasticache_outbound_acl_rules","count.index"]},"to_port":{"references":["var.elasticache_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.elasticache_dedicated_network_acl","var.elasticache_subnets","var.elasticache_outbound_acl_rules"]}},{"address":"aws_network_acl_rule.intra_inbound","mode":"managed","type":"aws_network_acl_rule","name":"intra_inbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.intra_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.intra_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.intra_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.intra_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.intra_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.intra[0].id","aws_network_acl.intra[0]","aws_network_acl.intra"]},"protocol":{"references":["var.intra_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.intra_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.intra_inbound_acl_rules","count.index"]},"to_port":{"references":["var.intra_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.intra_dedicated_network_acl","var.intra_subnets","var.intra_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.intra_outbound","mode":"managed","type":"aws_network_acl_rule","name":"intra_outbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.intra_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.intra_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.intra_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.intra_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.intra_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.intra[0].id","aws_network_acl.intra[0]","aws_network_acl.intra"]},"protocol":{"references":["var.intra_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.intra_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.intra_outbound_acl_rules","count.index"]},"to_port":{"references":["var.intra_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.intra_dedicated_network_acl","var.intra_subnets","var.intra_outbound_acl_rules"]}},{"address":"aws_network_acl_rule.outpost_inbound","mode":"managed","type":"aws_network_acl_rule","name":"outpost_inbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.outpost_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.outpost_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.outpost_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.outpost_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.outpost_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.outpost[0].id","aws_network_acl.outpost[0]","aws_network_acl.outpost"]},"protocol":{"references":["var.outpost_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.outpost_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.outpost_inbound_acl_rules","count.index"]},"to_port":{"references":["var.outpost_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.outpost_dedicated_network_acl","var.outpost_subnets","var.outpost_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.outpost_outbound","mode":"managed","type":"aws_network_acl_rule","name":"outpost_outbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.outpost_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.outpost_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.outpost_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.outpost_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.outpost_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.outpost[0].id","aws_network_acl.outpost[0]","aws_network_acl.outpost"]},"protocol":{"references":["var.outpost_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.outpost_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.outpost_outbound_acl_rules","count.index"]},"to_port":{"references":["var.outpost_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.outpost_dedicated_network_acl","var.outpost_subnets","var.outpost_outbound_acl_rules"]}},{"address":"aws_network_acl_rule.private_inbound","mode":"managed","type":"aws_network_acl_rule","name":"private_inbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.private_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.private_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.private_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.private_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.private_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.private[0].id","aws_network_acl.private[0]","aws_network_acl.private"]},"protocol":{"references":["var.private_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.private_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.private_inbound_acl_rules","count.index"]},"to_port":{"references":["var.private_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.private_dedicated_network_acl","var.private_subnets","var.private_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.private_outbound","mode":"managed","type":"aws_network_acl_rule","name":"private_outbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.private_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.private_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.private_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.private_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.private_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.private[0].id","aws_network_acl.private[0]","aws_network_acl.private"]},"protocol":{"references":["var.private_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.private_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.private_outbound_acl_rules","count.index"]},"to_port":{"references":["var.private_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.private_dedicated_network_acl","var.private_subnets","var.private_outbound_acl_rules"]}},{"address":"aws_network_acl_rule.public_inbound","mode":"managed","type":"aws_network_acl_rule","name":"public_inbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.public_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.public_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.public_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.public_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.public_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.public[0].id","aws_network_acl.public[0]","aws_network_acl.public"]},"protocol":{"references":["var.public_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.public_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.public_inbound_acl_rules","count.index"]},"to_port":{"references":["var.public_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.public_dedicated_network_acl","var.public_subnets","var.public_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.public_outbound","mode":"managed","type":"aws_network_acl_rule","name":"public_outbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.public_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.public_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.public_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.public_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.public_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.public[0].id","aws_network_acl.public[0]","aws_network_acl.public"]},"protocol":{"references":["var.public_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.public_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.public_outbound_acl_rules","count.index"]},"to_port":{"references":["var.public_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.public_dedicated_network_acl","var.public_subnets","var.public_outbound_acl_rules"]}},{"address":"aws_network_acl_rule.redshift_inbound","mode":"managed","type":"aws_network_acl_rule","name":"redshift_inbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.redshift_inbound_acl_rules","count.index"]},"egress":{"constant_value":false},"from_port":{"references":["var.redshift_inbound_acl_rules","count.index"]},"icmp_code":{"references":["var.redshift_inbound_acl_rules","count.index"]},"icmp_type":{"references":["var.redshift_inbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.redshift_inbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.redshift[0].id","aws_network_acl.redshift[0]","aws_network_acl.redshift"]},"protocol":{"references":["var.redshift_inbound_acl_rules","count.index"]},"rule_action":{"references":["var.redshift_inbound_acl_rules","count.index"]},"rule_number":{"references":["var.redshift_inbound_acl_rules","count.index"]},"to_port":{"references":["var.redshift_inbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.redshift_dedicated_network_acl","var.redshift_subnets","var.redshift_inbound_acl_rules"]}},{"address":"aws_network_acl_rule.redshift_outbound","mode":"managed","type":"aws_network_acl_rule","name":"redshift_outbound","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.redshift_outbound_acl_rules","count.index"]},"egress":{"constant_value":true},"from_port":{"references":["var.redshift_outbound_acl_rules","count.index"]},"icmp_code":{"references":["var.redshift_outbound_acl_rules","count.index"]},"icmp_type":{"references":["var.redshift_outbound_acl_rules","count.index"]},"ipv6_cidr_block":{"references":["var.redshift_outbound_acl_rules","count.index"]},"network_acl_id":{"references":["aws_network_acl.redshift[0].id","aws_network_acl.redshift[0]","aws_network_acl.redshift"]},"protocol":{"references":["var.redshift_outbound_acl_rules","count.index"]},"rule_action":{"references":["var.redshift_outbound_acl_rules","count.index"]},"rule_number":{"references":["var.redshift_outbound_acl_rules","count.index"]},"to_port":{"references":["var.redshift_outbound_acl_rules","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.redshift_dedicated_network_acl","var.redshift_subnets","var.redshift_outbound_acl_rules"]}},{"address":"aws_redshift_subnet_group.redshift","mode":"managed","type":"aws_redshift_subnet_group","name":"redshift","provider_config_key":"aws","expressions":{"description":{"references":["var.name"]},"name":{"references":["var.redshift_subnet_group_name","var.name"]},"subnet_ids":{"references":["aws_subnet.redshift"]},"tags":{"references":["var.redshift_subnet_group_name","var.name","var.tags","var.redshift_subnet_group_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.redshift_subnets","var.create_redshift_subnet_group"]}},{"address":"aws_route.database_internet_gateway","mode":"managed","type":"aws_route","name":"database_internet_gateway","provider_config_key":"aws","expressions":{"destination_cidr_block":{"constant_value":"0.0.0.0/0"},"gateway_id":{"references":["aws_internet_gateway.this[0].id","aws_internet_gateway.this[0]","aws_internet_gateway.this"]},"route_table_id":{"references":["aws_route_table.database[0].id","aws_route_table.database[0]","aws_route_table.database"]},"timeouts":{"create":{"constant_value":"5m"}}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_igw","var.create_database_subnet_route_table","var.database_subnets","var.create_database_internet_gateway_route","var.create_database_nat_gateway_route"]}},{"address":"aws_route.database_ipv6_egress","mode":"managed","type":"aws_route","name":"database_ipv6_egress","provider_config_key":"aws","expressions":{"destination_ipv6_cidr_block":{"constant_value":"::/0"},"egress_only_gateway_id":{"references":["aws_egress_only_internet_gateway.this[0].id","aws_egress_only_internet_gateway.this[0]","aws_egress_only_internet_gateway.this"]},"route_table_id":{"references":["aws_route_table.database[0].id","aws_route_table.database[0]","aws_route_table.database"]},"timeouts":{"create":{"constant_value":"5m"}}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_egress_only_igw","var.enable_ipv6","var.create_database_subnet_route_table","var.database_subnets","var.create_database_internet_gateway_route"]}},{"address":"aws_route.database_nat_gateway","mode":"managed","type":"aws_route","name":"database_nat_gateway","provider_config_key":"aws","expressions":{"destination_cidr_block":{"constant_value":"0.0.0.0/0"},"nat_gateway_id":{"references":["aws_nat_gateway.this","count.index"]},"route_table_id":{"references":["aws_route_table.database","count.index"]},"timeouts":{"create":{"constant_value":"5m"}}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_database_subnet_route_table","var.database_subnets","var.create_database_internet_gateway_route","var.create_database_nat_gateway_route","var.enable_nat_gateway","var.single_nat_gateway","var.database_subnets"]}},{"address":"aws_route.private_ipv6_egress","mode":"managed","type":"aws_route","name":"private_ipv6_egress","provider_config_key":"aws","expressions":{"destination_ipv6_cidr_block":{"constant_value":"::/0"},"egress_only_gateway_id":{"references":["aws_egress_only_internet_gateway.this"]},"route_table_id":{"references":["aws_route_table.private","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_egress_only_igw","var.enable_ipv6","var.private_subnets"]}},{"address":"aws_route.private_nat_gateway","mode":"managed","type":"aws_route","name":"private_nat_gateway","provider_config_key":"aws","expressions":{"destination_cidr_block":{"references":["var.nat_gateway_destination_cidr_block"]},"nat_gateway_id":{"references":["aws_nat_gateway.this","count.index"]},"route_table_id":{"references":["aws_route_table.private","count.index"]},"timeouts":{"create":{"constant_value":"5m"}}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.enable_nat_gateway","local.nat_gateway_count"]}},{"address":"aws_route.public_internet_gateway","mode":"managed","type":"aws_route","name":"public_internet_gateway","provider_config_key":"aws","expressions":{"destination_cidr_block":{"constant_value":"0.0.0.0/0"},"gateway_id":{"references":["aws_internet_gateway.this[0].id","aws_internet_gateway.this[0]","aws_internet_gateway.this"]},"route_table_id":{"references":["aws_route_table.public[0].id","aws_route_table.public[0]","aws_route_table.public"]},"timeouts":{"create":{"constant_value":"5m"}}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_igw","var.public_subnets"]}},{"address":"aws_route.public_internet_gateway_ipv6","mode":"managed","type":"aws_route","name":"public_internet_gateway_ipv6","provider_config_key":"aws","expressions":{"destination_ipv6_cidr_block":{"constant_value":"::/0"},"gateway_id":{"references":["aws_internet_gateway.this[0].id","aws_internet_gateway.this[0]","aws_internet_gateway.this"]},"route_table_id":{"references":["aws_route_table.public[0].id","aws_route_table.public[0]","aws_route_table.public"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_igw","var.enable_ipv6","var.public_subnets"]}},{"address":"aws_route_table.database","mode":"managed","type":"aws_route_table","name":"database","provider_config_key":"aws","expressions":{"tags":{"references":["var.single_nat_gateway","var.create_database_internet_gateway_route","var.name","var.database_subnet_suffix","var.name","var.database_subnet_suffix","var.azs","count.index","var.tags","var.database_route_table_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_database_subnet_route_table","var.database_subnets","var.single_nat_gateway","var.create_database_internet_gateway_route","var.database_subnets"]}},{"address":"aws_route_table.elasticache","mode":"managed","type":"aws_route_table","name":"elasticache","provider_config_key":"aws","expressions":{"tags":{"references":["var.name","var.elasticache_subnet_suffix","var.tags","var.elasticache_route_table_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_elasticache_subnet_route_table","var.elasticache_subnets"]}},{"address":"aws_route_table.intra","mode":"managed","type":"aws_route_table","name":"intra","provider_config_key":"aws","expressions":{"tags":{"references":["var.name","var.intra_subnet_suffix","var.tags","var.intra_route_table_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.intra_subnets"]}},{"address":"aws_route_table.private","mode":"managed","type":"aws_route_table","name":"private","provider_config_key":"aws","expressions":{"tags":{"references":["var.single_nat_gateway","var.name","var.private_subnet_suffix","var.name","var.private_subnet_suffix","var.azs","count.index","var.tags","var.private_route_table_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","local.max_subnet_length","local.nat_gateway_count"]}},{"address":"aws_route_table.public","mode":"managed","type":"aws_route_table","name":"public","provider_config_key":"aws","expressions":{"tags":{"references":["var.name","var.public_subnet_suffix","var.tags","var.public_route_table_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.public_subnets"]}},{"address":"aws_route_table.redshift","mode":"managed","type":"aws_route_table","name":"redshift","provider_config_key":"aws","expressions":{"tags":{"references":["var.name","var.redshift_subnet_suffix","var.tags","var.redshift_route_table_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.create_redshift_subnet_route_table","var.redshift_subnets"]}},{"address":"aws_route_table_association.database","mode":"managed","type":"aws_route_table_association","name":"database","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.database","aws_route_table.private","var.create_database_subnet_route_table","var.single_nat_gateway","var.create_database_internet_gateway_route","count.index","count.index"]},"subnet_id":{"references":["aws_subnet.database","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.database_subnets","var.database_subnets"]}},{"address":"aws_route_table_association.elasticache","mode":"managed","type":"aws_route_table_association","name":"elasticache","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.elasticache","aws_route_table.private","var.single_nat_gateway","var.create_elasticache_subnet_route_table","count.index"]},"subnet_id":{"references":["aws_subnet.elasticache","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.elasticache_subnets","var.elasticache_subnets"]}},{"address":"aws_route_table_association.intra","mode":"managed","type":"aws_route_table_association","name":"intra","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.intra"]},"subnet_id":{"references":["aws_subnet.intra","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.intra_subnets","var.intra_subnets"]}},{"address":"aws_route_table_association.outpost","mode":"managed","type":"aws_route_table_association","name":"outpost","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private","var.single_nat_gateway","count.index"]},"subnet_id":{"references":["aws_subnet.outpost","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.outpost_subnets","var.outpost_subnets"]}},{"address":"aws_route_table_association.private","mode":"managed","type":"aws_route_table_association","name":"private","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private","var.single_nat_gateway","count.index"]},"subnet_id":{"references":["aws_subnet.private","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.private_subnets","var.private_subnets"]}},{"address":"aws_route_table_association.public","mode":"managed","type":"aws_route_table_association","name":"public","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public[0].id","aws_route_table.public[0]","aws_route_table.public"]},"subnet_id":{"references":["aws_subnet.public","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.public_subnets","var.public_subnets"]}},{"address":"aws_route_table_association.redshift","mode":"managed","type":"aws_route_table_association","name":"redshift","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.redshift","aws_route_table.private","var.single_nat_gateway","var.create_redshift_subnet_route_table","count.index"]},"subnet_id":{"references":["aws_subnet.redshift","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.redshift_subnets","var.enable_public_redshift","var.redshift_subnets"]}},{"address":"aws_route_table_association.redshift_public","mode":"managed","type":"aws_route_table_association","name":"redshift_public","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.redshift","aws_route_table.public","var.single_nat_gateway","var.create_redshift_subnet_route_table","count.index"]},"subnet_id":{"references":["aws_subnet.redshift","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.redshift_subnets","var.enable_public_redshift","var.redshift_subnets"]}},{"address":"aws_subnet.database","mode":"managed","type":"aws_subnet","name":"database","provider_config_key":"aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.database_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.database_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.azs","count.index","var.azs","count.index"]},"availability_zone_id":{"references":["var.azs","count.index","var.azs","count.index"]},"cidr_block":{"references":["var.database_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.database_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.database_subnet_ipv6_prefixes","count.index"]},"tags":{"references":["var.database_subnet_names","count.index","var.name","var.database_subnet_suffix","var.azs","count.index","var.tags","var.database_subnet_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.database_subnets","var.database_subnets"]}},{"address":"aws_subnet.elasticache","mode":"managed","type":"aws_subnet","name":"elasticache","provider_config_key":"aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.elasticache_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.elasticache_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.azs","count.index","var.azs","count.index"]},"availability_zone_id":{"references":["var.azs","count.index","var.azs","count.index"]},"cidr_block":{"references":["var.elasticache_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.elasticache_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.elasticache_subnet_ipv6_prefixes","count.index"]},"tags":{"references":["var.elasticache_subnet_names","count.index","var.name","var.elasticache_subnet_suffix","var.azs","count.index","var.tags","var.elasticache_subnet_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.elasticache_subnets","var.elasticache_subnets"]}},{"address":"aws_subnet.intra","mode":"managed","type":"aws_subnet","name":"intra","provider_config_key":"aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.intra_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.intra_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.azs","count.index","var.azs","count.index"]},"availability_zone_id":{"references":["var.azs","count.index","var.azs","count.index"]},"cidr_block":{"references":["var.intra_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.intra_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.intra_subnet_ipv6_prefixes","count.index"]},"tags":{"references":["var.intra_subnet_names","count.index","var.name","var.intra_subnet_suffix","var.azs","count.index","var.tags","var.intra_subnet_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.intra_subnets","var.intra_subnets"]}},{"address":"aws_subnet.outpost","mode":"managed","type":"aws_subnet","name":"outpost","provider_config_key":"aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.outpost_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.outpost_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.outpost_az"]},"cidr_block":{"references":["var.outpost_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.outpost_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.outpost_subnet_ipv6_prefixes","count.index"]},"outpost_arn":{"references":["var.outpost_arn"]},"tags":{"references":["var.outpost_subnet_names","count.index","var.name","var.outpost_subnet_suffix","var.outpost_az","var.tags","var.outpost_subnet_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.outpost_subnets","var.outpost_subnets"]}},{"address":"aws_subnet.private","mode":"managed","type":"aws_subnet","name":"private","provider_config_key":"aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.private_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.private_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.azs","count.index","var.azs","count.index"]},"availability_zone_id":{"references":["var.azs","count.index","var.azs","count.index"]},"cidr_block":{"references":["var.private_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.private_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.private_subnet_ipv6_prefixes","count.index"]},"tags":{"references":["var.private_subnet_names","count.index","var.name","var.private_subnet_suffix","var.azs","count.index","var.tags","var.private_subnet_tags","var.private_subnet_tags_per_az","var.azs","count.index"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.private_subnets","var.private_subnets"]}},{"address":"aws_subnet.public","mode":"managed","type":"aws_subnet","name":"public","provider_config_key":"aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.public_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.public_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.azs","count.index","var.azs","count.index"]},"availability_zone_id":{"references":["var.azs","count.index","var.azs","count.index"]},"cidr_block":{"references":["var.public_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.public_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.public_subnet_ipv6_prefixes","count.index"]},"map_public_ip_on_launch":{"references":["var.map_public_ip_on_launch"]},"tags":{"references":["var.public_subnet_names","count.index","var.name","var.public_subnet_suffix","var.azs","count.index","var.tags","var.public_subnet_tags","var.public_subnet_tags_per_az","var.azs","count.index"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.public_subnets","var.one_nat_gateway_per_az","var.public_subnets","var.azs","var.public_subnets"]}},{"address":"aws_subnet.redshift","mode":"managed","type":"aws_subnet","name":"redshift","provider_config_key":"aws","expressions":{"assign_ipv6_address_on_creation":{"references":["var.redshift_subnet_assign_ipv6_address_on_creation","var.assign_ipv6_address_on_creation","var.redshift_subnet_assign_ipv6_address_on_creation"]},"availability_zone":{"references":["var.azs","count.index","var.azs","count.index"]},"availability_zone_id":{"references":["var.azs","count.index","var.azs","count.index"]},"cidr_block":{"references":["var.redshift_subnets","count.index"]},"ipv6_cidr_block":{"references":["var.enable_ipv6","var.redshift_subnet_ipv6_prefixes","aws_vpc.this[0].ipv6_cidr_block","aws_vpc.this[0]","aws_vpc.this","var.redshift_subnet_ipv6_prefixes","count.index"]},"tags":{"references":["var.redshift_subnet_names","count.index","var.name","var.redshift_subnet_suffix","var.azs","count.index","var.tags","var.redshift_subnet_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc","var.redshift_subnets","var.redshift_subnets"]}},{"address":"aws_vpc.this","mode":"managed","type":"aws_vpc","name":"this","provider_config_key":"aws","expressions":{"assign_generated_ipv6_cidr_block":{"references":["var.enable_ipv6","var.use_ipam_pool"]},"cidr_block":{"references":["var.use_ipam_pool","var.cidr"]},"enable_classiclink":{"constant_value":null},"enable_classiclink_dns_support":{"constant_value":null},"enable_dns_hostnames":{"references":["var.enable_dns_hostnames"]},"enable_dns_support":{"references":["var.enable_dns_support"]},"instance_tenancy":{"references":["var.instance_tenancy"]},"ipv4_ipam_pool_id":{"references":["var.ipv4_ipam_pool_id"]},"ipv4_netmask_length":{"references":["var.ipv4_netmask_length"]},"ipv6_cidr_block":{"references":["var.ipv6_cidr"]},"ipv6_ipam_pool_id":{"references":["var.ipv6_ipam_pool_id"]},"ipv6_netmask_length":{"references":["var.ipv6_netmask_length"]},"tags":{"references":["var.name","var.tags","var.vpc_tags"]}},"schema_version":1,"count_expression":{"references":["local.create_vpc"]}},{"address":"aws_vpc_dhcp_options.this","mode":"managed","type":"aws_vpc_dhcp_options","name":"this","provider_config_key":"aws","expressions":{"domain_name":{"references":["var.dhcp_options_domain_name"]},"domain_name_servers":{"references":["var.dhcp_options_domain_name_servers"]},"netbios_name_servers":{"references":["var.dhcp_options_netbios_name_servers"]},"netbios_node_type":{"references":["var.dhcp_options_netbios_node_type"]},"ntp_servers":{"references":["var.dhcp_options_ntp_servers"]},"tags":{"references":["var.name","var.tags","var.dhcp_options_tags"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.enable_dhcp_options"]}},{"address":"aws_vpc_dhcp_options_association.this","mode":"managed","type":"aws_vpc_dhcp_options_association","name":"this","provider_config_key":"aws","expressions":{"dhcp_options_id":{"references":["aws_vpc_dhcp_options.this[0].id","aws_vpc_dhcp_options.this[0]","aws_vpc_dhcp_options.this"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.enable_dhcp_options"]}},{"address":"aws_vpc_ipv4_cidr_block_association.this","mode":"managed","type":"aws_vpc_ipv4_cidr_block_association","name":"this","provider_config_key":"aws","expressions":{"cidr_block":{"references":["var.secondary_cidr_blocks","count.index"]},"vpc_id":{"references":["aws_vpc.this[0].id","aws_vpc.this[0]","aws_vpc.this"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.secondary_cidr_blocks","var.secondary_cidr_blocks"]}},{"address":"aws_vpn_gateway.this","mode":"managed","type":"aws_vpn_gateway","name":"this","provider_config_key":"aws","expressions":{"amazon_side_asn":{"references":["var.amazon_side_asn"]},"availability_zone":{"references":["var.vpn_gateway_az"]},"tags":{"references":["var.name","var.tags","var.vpn_gateway_tags"]},"vpc_id":{"references":["local.vpc_id"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.enable_vpn_gateway"]}},{"address":"aws_vpn_gateway_attachment.this","mode":"managed","type":"aws_vpn_gateway_attachment","name":"this","provider_config_key":"aws","expressions":{"vpc_id":{"references":["local.vpc_id"]},"vpn_gateway_id":{"references":["var.vpn_gateway_id"]}},"schema_version":0,"count_expression":{"references":["var.vpn_gateway_id"]}},{"address":"aws_vpn_gateway_route_propagation.intra","mode":"managed","type":"aws_vpn_gateway_route_propagation","name":"intra","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.intra","count.index"]},"vpn_gateway_id":{"references":["aws_vpn_gateway.this","aws_vpn_gateway_attachment.this","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.propagate_intra_route_tables_vgw","var.enable_vpn_gateway","var.vpn_gateway_id","var.intra_subnets"]}},{"address":"aws_vpn_gateway_route_propagation.private","mode":"managed","type":"aws_vpn_gateway_route_propagation","name":"private","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.private","count.index"]},"vpn_gateway_id":{"references":["aws_vpn_gateway.this","aws_vpn_gateway_attachment.this","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.propagate_private_route_tables_vgw","var.enable_vpn_gateway","var.vpn_gateway_id","var.private_subnets"]}},{"address":"aws_vpn_gateway_route_propagation.public","mode":"managed","type":"aws_vpn_gateway_route_propagation","name":"public","provider_config_key":"aws","expressions":{"route_table_id":{"references":["aws_route_table.public","count.index"]},"vpn_gateway_id":{"references":["aws_vpn_gateway.this","aws_vpn_gateway_attachment.this","count.index"]}},"schema_version":0,"count_expression":{"references":["local.create_vpc","var.propagate_public_route_tables_vgw","var.enable_vpn_gateway","var.vpn_gateway_id"]}},{"address":"data.aws_iam_policy_document.flow_log_cloudwatch_assume_role","mode":"data","type":"aws_iam_policy_document","name":"flow_log_cloudwatch_assume_role","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["sts:AssumeRole"]},"effect":{"constant_value":"Allow"},"principals":[{"identifiers":{"constant_value":["vpc-flow-logs.amazonaws.com"]},"type":{"constant_value":"Service"}}],"sid":{"constant_value":"AWSVPCFlowLogsAssumeRole"}}]},"schema_version":0,"count_expression":{"references":["local.create_flow_log_cloudwatch_iam_role"]}},{"address":"data.aws_iam_policy_document.vpc_flow_log_cloudwatch","mode":"data","type":"aws_iam_policy_document","name":"vpc_flow_log_cloudwatch","provider_config_key":"aws","expressions":{"statement":[{"actions":{"constant_value":["logs:CreateLogStream","logs:PutLogEvents","logs:DescribeLogGroups","logs:DescribeLogStreams"]},"effect":{"constant_value":"Allow"},"resources":{"constant_value":["*"]},"sid":{"constant_value":"AWSVPCFlowLogsPushToCloudWatch"}}]},"schema_version":0,"count_expression":{"references":["local.create_flow_log_cloudwatch_iam_role"]}}],"variables":{"amazon_side_asn":{"default":"64512","description":"The Autonomous System Number (ASN) for the Amazon side of the gateway. By default the virtual private gateway is created with the current default Amazon ASN."},"assign_ipv6_address_on_creation":{"default":false,"description":"Assign IPv6 address on subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"azs":{"default":[],"description":"A list of availability zones names or ids in the region"},"cidr":{"default":"0.0.0.0/0","description":"(Optional) The IPv4 CIDR block for the VPC. CIDR can be explicitly set or it can be derived from IPAM using `ipv4_netmask_length` \u0026 `ipv4_ipam_pool_id`"},"create_database_internet_gateway_route":{"default":false,"description":"Controls if an internet gateway route for public database access should be created"},"create_database_nat_gateway_route":{"default":false,"description":"Controls if a nat gateway route should be created to give internet access to the database subnets"},"create_database_subnet_group":{"default":true,"description":"Controls if database subnet group should be created (n.b. database_subnets must also be set)"},"create_database_subnet_route_table":{"default":false,"description":"Controls if separate route table for database should be created"},"create_egress_only_igw":{"default":true,"description":"Controls if an Egress Only Internet Gateway is created and its related routes."},"create_elasticache_subnet_group":{"default":true,"description":"Controls if elasticache subnet group should be created"},"create_elasticache_subnet_route_table":{"default":false,"description":"Controls if separate route table for elasticache should be created"},"create_flow_log_cloudwatch_iam_role":{"default":false,"description":"Whether to create IAM role for VPC Flow Logs"},"create_flow_log_cloudwatch_log_group":{"default":false,"description":"Whether to create CloudWatch log group for VPC Flow Logs"},"create_igw":{"default":true,"description":"Controls if an Internet Gateway is created for public subnets and the related routes that connect them."},"create_redshift_subnet_group":{"default":true,"description":"Controls if redshift subnet group should be created"},"create_redshift_subnet_route_table":{"default":false,"description":"Controls if separate route table for redshift should be created"},"create_vpc":{"default":true,"description":"Controls if VPC should be created (it affects almost all resources)"},"customer_gateway_tags":{"default":{},"description":"Additional tags for the Customer Gateway"},"customer_gateways":{"default":{},"description":"Maps of Customer Gateway's attributes (BGP ASN and Gateway's Internet-routable external IP address)"},"database_acl_tags":{"default":{},"description":"Additional tags for the database subnets network ACL"},"database_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for database subnets"},"database_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Database subnets inbound network ACL rules"},"database_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Database subnets outbound network ACL rules"},"database_route_table_tags":{"default":{},"description":"Additional tags for the database route tables"},"database_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on database subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"database_subnet_group_name":{"default":null,"description":"Name of database subnet group"},"database_subnet_group_tags":{"default":{},"description":"Additional tags for the database subnet group"},"database_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 database subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"database_subnet_names":{"default":[],"description":"Explicit values to use in the Name tag on database subnets. If empty, Name tags are generated."},"database_subnet_suffix":{"default":"db","description":"Suffix to append to database subnets name"},"database_subnet_tags":{"default":{},"description":"Additional tags for the database subnets"},"database_subnets":{"default":[],"description":"A list of database subnets"},"default_network_acl_egress":{"default":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_no":"100","to_port":"0"},{"action":"allow","from_port":"0","ipv6_cidr_block":"::/0","protocol":"-1","rule_no":"101","to_port":"0"}],"description":"List of maps of egress rules to set on the Default Network ACL"},"default_network_acl_ingress":{"default":[{"action":"allow","cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_no":"100","to_port":"0"},{"action":"allow","from_port":"0","ipv6_cidr_block":"::/0","protocol":"-1","rule_no":"101","to_port":"0"}],"description":"List of maps of ingress rules to set on the Default Network ACL"},"default_network_acl_name":{"default":null,"description":"Name to be used on the Default Network ACL"},"default_network_acl_tags":{"default":{},"description":"Additional tags for the Default Network ACL"},"default_route_table_name":{"default":null,"description":"Name to be used on the default route table"},"default_route_table_propagating_vgws":{"default":[],"description":"List of virtual gateways for propagation"},"default_route_table_routes":{"default":[],"description":"Configuration block of routes. See https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/default_route_table#route"},"default_route_table_tags":{"default":{},"description":"Additional tags for the default route table"},"default_security_group_egress":{"default":[],"description":"List of maps of egress rules to set on the default security group"},"default_security_group_ingress":{"default":[],"description":"List of maps of ingress rules to set on the default security group"},"default_security_group_name":{"default":null,"description":"Name to be used on the default security group"},"default_security_group_tags":{"default":{},"description":"Additional tags for the default security group"},"default_vpc_enable_classiclink":{"default":false,"description":"[DEPRECATED](https://github.com/hashicorp/terraform/issues/31730) Should be true to enable ClassicLink in the Default VPC"},"default_vpc_enable_dns_hostnames":{"default":false,"description":"Should be true to enable DNS hostnames in the Default VPC"},"default_vpc_enable_dns_support":{"default":true,"description":"Should be true to enable DNS support in the Default VPC"},"default_vpc_name":{"default":null,"description":"Name to be used on the Default VPC"},"default_vpc_tags":{"default":{},"description":"Additional tags for the Default VPC"},"dhcp_options_domain_name":{"default":"","description":"Specifies DNS name for DHCP options set (requires enable_dhcp_options set to true)"},"dhcp_options_domain_name_servers":{"default":["AmazonProvidedDNS"],"description":"Specify a list of DNS server addresses for DHCP options set, default to AWS provided (requires enable_dhcp_options set to true)"},"dhcp_options_netbios_name_servers":{"default":[],"description":"Specify a list of netbios servers for DHCP options set (requires enable_dhcp_options set to true)"},"dhcp_options_netbios_node_type":{"default":"","description":"Specify netbios node_type for DHCP options set (requires enable_dhcp_options set to true)"},"dhcp_options_ntp_servers":{"default":[],"description":"Specify a list of NTP servers for DHCP options set (requires enable_dhcp_options set to true)"},"dhcp_options_tags":{"default":{},"description":"Additional tags for the DHCP option set (requires enable_dhcp_options set to true)"},"elasticache_acl_tags":{"default":{},"description":"Additional tags for the elasticache subnets network ACL"},"elasticache_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for elasticache subnets"},"elasticache_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Elasticache subnets inbound network ACL rules"},"elasticache_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Elasticache subnets outbound network ACL rules"},"elasticache_route_table_tags":{"default":{},"description":"Additional tags for the elasticache route tables"},"elasticache_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on elasticache subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"elasticache_subnet_group_name":{"default":null,"description":"Name of elasticache subnet group"},"elasticache_subnet_group_tags":{"default":{},"description":"Additional tags for the elasticache subnet group"},"elasticache_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 elasticache subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"elasticache_subnet_names":{"default":[],"description":"Explicit values to use in the Name tag on elasticache subnets. If empty, Name tags are generated."},"elasticache_subnet_suffix":{"default":"elasticache","description":"Suffix to append to elasticache subnets name"},"elasticache_subnet_tags":{"default":{},"description":"Additional tags for the elasticache subnets"},"elasticache_subnets":{"default":[],"description":"A list of elasticache subnets"},"enable_classiclink":{"default":null,"description":"[DEPRECATED](https://github.com/hashicorp/terraform/issues/31730) Should be true to enable ClassicLink for the VPC. Only valid in regions and accounts that support EC2 Classic."},"enable_classiclink_dns_support":{"default":null,"description":"[DEPRECATED](https://github.com/hashicorp/terraform/issues/31730) Should be true to enable ClassicLink DNS Support for the VPC. Only valid in regions and accounts that support EC2 Classic."},"enable_dhcp_options":{"default":false,"description":"Should be true if you want to specify a DHCP options set with a custom domain name, DNS servers, NTP servers, netbios servers, and/or netbios server type"},"enable_dns_hostnames":{"default":false,"description":"Should be true to enable DNS hostnames in the VPC"},"enable_dns_support":{"default":true,"description":"Should be true to enable DNS support in the VPC"},"enable_flow_log":{"default":false,"description":"Whether or not to enable VPC Flow Logs"},"enable_ipv6":{"default":false,"description":"Requests an Amazon-provided IPv6 CIDR block with a /56 prefix length for the VPC. You cannot specify the range of IP addresses, or the size of the CIDR block."},"enable_nat_gateway":{"default":false,"description":"Should be true if you want to provision NAT Gateways for each of your private networks"},"enable_public_redshift":{"default":false,"description":"Controls if redshift should have public routing table"},"enable_vpn_gateway":{"default":false,"description":"Should be true if you want to create a new VPN Gateway resource and attach it to the VPC"},"external_nat_ip_ids":{"default":[],"description":"List of EIP IDs to be assigned to the NAT Gateways (used in combination with reuse_nat_ips)"},"external_nat_ips":{"default":[],"description":"List of EIPs to be used for `nat_public_ips` output (used in combination with reuse_nat_ips and external_nat_ip_ids)"},"flow_log_cloudwatch_iam_role_arn":{"default":"","description":"The ARN for the IAM role that's used to post flow logs to a CloudWatch Logs log group. When flow_log_destination_arn is set to ARN of Cloudwatch Logs, this argument needs to be provided."},"flow_log_cloudwatch_log_group_kms_key_id":{"default":null,"description":"The ARN of the KMS Key to use when encrypting log data for VPC flow logs."},"flow_log_cloudwatch_log_group_name_prefix":{"default":"/aws/vpc-flow-log/","description":"Specifies the name prefix of CloudWatch Log Group for VPC flow logs."},"flow_log_cloudwatch_log_group_name_suffix":{"default":"","description":"Specifies the name suffix of CloudWatch Log Group for VPC flow logs."},"flow_log_cloudwatch_log_group_retention_in_days":{"default":null,"description":"Specifies the number of days you want to retain log events in the specified log group for VPC flow logs."},"flow_log_destination_arn":{"default":"","description":"The ARN of the CloudWatch log group or S3 bucket where VPC Flow Logs will be pushed. If this ARN is a S3 bucket the appropriate permissions need to be set on that bucket's policy. When create_flow_log_cloudwatch_log_group is set to false this argument must be provided."},"flow_log_destination_type":{"default":"cloud-watch-logs","description":"Type of flow log destination. Can be s3 or cloud-watch-logs."},"flow_log_file_format":{"default":"plain-text","description":"(Optional) The format for the flow log. Valid values: `plain-text`, `parquet`."},"flow_log_hive_compatible_partitions":{"default":false,"description":"(Optional) Indicates whether to use Hive-compatible prefixes for flow logs stored in Amazon S3."},"flow_log_log_format":{"default":null,"description":"The fields to include in the flow log record, in the order in which they should appear."},"flow_log_max_aggregation_interval":{"default":600,"description":"The maximum interval of time during which a flow of packets is captured and aggregated into a flow log record. Valid Values: `60` seconds or `600` seconds."},"flow_log_per_hour_partition":{"default":false,"description":"(Optional) Indicates whether to partition the flow log per hour. This reduces the cost and response time for queries."},"flow_log_traffic_type":{"default":"ALL","description":"The type of traffic to capture. Valid values: ACCEPT, REJECT, ALL."},"igw_tags":{"default":{},"description":"Additional tags for the internet gateway"},"instance_tenancy":{"default":"default","description":"A tenancy option for instances launched into the VPC"},"intra_acl_tags":{"default":{},"description":"Additional tags for the intra subnets network ACL"},"intra_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for intra subnets"},"intra_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Intra subnets inbound network ACLs"},"intra_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Intra subnets outbound network ACLs"},"intra_route_table_tags":{"default":{},"description":"Additional tags for the intra route tables"},"intra_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on intra subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"intra_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 intra subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"intra_subnet_names":{"default":[],"description":"Explicit values to use in the Name tag on intra subnets. If empty, Name tags are generated."},"intra_subnet_suffix":{"default":"intra","description":"Suffix to append to intra subnets name"},"intra_subnet_tags":{"default":{},"description":"Additional tags for the intra subnets"},"intra_subnets":{"default":[],"description":"A list of intra subnets"},"ipv4_ipam_pool_id":{"default":null,"description":"(Optional) The ID of an IPv4 IPAM pool you want to use for allocating this VPC's CIDR."},"ipv4_netmask_length":{"default":null,"description":"(Optional) The netmask length of the IPv4 CIDR you want to allocate to this VPC. Requires specifying a ipv4_ipam_pool_id."},"ipv6_cidr":{"default":null,"description":"(Optional) IPv6 CIDR block to request from an IPAM Pool. Can be set explicitly or derived from IPAM using `ipv6_netmask_length`."},"ipv6_ipam_pool_id":{"default":null,"description":"(Optional) IPAM Pool ID for a IPv6 pool. Conflicts with `assign_generated_ipv6_cidr_block`."},"ipv6_netmask_length":{"default":null,"description":"(Optional) Netmask length to request from IPAM Pool. Conflicts with `ipv6_cidr_block`. This can be omitted if IPAM pool as a `allocation_default_netmask_length` set. Valid values: `56`."},"manage_default_network_acl":{"default":false,"description":"Should be true to adopt and manage Default Network ACL"},"manage_default_route_table":{"default":false,"description":"Should be true to manage default route table"},"manage_default_security_group":{"default":false,"description":"Should be true to adopt and manage default security group"},"manage_default_vpc":{"default":false,"description":"Should be true to adopt and manage Default VPC"},"map_public_ip_on_launch":{"default":true,"description":"Should be false if you do not want to auto-assign public IP on launch"},"name":{"default":"","description":"Name to be used on all the resources as identifier"},"nat_eip_tags":{"default":{},"description":"Additional tags for the NAT EIP"},"nat_gateway_destination_cidr_block":{"default":"0.0.0.0/0","description":"Used to pass a custom destination route for private NAT Gateway. If not specified, the default 0.0.0.0/0 is used as a destination route."},"nat_gateway_tags":{"default":{},"description":"Additional tags for the NAT gateways"},"one_nat_gateway_per_az":{"default":false,"description":"Should be true if you want only one NAT Gateway per availability zone. Requires `var.azs` to be set, and the number of `public_subnets` created to be greater than or equal to the number of availability zones specified in `var.azs`."},"outpost_acl_tags":{"default":{},"description":"Additional tags for the outpost subnets network ACL"},"outpost_arn":{"default":null,"description":"ARN of Outpost you want to create a subnet in."},"outpost_az":{"default":null,"description":"AZ where Outpost is anchored."},"outpost_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for outpost subnets"},"outpost_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Outpost subnets inbound network ACLs"},"outpost_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Outpost subnets outbound network ACLs"},"outpost_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on outpost subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"outpost_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 outpost subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"outpost_subnet_names":{"default":[],"description":"Explicit values to use in the Name tag on outpost subnets. If empty, Name tags are generated."},"outpost_subnet_suffix":{"default":"outpost","description":"Suffix to append to outpost subnets name"},"outpost_subnet_tags":{"default":{},"description":"Additional tags for the outpost subnets"},"outpost_subnets":{"default":[],"description":"A list of outpost subnets inside the VPC"},"private_acl_tags":{"default":{},"description":"Additional tags for the private subnets network ACL"},"private_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for private subnets"},"private_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Private subnets inbound network ACLs"},"private_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Private subnets outbound network ACLs"},"private_route_table_tags":{"default":{},"description":"Additional tags for the private route tables"},"private_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on private subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"private_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 private subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"private_subnet_names":{"default":[],"description":"Explicit values to use in the Name tag on private subnets. If empty, Name tags are generated."},"private_subnet_suffix":{"default":"private","description":"Suffix to append to private subnets name"},"private_subnet_tags":{"default":{},"description":"Additional tags for the private subnets"},"private_subnet_tags_per_az":{"default":{},"description":"Additional tags for the private subnets where the primary key is the AZ"},"private_subnets":{"default":[],"description":"A list of private subnets inside the VPC"},"propagate_intra_route_tables_vgw":{"default":false,"description":"Should be true if you want route table propagation"},"propagate_private_route_tables_vgw":{"default":false,"description":"Should be true if you want route table propagation"},"propagate_public_route_tables_vgw":{"default":false,"description":"Should be true if you want route table propagation"},"public_acl_tags":{"default":{},"description":"Additional tags for the public subnets network ACL"},"public_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for public subnets"},"public_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Public subnets inbound network ACLs"},"public_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Public subnets outbound network ACLs"},"public_route_table_tags":{"default":{},"description":"Additional tags for the public route tables"},"public_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on public subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"public_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 public subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"public_subnet_names":{"default":[],"description":"Explicit values to use in the Name tag on public subnets. If empty, Name tags are generated."},"public_subnet_suffix":{"default":"public","description":"Suffix to append to public subnets name"},"public_subnet_tags":{"default":{},"description":"Additional tags for the public subnets"},"public_subnet_tags_per_az":{"default":{},"description":"Additional tags for the public subnets where the primary key is the AZ"},"public_subnets":{"default":[],"description":"A list of public subnets inside the VPC"},"putin_khuylo":{"default":true,"description":"Do you agree that Putin doesn't respect Ukrainian sovereignty and territorial integrity? More info: https://en.wikipedia.org/wiki/Putin_khuylo!"},"redshift_acl_tags":{"default":{},"description":"Additional tags for the redshift subnets network ACL"},"redshift_dedicated_network_acl":{"default":false,"description":"Whether to use dedicated network ACL (not default) and custom rules for redshift subnets"},"redshift_inbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Redshift subnets inbound network ACL rules"},"redshift_outbound_acl_rules":{"default":[{"cidr_block":"0.0.0.0/0","from_port":"0","protocol":"-1","rule_action":"allow","rule_number":"100","to_port":"0"}],"description":"Redshift subnets outbound network ACL rules"},"redshift_route_table_tags":{"default":{},"description":"Additional tags for the redshift route tables"},"redshift_subnet_assign_ipv6_address_on_creation":{"default":null,"description":"Assign IPv6 address on redshift subnet, must be disabled to change IPv6 CIDRs. This is the IPv6 equivalent of map_public_ip_on_launch"},"redshift_subnet_group_name":{"default":null,"description":"Name of redshift subnet group"},"redshift_subnet_group_tags":{"default":{},"description":"Additional tags for the redshift subnet group"},"redshift_subnet_ipv6_prefixes":{"default":[],"description":"Assigns IPv6 redshift subnet id based on the Amazon provided /56 prefix base 10 integer (0-256). Must be of equal length to the corresponding IPv4 subnet list"},"redshift_subnet_names":{"default":[],"description":"Explicit values to use in the Name tag on redshift subnets. If empty, Name tags are generated."},"redshift_subnet_suffix":{"default":"redshift","description":"Suffix to append to redshift subnets name"},"redshift_subnet_tags":{"default":{},"description":"Additional tags for the redshift subnets"},"redshift_subnets":{"default":[],"description":"A list of redshift subnets"},"reuse_nat_ips":{"default":false,"description":"Should be true if you don't want EIPs to be created for your NAT Gateways and will instead pass them in via the 'external_nat_ip_ids' variable"},"secondary_cidr_blocks":{"default":[],"description":"List of secondary CIDR blocks to associate with the VPC to extend the IP Address pool"},"single_nat_gateway":{"default":false,"description":"Should be true if you want to provision a single shared NAT Gateway across all of your private networks"},"tags":{"default":{},"description":"A map of tags to add to all resources"},"use_ipam_pool":{"default":false,"description":"Determines whether IPAM pool is used for CIDR allocation"},"vpc_flow_log_permissions_boundary":{"default":null,"description":"The ARN of the Permissions Boundary for the VPC Flow Log IAM Role"},"vpc_flow_log_tags":{"default":{},"description":"Additional tags for the VPC Flow Logs"},"vpc_tags":{"default":{},"description":"Additional tags for the VPC"},"vpn_gateway_az":{"default":null,"description":"The Availability Zone for the VPN Gateway"},"vpn_gateway_id":{"default":"","description":"ID of VPN Gateway to attach to the VPC"},"vpn_gateway_tags":{"default":{},"description":"Additional tags for the VPN gateway"}}},"version_constraint":"~\u003e 3.0"}},"variables":{"admin_users":{"default":["cloud_user"],"description":"List of Kubernetes admins."},"asg_dev_instance_types":{"default":["t3a.medium"],"description":"List of EC2 instance machine types to be used in EKS for development workload."},"asg_sys_instance_types":{"default":["t3a.medium"],"description":"List of EC2 instance machine types to be used in EKS for the system workload."},"autoscaling_average_cpu":{"default":60,"description":"Average CPU threshold to auto-scale EKS EC2 instances."},"autoscaling_maximum_size_by_az":{"default":2,"description":"Maximum number of EC2 instances to auto-scale our EKS cluster on each AZ."},"autoscaling_minimum_size_by_az":{"default":1,"description":"Minimum number of EC2 instances to auto-scale our EKS cluster on each AZ."},"aws_access_key":{"default":""},"aws_secret_key":{"default":""},"developer_users":{"default":[],"description":"List of Kubernetes developers."},"environment":{"default":"test"},"kube_monitoring_stack_values":{"default":"grafana:\n  adminUser: admin\n  adminPassword: admin\n  enabled: true\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - grafana.karimdevops.com\n    tls:\n      - secretName: grafana-tls\n        hosts:\n          - grafana.karimdevops.com\n\nalertmanager:\n  enabled: true\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - alertmanager.karimdevops.com\n    tls:\n      - secretName: alertmanager-tls\n        hosts:\n          - alertmanager.karimdevops.com\n\nprometheus:\n  ingress:\n    enabled: true\n    ingressClassName: nginx\n    annotations:\n      cert-manager.io/cluster-issuer: letsencrypt-production\n    hosts:\n      - prometheus.karimdevops.com\n    tls:\n      - secretName: prometheus-tls\n        hosts:\n          - prometheus.karimdevops.com\n  prometheusSpec:\n    replicas: 2\n    replicaExternalLabelName: prometheus_replica\n    prometheusExternalLabelName: prometheus_cluster\n    enableAdminAPI: false\n    logFormat: logfmt\n    logLevel: info\n    retention: 120h\n    serviceMonitorSelectorNilUsesHelmValues: false\n    serviceMonitorNamespaceSelector: {}\n    serviceMonitorSelector: {}\n    resources:\n      limits:\n        memory: 2Gi\n      requests:\n        cpu: 500m\n        memory: 2Gi\n\nprometheus-node-exporter:\n  resources:\n    limits:\n      memory: 30Mi\n    requests:\n      cpu: 20m\n      memory: 30Mi\n\nkube-state-metrics:\n  resources:\n    limits:\n      memory: 300Mi\n    requests:\n      cpu: 10m\n      memory: 300Mi\n\nprometheusOperator:\n  resources:\n    limits:\n      memory: 400Mi\n    requests:\n      cpu: 10m\n      memory: 400Mi\n"},"main_network_block":{"default":"10.0.0.0/16","description":"Base CIDR block to be used in our VPC."},"name_prefix":{"default":"cluster-1","description":"Prefix to be used on each infrastructure object Name created in AWS."},"nginx_ingress_values":{"default":"    controller:\n      kind: Deployment\n      podAnnotations:\n        prometheus.io/path: \"/metrics\"\n        prometheus.io/port: \"10254\"\n        prometheus.io/scrape: \"true\"\n      stats:\n        enabled: true\n      metrics:\n        enabled: true\n      publishService:\n        enabled: true\n        publishServicePath: \"$(POD_NAMESPACE)/nginx-ingress-controller\"\n      service:\n        enableHttp: \"true\"\n        enableHttps: \"true\"\n        externalTrafficPolicy: Local\n        type: LoadBalancer\n      autoscaling:\n        enabled: true\n        maxReplicas: 4\n        minReplicas: 1\n        targetCPUUtilizationPercentage: 85\n      resources:\n        requests:\n          cpu: 150m\n          memory: 128Mi\n        limits:\n          cpu: 1\n          memory: 512Mi\n      updateStrategy:\n        type: RollingUpdate\n        rollingUpdate:\n          maxSurge: 1\n          maxUnavailable: 0\n      admissionWebhooks:\n        enabled: false\n    rbac:\n      create: true\n    defaultBackend:\n      enabled: false\n"},"region":{"default":"eu-west-3"},"subnet_prefix_extension":{"default":4,"description":"CIDR block bits extension to calculate CIDR blocks of each subnetwork."},"zone_offset":{"default":8,"description":"CIDR block bits extension offset to calculate Public subnets, avoiding collisions with Private subnets."}}}},"relevant_attributes":[{"resource":"module.vpc.aws_egress_only_internet_gateway.this[0]","attribute":["id"]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role.this[0]","attribute":["name"]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role.this[0]","attribute":["unique_id"]},{"resource":"module.vpc.aws_route_table_association.database","attribute":[]},{"resource":"module.eks.aws_security_group.cluster[0]","attribute":["id"]},{"resource":"module.eks.aws_security_group.node[0]","attribute":["arn"]},{"resource":"module.eks.module.self_managed_node_group.aws_launch_template.this[0]","attribute":["arn"]},{"resource":"module.eks.module.fargate_profile.aws_eks_fargate_profile.this[0]","attribute":["id"]},{"resource":"module.vpc.aws_subnet.intra","attribute":[]},{"resource":"module.vpc.aws_network_acl.database[0]","attribute":["arn"]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_launch_template.this[0]","attribute":["arn"]},{"resource":"module.ebs_csi_irsa_role.aws_iam_role.this[0]","attribute":["unique_id"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["main_route_table_id"]},{"resource":"module.vpc.aws_route_table.database","attribute":[]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_eks_node_group.this[0]","attribute":["arn"]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].module.user_data.data.cloudinit_config.linux_eks_managed_node_group[0]","attribute":["rendered"]},{"resource":"module.eks.module.eks_managed_node_group.aws_security_group.this[0]","attribute":["arn"]},{"resource":"module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]","attribute":["default_cooldown"]},{"resource":"module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]","attribute":["name"]},{"resource":"module.eks.module.self_managed_node_group.aws_launch_template.this[0]","attribute":["name"]},{"resource":"module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]","attribute":["max_size"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["owner_id"]},{"resource":"module.vpc.aws_vpc_ipv4_cidr_block_association.this","attribute":[]},{"resource":"module.vpc.aws_network_acl.intra[0]","attribute":["id"]},{"resource":"module.eks.aws_eks_cluster.this[0]","attribute":["platform_version"]},{"resource":"module.eks.module.kms.aws_kms_key.this[0]","attribute":["key_id"]},{"resource":"module.eks.module.self_managed_node_group.aws_security_group.this[0]","attribute":["id"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["enable_dns_hostnames"]},{"resource":"module.eks.aws_iam_role.this[0]","attribute":["name"]},{"resource":"module.eks.aws_eks_addon.this","attribute":[]},{"resource":"module.eks.module.eks_managed_node_group.aws_launch_template.this[0]","attribute":["id"]},{"resource":"module.vpc.aws_default_vpc.this[0]","attribute":["default_route_table_id"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["id"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["cidr_block"]},{"resource":"module.eks.module.kms.aws_kms_external_key.this[0]","attribute":["arn"]},{"resource":"module.eks.aws_cloudwatch_log_group.this[0]","attribute":["name"]},{"resource":"module.vpc.aws_default_vpc.this[0]","attribute":["cidr_block"]},{"resource":"module.vpc.aws_route_table.public","attribute":[]},{"resource":"module.eks.aws_iam_role.this[0]","attribute":["arn"]},{"resource":"module.eks.module.self_managed_node_group.aws_launch_template.this[0]","attribute":["id"]},{"resource":"module.vpc.aws_subnet.elasticache","attribute":[]},{"resource":"module.vpc.aws_vpn_gateway.this[0]","attribute":["arn"]},{"resource":"module.vpc.aws_subnet.public","attribute":[]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_eks_node_group.this[0]","attribute":["labels"]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_launch_template.this[0]","attribute":["default_version"]},{"resource":"module.eks.module.self_managed_node_group.module.user_data.data.cloudinit_config.linux_eks_managed_node_group[0]","attribute":["rendered"]},{"resource":"module.vpc.aws_default_vpc.this[0]","attribute":["default_security_group_id"]},{"resource":"module.vpc.aws_route.private_ipv6_egress","attribute":[]},{"resource":"module.vpc.aws_subnet.private","attribute":[]},{"resource":"module.eks.module.kms.aws_kms_grant.this","attribute":[]},{"resource":"module.eks.aws_eks_cluster.this[0]","attribute":["identity",0,"oidc",0,"issuer"]},{"resource":"module.eks.module.eks_managed_node_group.aws_eks_node_group.this[0]","attribute":["labels"]},{"resource":"module.vpc.aws_default_vpc.this[0]","attribute":["default_network_acl_id"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["arn"]},{"resource":"module.vpc.aws_network_acl.redshift[0]","attribute":["arn"]},{"resource":"module.vpc.aws_iam_role.vpc_flow_log_cloudwatch[0]","attribute":["arn"]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_launch_template.this[0]","attribute":["id"]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_launch_template.this[0]","attribute":["name"]},{"resource":"module.eks.module.fargate_profile.aws_iam_role.this[0]","attribute":["arn"]},{"resource":"module.eks.module.eks_managed_node_group.aws_launch_template.this[0]","attribute":["default_version"]},{"resource":"module.vpc.aws_vpn_gateway_attachment.this[0]","attribute":["vpn_gateway_id"]},{"resource":"module.vpc.aws_subnet.database","attribute":[]},{"resource":"module.eks.aws_security_group.cluster[0]","attribute":["arn"]},{"resource":"module.vpc.aws_route.private_nat_gateway","attribute":[]},{"resource":"module.eks.aws_eks_identity_provider_config.this","attribute":[]},{"resource":"module.vpc.aws_egress_only_internet_gateway.this","attribute":[]},{"resource":"module.eks.module.fargate_profile.aws_iam_role.this[0]","attribute":["name"]},{"resource":"module.eks.module.kms.aws_kms_external_key.this[0]","attribute":["policy"]},{"resource":"module.vpc.aws_network_acl.elasticache[0]","attribute":["id"]},{"resource":"module.vpc.aws_network_acl.redshift[0]","attribute":["id"]},{"resource":"module.vpc.aws_network_acl.public[0]","attribute":["id"]},{"resource":"module.ebs_csi_irsa_role.aws_iam_role.this[0]","attribute":["arn"]},{"resource":"module.eks.module.eks_managed_node_group.aws_eks_node_group.this[0]","attribute":["taint"]},{"resource":"module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]","attribute":["arn"]},{"resource":"module.eks.module.self_managed_node_group.aws_iam_instance_profile.this[0]","attribute":["id"]},{"resource":"aws_eip.nat_gw_elastic_ip","attribute":["id"]},{"resource":"module.vpc.aws_db_subnet_group.database[0]","attribute":["id"]},{"resource":"module.eks.module.kms.aws_kms_alias.this","attribute":[]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_eks_node_group.this[0]","attribute":["resources"]},{"resource":"module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]","attribute":["health_check_type"]},{"resource":"module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]","attribute":["min_size"]},{"resource":"data.aws_availability_zones.available","attribute":["names"]},{"resource":"module.eks.module.fargate_profile.aws_iam_role.this[0]","attribute":["unique_id"]},{"resource":"module.vpc.aws_network_acl.outpost[0]","attribute":["id"]},{"resource":"module.vpc.aws_route.public_internet_gateway_ipv6[0]","attribute":["id"]},{"resource":"module.eks.module.eks_managed_node_group.aws_eks_node_group.this[0]","attribute":["id"]},{"resource":"module.eks.module.self_managed_node_group.aws_autoscaling_schedule.this","attribute":[]},{"resource":"module.eks.module.self_managed_node_group.aws_iam_role.this[0]","attribute":["arn"]},{"resource":"module.eks.module.kms.aws_kms_key.this[0]","attribute":["arn"]},{"resource":"module.vpc.aws_elasticache_subnet_group.elasticache[0]","attribute":["name"]},{"resource":"module.vpc.aws_subnet.redshift","attribute":[]},{"resource":"module.vpc.aws_redshift_subnet_group.redshift[0]","attribute":["id"]},{"resource":"module.vpc.aws_network_acl.database[0]","attribute":["id"]},{"resource":"module.vpc.aws_route_table.redshift","attribute":[]},{"resource":"module.vpc.aws_route_table_association.redshift","attribute":[]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_security_group.this[0]","attribute":["id"]},{"resource":"data.aws_caller_identity.current","attribute":["account_id"]},{"resource":"module.eks.module.eks_managed_node_group.aws_launch_template.this[0]","attribute":["latest_version"]},{"resource":"module.eks.module.fargate_profile.aws_eks_fargate_profile.this[0]","attribute":["pod_execution_role_arn"]},{"resource":"module.vpc.aws_default_vpc.this[0]","attribute":["enable_dns_hostnames"]},{"resource":"module.vpc.aws_route_table.elasticache","attribute":[]},{"resource":"module.eks.aws_eks_cluster.this[0]","attribute":["arn"]},{"resource":"module.ebs_csi_irsa_role.aws_iam_role.this[0]","attribute":["name"]},{"resource":"module.eks.module.eks_managed_node_group.aws_iam_role.this[0]","attribute":["unique_id"]},{"resource":"module.eks.module.self_managed_node_group.aws_iam_role.this[0]","attribute":["name"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["default_route_table_id"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["ipv6_association_id"]},{"resource":"module.vpc.aws_route.public_internet_gateway[0]","attribute":["id"]},{"resource":"module.eks.aws_eks_cluster.this[0]","attribute":["id"]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_eks_node_group.this[0]","attribute":["taint"]},{"resource":"module.eks.module.fargate_profile.aws_eks_fargate_profile.this[0]","attribute":["status"]},{"resource":"module.eks.aws_cloudwatch_log_group.this[0]","attribute":["arn"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["ipv6_cidr_block"]},{"resource":"module.vpc.aws_network_acl.outpost[0]","attribute":["arn"]},{"resource":"module.vpc.aws_route.database_ipv6_egress[0]","attribute":["id"]},{"resource":"module.vpc.aws_db_subnet_group.database[0]","attribute":["name"]},{"resource":"module.eks.aws_eks_cluster.this[0]","attribute":["endpoint"]},{"resource":"module.eks.data.tls_certificate.this[0]","attribute":["certificates",0,"sha1_fingerprint"]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_eks_node_group.this[0]","attribute":["id"]},{"resource":"module.iam_assumable_role_admin.aws_iam_role.this[0]","attribute":["path"]},{"resource":"module.eks.module.eks_managed_node_group.aws_launch_template.this[0]","attribute":["name"]},{"resource":"module.eks.module.self_managed_node_group.aws_iam_instance_profile.this[0]","attribute":["unique_id"]},{"resource":"module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]","attribute":["vpc_zone_identifier"]},{"resource":"module.eks.module.kms.aws_kms_external_key.this[0]","attribute":["id"]},{"resource":"module.vpc.aws_route.database_internet_gateway[0]","attribute":["id"]},{"resource":"module.eks.aws_iam_role.this[0]","attribute":["unique_id"]},{"resource":"module.eks.module.eks_managed_node_group.aws_eks_node_group.this[0]","attribute":["resources"]},{"resource":"module.eks.module.eks_managed_node_group.aws_iam_role.this[0]","attribute":["arn"]},{"resource":"module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]","attribute":["availability_zones"]},{"resource":"module.vpc.aws_default_vpc.this[0]","attribute":["main_route_table_id"]},{"resource":"module.vpc.aws_vpc_dhcp_options.this[0]","attribute":["id"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["instance_tenancy"]},{"resource":"module.vpc.aws_route_table_association.private","attribute":[]},{"resource":"module.vpc.aws_default_vpc.this[0]","attribute":["id"]},{"resource":"module.vpc.aws_network_acl.intra[0]","attribute":["arn"]},{"resource":"module.vpc.aws_vpn_gateway.this[0]","attribute":["id"]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_iam_role.this[0]","attribute":["arn"]},{"resource":"module.vpc.aws_internet_gateway.this[0]","attribute":["id"]},{"resource":"module.vpc.aws_network_acl.public[0]","attribute":["arn"]},{"resource":"module.vpc.aws_route_table.public[0]","attribute":["id"]},{"resource":"module.eks.module.self_managed_node_group.aws_launch_template.this[0]","attribute":["image_id"]},{"resource":"module.eks.module.self_managed_node_group.data.aws_ami.eks_default[0]","attribute":["image_id"]},{"resource":"module.vpc.aws_customer_gateway.this","attribute":[]},{"resource":"module.vpc.aws_default_vpc.this[0]","attribute":["instance_tenancy"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["default_network_acl_id"]},{"resource":"module.vpc.aws_nat_gateway.this","attribute":[]},{"resource":"module.eks.aws_eks_cluster.this[0]","attribute":["name"]},{"resource":"module.iam_assumable_role_admin.aws_iam_role.this[0]","attribute":["unique_id"]},{"resource":"module.vpc.aws_default_vpc.this[0]","attribute":["arn"]},{"resource":"module.vpc.aws_flow_log.this[0]","attribute":["id"]},{"resource":"module.eks.module.fargate_profile.aws_eks_fargate_profile.this[0]","attribute":["arn"]},{"resource":"module.eks.module.kms.data.aws_iam_policy_document.this[0]","attribute":["json"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["enable_dns_support"]},{"resource":"module.vpc.aws_route_table.intra","attribute":[]},{"resource":"module.vpc.aws_elasticache_subnet_group.elasticache[0]","attribute":["id"]},{"resource":"module.vpc.aws_route_table_association.redshift_public","attribute":[]},{"resource":"module.vpc.aws_route.database_nat_gateway","attribute":[]},{"resource":"module.eks.module.eks_managed_node_group.aws_iam_role.this[0]","attribute":["name"]},{"resource":"module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]","attribute":["id"]},{"resource":"module.eks.module.self_managed_node_group.aws_launch_template.this[0]","attribute":["latest_version"]},{"resource":"module.vpc.aws_vpc.this[0]","attribute":["default_security_group_id"]},{"resource":"module.vpc.aws_network_acl.private[0]","attribute":["id"]},{"resource":"module.vpc.aws_route_table_association.public","attribute":[]},{"resource":"module.eks.aws_eks_cluster.this[0]","attribute":["vpc_config",0,"cluster_security_group_id"]},{"resource":"module.eks.aws_eks_cluster.this[0]","attribute":["version"]},{"resource":"module.eks.aws_iam_openid_connect_provider.oidc_provider[0]","attribute":["arn"]},{"resource":"module.vpc.aws_cloudwatch_log_group.flow_log[0]","attribute":["arn"]},{"resource":"module.vpc.aws_default_vpc.this[0]","attribute":["enable_dns_support"]},{"resource":"module.vpc.aws_eip.nat","attribute":[]},{"resource":"module.vpc.aws_subnet.outpost","attribute":[]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_security_group.this[0]","attribute":["arn"]},{"resource":"module.eks.aws_eks_cluster.this[0]","attribute":["status"]},{"resource":"module.eks.aws_eks_cluster.this[0]","attribute":["certificate_authority",0,"data"]},{"resource":"module.eks.module.eks_managed_node_group[\"system\"].aws_launch_template.this[0]","attribute":["latest_version"]},{"resource":"module.ebs_csi_irsa_role.aws_iam_role.this[0]","attribute":["path"]},{"resource":"module.eks.module.eks_managed_node_group.aws_security_group.this[0]","attribute":["id"]},{"resource":"module.eks.module.eks_managed_node_group.aws_launch_template.this[0]","attribute":["arn"]},{"resource":"module.vpc.aws_network_acl.private[0]","attribute":["arn"]},{"resource":"module.iam_assumable_role_admin.aws_iam_role.this[0]","attribute":["name"]},{"resource":"module.vpc.aws_vpc_ipv4_cidr_block_association.this[0]","attribute":["vpc_id"]},{"resource":"module.eks.module.kms.aws_kms_key.this[0]","attribute":["id"]},{"resource":"module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]","attribute":["health_check_grace_period"]},{"resource":"module.eks.module.self_managed_node_group.aws_autoscaling_group.this[0]","attribute":["desired_capacity"]},{"resource":"module.vpc.aws_network_acl.elasticache[0]","attribute":["arn"]},{"resource":"module.eks.aws_security_group.node[0]","attribute":["id"]},{"resource":"module.eks.module.self_managed_node_group.aws_iam_role.this[0]","attribute":["unique_id"]},{"resource":"module.vpc.aws_route_table.private","attribute":[]},{"resource":"module.vpc.aws_internet_gateway.this[0]","attribute":["arn"]},{"resource":"module.eks.module.self_managed_node_group.aws_security_group.this[0]","attribute":["arn"]},{"resource":"module.eks.module.self_managed_node_group.aws_iam_instance_profile.this[0]","attribute":["arn"]},{"resource":"module.eks.module.kms.aws_kms_key.this[0]","attribute":["policy"]},{"resource":"module.vpc.aws_route_table_association.intra","attribute":[]},{"resource":"module.vpc.aws_route_table_association.elasticache","attribute":[]},{"resource":"module.iam_assumable_role_admin.aws_iam_role.this[0]","attribute":["arn"]},{"resource":"module.eks.module.eks_managed_node_group.aws_eks_node_group.this[0]","attribute":["arn"]}],"checks":[{"address":{"kind":"var","module":"module.vpc","name":"flow_log_file_format","to_display":"module.vpc.var.flow_log_file_format"},"status":"pass","instances":[{"address":{"module":"module.vpc","to_display":"module.vpc.var.flow_log_file_format"},"status":"pass"}]}],"timestamp":"2024-10-24T09:26:34Z","applyable":false,"complete":true,"errored":false}
